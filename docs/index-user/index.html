<!DOCTYPE HTML>
<html lang="en-US">
<head profile="http://www.w3.org/2005/10/profile">
  <meta charset="UTF-8">
  <title>Machinekit Introduction</title>
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <meta name="generator" content="Jekyll v3.1.6">
  <!--  <link rel="alternate" type="application/rss+xml" title="Jekyll • Simple, blog-aware, static sites - Feed" href="/feed.xml"> -->

  


  <link rel="alternate" type="application/atom+xml" title="Recent commits to Machinekit's master branch" href="https://github.com/machinekit/machinekit/commits/master.atom">
  <link href='http://fonts.googleapis.com/css?family=Alegreya+Sans' rel='stylesheet' type='text/css'>
  <link href='http://fonts.googleapis.com/css?family=Alegreya+Sans+SC' rel='stylesheet' type='text/css'>
  <link rel="stylesheet" href="/css/screen.css">
  <link rel="icon" type="image/x-icon" href="/favicon.ico">
  <!--[if lt IE 9]>
  <script src="/js/html5shiv.js"></script>
  <script src="/js/respond.min.js"></script>
  <![endif]-->
  <link rel="icon" type="image/png" href="/images/favicon.png" />
</head>


<body class="wrap">
  <header>
  <nav class="mobile-nav show-on-mobiles">
    <ul>
  <li class="">
    <a href="/">Home</a>
  </li>
  <li class="">
    <a href="/about/">About</a>
  </li>
  <li class="">
    <a href="/community/home">
      <span class="hide-on-mobiles">Community</span>
      <span class="show-on-mobiles">Community</span>
    </a>
  </li>
  <li class="current">
    <a href="/docs/">
      <span class="hide-on-mobiles">Documentation</span>
      <span class="show-on-mobiles">Docs</span>
    </a>
  </li>
  <li class="">
    <a href="http://blog.machinekit.io/">Blog</a>
  <li>
  <li>
    <a href="https://github.com/machinekit/machinekit">GitHub</a>
  </li>
</ul>

  </nav>
  <div class="grid">
      <div class="unit one-quarter hide-on-mobiles" >
        <img id='logo' src="/images/gear-256px-color.png"> 
      </div>
         
    <div class="unit three-quarters">
      <h1 id="maintitle" class="hide-on-mobiles">Machinekit</h1>
      <h1 id="maintitle-mobile" class="show-on-mobiles">Machinekit</h1>
       <nav class="main-nav hide-on-mobiles">
         <ul>
  <li class="">
    <a href="/">Home</a>
  </li>
  <li class="">
    <a href="/about/">About</a>
  </li>
  <li class="">
    <a href="/community/home">
      <span class="hide-on-mobiles">Community</span>
      <span class="show-on-mobiles">Community</span>
    </a>
  </li>
  <li class="current">
    <a href="/docs/">
      <span class="hide-on-mobiles">Documentation</span>
      <span class="show-on-mobiles">Docs</span>
    </a>
  </li>
  <li class="">
    <a href="http://blog.machinekit.io/">Blog</a>
  <li>
  <li>
    <a href="https://github.com/machinekit/machinekit">GitHub</a>
  </li>
</ul>

       </nav>
    </div>
  </div>
</header>


  <div id="content">
    <section class="docs">
    <div class="grid">

      <div class="docs-nav-mobile unit whole show-on-mobiles">
  <select onchange="if (this.value) window.location.href=this.value">
    <option value="">Navigate the docs…</option>
    
    <optgroup label="For starters">
      


  

  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
      <option value="http://test.machinekit.io/docs/index-getting-started/">Getting Started</option>
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  

  

  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
      <option value="http://test.machinekit.io/docs/index-user/">Machinekit Introduction</option>
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  

  

  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
      <option value="http://test.machinekit.io/docs/index-HAL/">Hardware Abstract Layer</option>
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  

  

  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
      <option value="http://test.machinekit.io/docs/getting-help/">Getting help</option>
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  


    </optgroup>
    
    <optgroup label="Developing">
      


  

  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
      <option value="http://test.machinekit.io/docs/index-integrator/">Integrator Manual</option>
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  

  

  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
      <option value="http://test.machinekit.io/docs/index-developer/">Developer manual</option>
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  

  

  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
      <option value="http://test.machinekit.io/docs/documenting/documenting/">Documenting</option>
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  

  

  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
      <option value="http://test.machinekit.io/docs/developing/develop-index/">Various developing links</option>
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  


    </optgroup>
    
    <optgroup label="Manpages">
      


  

  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
      <option value="http://test.machinekit.io/docs/man/man1/">HAL Utilities and GUIs</option>
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  

  

  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
      <option value="http://test.machinekit.io/docs/man/man3/">RTAPI and HAL Functions</option>
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  

  

  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
      <option value="http://test.machinekit.io/docs/man/man9/">HAL Components</option>
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  


    </optgroup>
    
  </select>
</div>


      <div class="unit four-fifths">
        <article>
          <h1>Machinekit Introduction</h1>
          <div id="toc" class="toc">
<div id="toctitle">Table of Contents</div>
<ul class="sectlevel1">
<li><a href="#machinekit-user-introduction">Machinekit User Introduction</a>
<ul class="sectlevel2">
<li><a href="#this-manual">This Manual</a></li>
<li><a href="#how-machinekit-works-a-id-how-machinekit-works-a">How Machinekit Works<a id="how-Machinekit-works"></a></a></li>
<li><a href="#graphical-user-interfaces-a-id-sub-graphical-user-interfaces-a">Graphical User Interfaces<a id="sub:Graphical-User-Interfaces"></a></a></li>
<li><a href="#virtual-control-panels">Virtual Control Panels</a></li>
<li><a href="#languages">Languages</a></li>
<li><a href="#thinking-like-a-machine-operator-a-id-sec-thinking-operator-a">Thinking Like a Machine Operator<a id="sec:Thinking-Operator"></a></a></li>
<li><a href="#modes-of-operation-a-id-sub-modes-of-operation-a">Modes of Operation<a id="sub:Modes-of-Operation"></a></a></li>
</ul>
</li>
<li><a href="#important-user-concepts">Important User Concepts</a>
<ul class="sectlevel2">
<li><a href="#sec:trajectory-control">Trajectory Control</a></li>
<li><a href="#g-code">G Code</a></li>
<li><a href="#homing">Homing</a></li>
<li><a href="#tool-changes">Tool Changes</a></li>
<li><a href="#coordinate-systems">Coordinate Systems</a></li>
<li><a href="#machine-configurations">Machine Configurations</a></li>
</ul>
</li>
<li><a href="#user-interfaces">User Interfaces</a></li>
<li><a href="#configuration-selector">CONFIGURATION SELECTOR</a></li>
<li><a href="#axis-gui">AXIS GUI</a>
<ul class="sectlevel2">
<li><a href="#introduction">Introduction</a></li>
<li><a href="#getting-started">Getting Started</a></li>
<li><a href="#axis-display">AXIS Display</a></li>
<li><a href="#keyboard-controls">Keyboard Controls</a></li>
<li><a href="#show-machinekit-status">Show Machinekit Status</a></li>
<li><a href="#mdi-interface">MDI interface</a></li>
<li><a href="#axis-remote">axis-remote</a></li>
<li><a href="#sec:Manual-Tool-Change">Manual Tool Change</a></li>
<li><a href="#python-modules">Python modules</a></li>
<li><a href="#using-axis-in-lathe-mode">Using AXIS in Lathe Mode</a></li>
<li><a href="#advanced-configuration">Advanced Configuration</a></li>
</ul>
</li>
<li><a href="#ngcgui">NGCGUI</a>
<ul class="sectlevel2">
<li><a href="#overview">Overview</a></li>
<li><a href="#demonstration-configurations">Demonstration Configurations</a></li>
<li><a href="#library-locations">Library Locations</a></li>
<li><a href="#standalone-usage">Standalone Usage</a></li>
<li><a href="#embedding-ngcgui">Embedding NGCGUI</a></li>
<li><a href="#file-requirements-for-ngcgui-compatibility">File Requirements for NGCGUI Compatibility</a></li>
<li><a href="#db25-example">DB25 Example</a></li>
</ul>
</li>
<li><a href="#gmoccapy">GMOCCAPY</a>
<ul class="sectlevel2">
<li><a href="#introduction-2">Introduction</a></li>
<li><a href="#requirements">Requirements</a></li>
<li><a href="#how-to-get-gmoccapy">How To Get gmoccapy</a></li>
<li><a href="#basic-configuration">Basic Configuration</a></li>
<li><a href="#hal-pins">HAL Pins</a></li>
<li><a href="#gmoccapy:auto-tool-measurement">Auto Tool Measurement</a></li>
<li><a href="#gmoccapy:settings-page">The Settings Page</a></li>
<li><a href="#gmoccapy:lathe-section">Lathe Specific Section</a></li>
<li><a href="#plasma-specific-section">Plasma Specific Section</a></li>
<li><a href="#video-on-you-tube">Video On You Tube</a></li>
<li><a href="#known-problems">Known problems</a></li>
</ul>
</li>
<li><a href="#touchy-gui">Touchy GUI</a>
<ul class="sectlevel2">
<li><a href="#panel-configuration">Panel Configuration</a></li>
<li><a href="#setup">Setup</a></li>
</ul>
</li>
<li><a href="#tklinuxcnc-gui">TkLinuxcnc GUI</a>
<ul class="sectlevel2">
<li><a href="#introduction-3">Introduction</a></li>
<li><a href="#getting-started-2">Getting Started</a></li>
<li><a href="#elements-of-the-tklinuxcnc-window">Elements of the TkLinuxcnc window</a></li>
<li><a href="#keyboard-controls-2">Keyboard Controls</a></li>
</ul>
</li>
<li><a href="#mini-gui">MINI GUI</a>
<ul class="sectlevel2">
<li><a href="#introduction-4">Introduction</a></li>
<li><a href="#screen-layout">Screen layout</a></li>
<li><a href="#menu-bar">Menu Bar</a></li>
<li><a href="#control-button-bar">Control Button Bar</a></li>
<li><a href="#left-column">Left Column</a></li>
<li><a href="#right-column">Right Column</a></li>
<li><a href="#keyboard-bindings">Keyboard Bindings</a></li>
<li><a href="#misc">Misc</a></li>
</ul>
</li>
<li><a href="#keystick-gui">KEYSTICK GUI</a>
<ul class="sectlevel2">
<li><a href="#introduction-5">Introduction</a></li>
<li><a href="#installing">Installing</a></li>
<li><a href="#using">Using</a></li>
</ul>
</li>
<li><a href="#using-machinekit">Using Machinekit</a></li>
<li><a href="#cnc-machine-overview">CNC Machine Overview</a>
<ul class="sectlevel2">
<li><a href="#mechanical-components">Mechanical Components</a></li>
<li><a href="#control-and-data-components">Control and Data Components</a></li>
<li><a href="#interpreter-interaction-with-switches">Interpreter Interaction with Switches</a></li>
<li><a href="#sub:Tool-Table">Tool Table</a></li>
<li><a href="#sec:Parameters">Parameters</a></li>
</ul>
</li>
<li><a href="#coordinate-system">Coordinate System</a>
<ul class="sectlevel2">
<li><a href="#introduction-6">Introduction</a></li>
<li><a href="#the-machine-position-command-g53">The Machine Position Command (G53)</a></li>
<li><a href="#fixture-offsets-g54-g59-3">Fixture Offsets (G54-G59.3)</a></li>
<li><a href="#g92-offsets-a-id-sec-g92-offsets-a">G92 Offsets<a id="sec:G92-Offsets"></a></a></li>
<li><a href="#sample-program-using-offsets">Sample Program Using Offsets</a></li>
</ul>
</li>
<li><a href="#tool-compensation">Tool Compensation</a>
<ul class="sectlevel2">
<li><a href="#tool-length-offsets">Tool Length Offsets</a></li>
<li><a href="#sec:tool-table">Tool Table</a></li>
<li><a href="#sec:cutter-compensation">Cutter Compensation</a></li>
</ul>
</li>
<li><a href="#g-code-overview">G Code Overview</a>
<ul class="sectlevel2">
<li><a href="#overview-3">Overview</a></li>
<li><a href="#format-of-a-line">Format of a line</a></li>
<li><a href="#block-delete-a-id-sub-block-delete-a">Block Delete <a id="sub:block-delete"></a> </a></li>
<li><a href="#line-number">Line Number</a></li>
<li><a href="#word">Word</a></li>
<li><a href="#sub:Number">Number</a></li>
<li><a href="#sec:parameters">Parameters</a></li>
<li><a href="#sec:Expressions">Expressions</a></li>
<li><a href="#sec:Binary-Operators">Binary Operators</a></li>
<li><a href="#sub:Unary-Operation-Value">Functions<a id="sub:functions"></a></a></li>
<li><a href="#repeated-items">Repeated Items</a></li>
<li><a href="#item-order">Item order</a></li>
<li><a href="#commands-and-machine-modes">Commands and Machine Modes</a></li>
<li><a href="#polar-coordinates">Polar Coordinates</a></li>
<li><a href="#sec:Modal-Groups">Modal Groups</a></li>
<li><a href="#sec:comments">Comments</a></li>
<li><a href="#sec:messages">Messages</a></li>
<li><a href="#sec:probe-logging">Probe Logging</a></li>
<li><a href="#sec:log">Logging</a></li>
<li><a href="#sec:debug-messages">Debug Messages</a></li>
<li><a href="#sec:print-messages">Print Messages</a></li>
<li><a href="#comment-parameters">Comment Parameters</a></li>
<li><a href="#file-requirements">File Requirements</a></li>
<li><a href="#file-size">File Size</a></li>
<li><a href="#sec:Order-of-Execution">G Code Order of Execution</a></li>
<li><a href="#g-code-best-practices">G Code Best Practices</a></li>
<li><a href="#linear-and-rotary-axis">Linear and Rotary Axis</a></li>
<li><a href="#common-error-messages">Common Error Messages</a></li>
</ul>
</li>
<li><a href="#numbered-parameters-persistence">Appendix A: Numbered Parameters persistence</a></li>
<li><a href="#g-codes">G Codes</a>
<ul class="sectlevel2">
<li><a href="#conventions">Conventions</a></li>
<li><a href="#g-code-quick-reference-table-a-id-quick-reference-table-a">G Code Quick Reference Table<a id="quick-reference-table"></a></a></li>
<li><a href="#sec:G0">G0 Rapid Move</a></li>
<li><a href="#sec:G1">G1 Linear Move</a></li>
<li><a href="#sec:G2-G3-Arc">G2, G3 Arc Move</a></li>
<li><a href="#sec:G4-Dwell">G4 Dwell</a></li>
<li><a href="#sec:G5_1-B-spline">G5.1 Quadratic B-spline</a></li>
<li><a href="#sec:G5_2-G5_3-NURBs">G5.2 G5.3 NURBs Block</a></li>
<li><a href="#sec:G7-Diameter-Mode">G7 Lathe Diameter Mode</a></li>
<li><a href="#sec:G8-Radius-Mode">G8 Lathe Radius Mode</a></li>
<li><a href="#sec:G10-L1_">G10 L1 Set Tool Table</a></li>
<li><a href="#sec:G10-L2_">G10 L2 Set Coordinate System</a></li>
<li><a href="#sec:G10-L10">G10 L10 Set Tool Table</a></li>
<li><a href="#sec:G10-L11">G10 L11 Set Tool Table</a></li>
<li><a href="#sec:G10-L20">G10 L20 Set Coordinate System</a></li>
<li><a href="#sec:G17-G18-G19">G17 - G19.1 Plane Selection</a></li>
<li><a href="#sec:G20-G21-Units">G20, G21 Units</a></li>
<li><a href="#sec:G28-G28_1">G28, G28.1 Go to Predefined Position</a></li>
<li><a href="#sec:G30-G30_1">G30, G30.1 Go to Predefined Position</a></li>
<li><a href="#sec:G33-Spindle-Sync">G33 Spindle Synchronized Motion</a></li>
<li><a href="#sec:G33_1-Rigid-Tapping">G33.1 Rigid Tapping</a></li>
<li><a href="#sec:G38-probe">G38.x Straight Probe</a></li>
<li><a href="#sec:G40">G40 Compensation Off</a></li>
<li><a href="#sec:G41-G42">G41, G42 Cutter Compensation</a></li>
<li><a href="#sec:G41_1-G42_1">G41.1, G42.1 Dynamic Cutter Compensation</a></li>
<li><a href="#sec:G43">G43 Tool Length Offset</a></li>
<li><a href="#sec:G43_1">G43.1: Dynamic Tool Length Offset</a></li>
<li><a href="#sec:G49-Tool">G49: Cancel Tool Length Compensation</a></li>
<li><a href="#sec:G53-Move-in">G53 Move in Machine Coordinates</a></li>
<li><a href="#sec:G54-G59_3">G54-G59.3 Select Coordinate System</a></li>
<li><a href="#sec:G61-G61_1">G61, G61.1 Exact Path Mode</a></li>
<li><a href="#sec:G64">G64 Path Blending</a></li>
<li><a href="#sec:G73-Drilling-Cycle">G73 Drilling Cycle with Chip Breaking</a></li>
<li><a href="#sec:G76-Threading-Canned">G76 Threading Cycle</a></li>
<li><a href="#sec:G80-G89">Canned Cycles</a></li>
<li><a href="#sec:G80-Cancel-Modal">G80 Cancel Canned Cycle</a></li>
<li><a href="#sec:G81-Drilling-Cycle">G81 Drilling Cycle</a></li>
<li><a href="#sec:G82-Drilling-Dwell">G82 Drilling Cycle, Dwell</a></li>
<li><a href="#sec:G83-Drilling-Peck">G83 Peck Drilling Cycle</a></li>
<li><a href="#sec:G84-Right-Hand-Tapping">G84 Right-Hand Tapping Cycle</a></li>
<li><a href="#sec:G85-Boring-Feed-Out">G85 Boring Cycle, Feed Out</a></li>
<li><a href="#sec:G86-Boring-Rapid-Out">G86 Boring Cycle, Spindle Stop, Rapid Move Out</a></li>
<li><a href="#sec:G87-Back-Boring">G87 Back Boring Cycle</a></li>
<li><a href="#sec:G88-Boring-Manual-Out">G88 Boring Cycle, Spindle Stop, Manual Out</a></li>
<li><a href="#sec:G90-G91">G90, G91 Distance Mode</a></li>
<li><a href="#sec:G90_1-G91_1">G90.1, G91.1 Arc Distance Mode</a></li>
<li><a href="#sec:G92">G92 Coordinate System Offset</a></li>
<li><a href="#sec:G92_1-G92_2">G92.1, G92.2 Reset Coordinate System Offsets</a></li>
<li><a href="#sec:G92_3">G92.3 Restore Axis Offsets</a></li>
<li><a href="#sec:G93-G94-G95-Mode">G93, G94, G95: Feed Rate Mode</a></li>
<li><a href="#sec:G96-G97-Spindle">G96, G97 Spindle Control Mode</a></li>
<li><a href="#sec:G98-G99-Set">G98, G99 Canned Cycle Return Level</a></li>
</ul>
</li>
<li><a href="#m-codes">M Codes</a>
<ul class="sectlevel2">
<li><a href="#m-code-quick-reference">M Code Quick Reference Table</a></li>
<li><a href="#sec:M0-M1">M0, M1 Program Pause</a></li>
<li><a href="#sec:M2-M30">M2, M30 Program End</a></li>
<li><a href="#sec:M60">M60 Pallet Change Pause</a></li>
<li><a href="#sec:M3-M4-M5">M3, M4, M5 Spindle Control</a></li>
<li><a href="#sec:M6-Tool-Change">M6 Tool Change</a></li>
<li><a href="#sec:M7-M8-M9">M7, M8, M9 Coolant Control</a></li>
<li><a href="#sec:M19">M19 Orient Spindle</a></li>
<li><a href="#sec:M48-M49-Override">M48, M49 Speed and Feed Override Control</a></li>
<li><a href="#sec:M50-Feed-Override">M50 Feed Override Control</a></li>
<li><a href="#sec:M51-Spindle-Override">M51 Spindle Speed Override Control</a></li>
<li><a href="#sec:M52-Adaptive-Feed-Control">M52 Adaptive Feed Control</a></li>
<li><a href="#sec:M53-Feed-Stop-Control">M53 Feed Stop Control</a></li>
<li><a href="#sec:M61-Set-Current-Tool-Number">M61 Set Current Tool Number</a></li>
<li><a href="#sec:M62-M65">M62 to M65 Output Control</a></li>
<li><a href="#sec:M66-Input-Control">M66 Wait on Input</a></li>
<li><a href="#sec:M67-Analog-Output">M67 Synchronized Analog Output</a></li>
<li><a href="#sec:M68-Analog-Output">M68 Analog Output</a></li>
<li><a href="#m70-save-modal-state-a-id-sec-m70-save-modal-state-a">M70 Save Modal State<a id="sec:M70-Save-Modal-State"></a></a></li>
<li><a href="#m71-invalidate-stored-modal-state-a-id-sec-m71-invalidate-stored-modal-state-a">M71 Invalidate Stored Modal State<a id="sec:M71-Invalidate-Stored-Modal-State"></a></a></li>
<li><a href="#m72-restore-modal-state-a-id-sec-m72-restore-modal-state-a">M72 Restore Modal State<a id="sec:M72-Restore-Modal-State"></a></a></li>
<li><a href="#m73-save-and-autorestore-modal-state-a-id-sec-m73-save-autorestore-modal-state-a">M73 Save and Autorestore Modal State<a id="sec:M73-Save-Autorestore-Modal-State"></a></a></li>
<li><a href="#sec:M100-to-M199">M100 to M199 User Defined Commands</a></li>
</ul>
</li>
<li><a href="#o-codes">O Codes</a>
<ul class="sectlevel2">
<li><a href="#sec:subroutines">Subroutines</a></li>
<li><a href="#sec:looping">Looping</a></li>
<li><a href="#sec:conditional">Conditional</a></li>
<li><a href="#sec:repeat">Repeat</a></li>
<li><a href="#indirection">Indirection</a></li>
<li><a href="#calling-files">Calling Files</a></li>
<li><a href="#subroutine-return-values">Subroutine return values</a></li>
</ul>
</li>
<li><a href="#other-codes">Other Codes</a>
<ul class="sectlevel2">
<li><a href="#sec:F-feed-rate">F: Set Feed Rate</a></li>
<li><a href="#sec:S-spindle-speed">S: Set Spindle Speed</a></li>
<li><a href="#sec:T-Select-Tool">T: Select Tool</a></li>
</ul>
</li>
<li><a href="#g-code-examples">G Code Examples</a>
<ul class="sectlevel2">
<li><a href="#mill-examples">Mill Examples</a></li>
<li><a href="#lathe-examples">Lathe Examples</a></li>
</ul>
</li>
<li><a href="#lathe-user-information">Lathe User Information</a>
<ul class="sectlevel2">
<li><a href="#lathe-mode">Lathe Mode</a></li>
<li><a href="#sec:lathe-tool-table">Lathe Tool Table</a></li>
<li><a href="#lathe-tool-orientation-a-id-lathe-tool-orientation-a">Lathe Tool Orientation<a id="lathe-tool-orientation"></a></a></li>
<li><a href="#tool-touch-off">Tool Touch Off</a></li>
<li><a href="#spindle-synchronized-motion">Spindle Synchronized Motion</a></li>
<li><a href="#arcs">Arcs</a></li>
<li><a href="#tool-path">Tool Path</a></li>
</ul>
</li>
<li><a href="#rs274-ngc-differences">RS274/NGC Differences</a>
<ul class="sectlevel2">
<li><a href="#changes-from-rs274-ngc">Changes from RS274/NGC</a></li>
<li><a href="#additions-to-rs274-ngc">Additions to RS274/NGC</a></li>
</ul>
</li>
<li><a href="#image-to-g-code">Image to G Code</a>
<ul class="sectlevel2">
<li><a href="#what-is-a-depth-map">What is a depth map?</a></li>
<li><a href="#integrating-image-to-gcode-with-the-axis-user-interface">Integrating image-to-gcode with the AXIS user interface</a></li>
<li><a href="#using-image-to-gcode">Using image-to-gcode</a></li>
<li><a href="#option-reference">Option Reference</a></li>
</ul>
</li>
<li><a href="#glossary">Glossary</a></li>
<li><a href="#legal-section">Legal Section</a>
<ul class="sectlevel2">
<li><a href="#copyright-terms">Copyright Terms</a></li>
<li><a href="#gnu-free-documentation-license">GNU Free Documentation License</a></li>
</ul>
</li>
</ul>
</div>
<div class="sect1">
<h2 id="machinekit-user-introduction">Machinekit User Introduction</h2>
<div class="sectionbody">
<div class="paragraph">
<p><a id="cha:machinekit-user-introduction"></a> </p>
</div>
<div class="sect2">
<h3 id="this-manual">This Manual</h3>
<div class="paragraph">
<p>The focus of this manual is on 'using' Machinekit. It is intended to be used
once Machinekit is installed and configured. For standard installations see
the Getting Started Guide for step by step instructions to get you up
and going. For detailed information on installation and configuration
of Machinekit see the Integrator Manual.</p>
</div>
</div>
<div class="sect2">
<h3 id="how-machinekit-works-a-id-how-machinekit-works-a">How Machinekit Works<a id="how-Machinekit-works"></a></h3>
<div class="paragraph">
<p>The Enhanced Machine Controller (Machinekit) is a lot more than just another
CNC mill program. It can control machine tools, robots, or
other automated devices. It can control servo motors, stepper motors,
relays, and other devices related to machine tools.</p>
</div>
<div class="paragraph">
<p>There are four main components to the Machinekit software:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>a motion controller (EMCMOT)</p>
</li>
<li>
<p>a discrete I/O controller (EMCIO)</p>
</li>
<li>
<p>a task executor which coordinates them (EMCTASK)</p>
</li>
<li>
<p>and one of several graphical user interfaces.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>In addition there is a layer called HAL (Hardware Abstraction Layer)
which allows configuration of Machinekit without the need of recompiling.</p>
</div>
<div class="imageblock" style="text-align: center">
<div class="content">
<img src="../common/images/whatstep1.png" alt="whatstep1">
</div>
<div class="title">Figure 1. Simple Machinekit Controlled Machine<a id="fig:Typical_machine"></a></div>
</div>
<div class="paragraph">
<p>The above figure shows a simple block diagram showing
what a typical 3-axis Machinekit system might look like. This diagram shows a
stepper motor system. The PC, running Linux as its operating
system, is actually controlling the stepper motor drives by sending
signals through the printer port. These signals (pulses) make the
stepper drives move the stepper motors. The Machinekit system can also run servo
motors via servo interface cards or by using an extended parallel port
to connect with external control boards. As we examine each of the
components that make up an Machinekit system we will remind the reader of
this typical machine.</p>
</div>
</div>
<div class="sect2">
<h3 id="graphical-user-interfaces-a-id-sub-graphical-user-interfaces-a">Graphical User Interfaces<a id="sub:Graphical-User-Interfaces"></a></h3>
<div class="paragraph">
<p>A user interface is the part of the Machinekit that the machine tool
operator interacts with. The Machinekit comes with several types of user
interfaces:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="#cha:axis-gui">'Axis'</a>, the standard GUI interface.</p>
</li>
</ul>
</div>
<div class="imageblock" style="text-align: center">
<div class="content">
<img src="../common/images/axis-2.5.png" alt="axis 2.5">
</div>
<div class="title">Figure 2. Axis GUI<a id="fig:The-Axis-GUI"></a></div>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="#cha:touchy-gui">'Touchy'</a>, a touch screen GUI.</p>
</li>
</ul>
</div>
<div class="imageblock" style="text-align: center">
<div class="content">
<img src="../common/images/touchy.png" alt="touchy">
</div>
<div class="title">Figure 3. Touchy GUI<a id="fig:touchy-gui"></a></div>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="#cha:ngcgui">'NGCGUI'</a>, a subroutine GUI that provides 'fill in the blanks'
programming of G code. It also supports concatenation of subroutine files
to enable you to build a complete G code file without programming.</p>
</li>
</ul>
</div>
<div class="imageblock" style="text-align: center">
<div class="content">
<img src="../common/images/ngcgui.png" alt="ngcgui">
</div>
<div class="title">Figure 4. NGCGUI GUI embedded into Axis<a id="fig:ngcgui-gui"></a></div>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="#cha:mini-gui">'Mini'</a>, a Tcl/Tk-based GUI</p>
</li>
</ul>
</div>
<div class="imageblock" style="text-align: center">
<div class="content">
<img src="../common/images/mini.png" alt="mini">
</div>
<div class="title">Figure 5. The Mini GUI<a id="fig:The-Mini-GUI"></a></div>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="#cha:tkmachinekit-gui">'TkMachinekit'</a>, a Tcl/Tk-based GUI</p>
</li>
</ul>
</div>
<div class="imageblock" style="text-align: center">
<div class="content">
<img src="../common/images/tkemc.png" alt="tkemc">
</div>
<div class="title">Figure 6. The TkMachinekit GUI<a id="fig:The-TkMachinekit-GUI"></a></div>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="#cha:keystick-gui">'Keystick'</a>, a character-based screen graphics program
suitable for minimal installations (without the X server running).</p>
</li>
</ul>
</div>
<div class="imageblock" style="text-align: center">
<div class="content">
<img src="../common/images/keystick.png" alt="keystick">
</div>
<div class="title">Figure 7. The Keystick GUI<a id="fig:The-Keystick-GUI"></a></div>
</div>
<div class="ulist">
<ul>
<li>
<p>'Xemc', an X-Windows program. A simulator configuration of Xemc can be
ran from the configuration picker.</p>
</li>
<li>
<p>'halui' - a HAL based user interface which allows to control Machinekit
using knobs and switches. See the Integrators manual for more information
on halui.</p>
</li>
<li>
<p>'machinekitrsh' - a telnet based user interface which allows commands to
be sent to Machinekit from remote computers.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="virtual-control-panels">Virtual Control Panels</h3>
<div class="ulist">
<ul>
<li>
<p>'PyVCP' a python based virtual control panel that can be added to the
Axis GUI or be stand alone.</p>
</li>
</ul>
</div>
<div class="imageblock" style="text-align: center">
<div class="content">
<img src="../common/images/axis-pyvcp.png" alt="axis pyvcp">
</div>
<div class="title">Figure 8. PyVCP with Axis<a id="fig:pyvcp-with-axis"></a></div>
</div>
<div class="ulist">
<ul>
<li>
<p>'GladeVCP' - a glade based virtual control panel that can be added to
the Axis GUI or be stand alone.</p>
</li>
</ul>
</div>
<div class="imageblock" style="text-align: center">
<div class="content">
<img src="../common/images/axis-gladevcp.png" alt="axis gladevcp">
</div>
<div class="title">Figure 9. GladeVCP with Axis<a id="fig:gladevcp-with-axis"></a></div>
</div>
<div class="paragraph">
<p>See the Integrators manual for more information on Virtual Control Panels.</p>
</div>
</div>
<div class="sect2">
<h3 id="languages">Languages</h3>
<div class="paragraph">
<p>Machinekit uses translation files to translate Machinekit User Interfaces into many
languages. You just need to log in with the language you intend to use
and when you start up Machinekit it comes up in that language. If your
language has not been translated contact the mailing list if you can assist in the translation.</p>
</div>
</div>
<div class="sect2">
<h3 id="thinking-like-a-machine-operator-a-id-sec-thinking-operator-a">Thinking Like a Machine Operator<a id="sec:Thinking-Operator"></a></h3>
<div class="paragraph">
<p>This book will not even pretend that it can teach you to run a mill or
a lathe. Becoming a machinist takes time and hard work. An author once
said, "We learn from experience, if at all." Broken tools, gouged
vices, and scars are the evidence of lessons taught. Good part finish,
close tolerances, and careful work are the evidence of lessons learned.
No machine, no computer program, can take the place of human
experience.</p>
</div>
<div class="paragraph">
<p>As you begin to work with the Machinekit program, you will need to place
yourself in the position of operator. You need to think of yourself in
the role of the one in charge of a machine. It is a machine that is
either waiting for your command or executing the command that you have
just given it. Throughout these pages we will give information that
will help you become a good operator of the Machinekit system. You will need
some information right up front here so that the following pages will
make sense to you.</p>
</div>
</div>
<div class="sect2">
<h3 id="modes-of-operation-a-id-sub-modes-of-operation-a">Modes of Operation<a id="sub:Modes-of-Operation"></a></h3>
<div class="paragraph">
<p>When Machinekit is running, there are three different major modes used
for inputting commands. These are 'Manual', 'Auto',
and 'MDI'. Changing from one mode to another makes a big
difference in the way that the Machinekit control behaves. There are specific things
that can be done in one mode that cannot be done in another. An
operator can home an axis in manual mode but not in auto or MDI modes.
An operator can cause the machine to execute a whole file full of
G-codes in the auto mode but not in manual or MDI.</p>
</div>
<div class="paragraph">
<p>In manual mode, each command is entered separately. In human terms a
manual command might be 'turn on coolant' or 'jog X at 25 inches per
minute'. These are roughly equivalent to flipping a switch or turning
the hand wheel for an axis. These commands are normally handled on one
of the graphical interfaces by pressing a button with the mouse or
holding down a key on the keyboard. In auto mode, a similar button or
key press might be used to load or start the running of a whole program
of G-code that is stored in a file. In the MDI mode the operator might
type in a block of code and tell the machine to execute it by pressing
the &lt;return&gt; or &lt;enter&gt; key on the keyboard.</p>
</div>
<div class="paragraph">
<p>Some motion control commands are available and will cause the same
changes in motion in all modes. These include 'abort',
'estop', and 'feed rate override').
Commands like these should be self explanatory.</p>
</div>
<div class="paragraph">
<p>The AXIS user interface hides some of the distinctions between Auto
and the other modes by making Auto-commands available at most times. It
also blurs the distinction between Manual and MDI because some Manual
commands like Touch Off are actually implemented by sending MDI
commands. It does this by automatically changing to the mode that is
needed for the action the user has requested.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="important-user-concepts">Important User Concepts</h2>
<div class="sectionbody">
<div class="paragraph">
<p><a id="cha:important-user-concepts"></a> </p>
</div>
<div class="paragraph">
<p>This chapter covers important user concepts that should be understood
before attempting to run a CNC machine with g code.</p>
</div>
<div class="sect2">
<h3 id="sec:trajectory-control">Trajectory Control</h3>
<div class="paragraph">
<p></p>
</div>
<div class="sect3">
<h4 id="trajectory-planning">Trajectory Planning</h4>
<div class="paragraph">
<p>Trajectory planning, in general, is the means by which Machinekit follows the
path specified by your G Code program, while still operating within the
limits of your machinery.</p>
</div>
<div class="paragraph">
<p>A G Code program can never be fully obeyed. For example, imagine you
specify as a single-line program the following move:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>G1 X1 F10 (G1 is linear move, X1 is the destination, F10 is the speed)</pre>
</div>
</div>
<div class="paragraph">
<p>In reality, the whole move can&#8217;t be made at F10, since the machine
must accelerate from a stop, move toward X=1, and then decelerate to
stop again. Sometimes part of the move is done at F10, but for many
moves, especially short ones, the specified feed rate is never reached
at all. Having short moves in your G Code can cause your machine to
slow down and speed up for the longer moves if the 'naive cam detector'
is not employed with G64 Pn.</p>
</div>
<div class="paragraph">
<p>The basic acceleration and deceleration described above is not complex
and there is no compromise to be made. In the INI file the specified
machine constraints such as maximum axis velocity and axis acceleration
must be obeyed by the trajectory planner.</p>
</div>
</div>
<div class="sect3">
<h4 id="path-following">Path Following</h4>
<div class="paragraph">
<p>A less straightforward problem is that of path following. When you
program a corner in G Code, the trajectory planner can do several
things, all of which are right in some cases: it can decelerate to a
stop exactly at the coordinates of the corner, and then accelerate in
the new direction. It can also do what is called blending, which is to
keep the feed rate up while going through the corner, making it
necessary to round the corner off in order to obey machine constraints.
You can see that there is a trade off here: you can slow down to get
better path following, or keep the speed up and have worse path
following. Depending on the particular cut, the material, the tooling,
etc., the programmer may want to compromise differently.</p>
</div>
<div class="paragraph">
<p>Rapid moves also obey the current trajectory control. With moves long
enough to reach maximum velocity on a machine with low acceleration and
no path tolerance specified, you can get a fairly round corner.</p>
</div>
</div>
<div class="sect3">
<h4 id="programming-the-planner">Programming the Planner</h4>
<div class="paragraph">
<p>The trajectory control commands are as follows:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>'G61' - (Exact Path Mode) visits the programmed point exactly, even though
that means it might temporarily come to a complete stop in order to
change direction to the next programmed point.</p>
</li>
<li>
<p>'G61.1' - (Exact Stop Mode) tells the planner to come to an exact stop at every
segment&#8217;s end.</p>
</li>
<li>
<p>'G64' - (Blend Without Tolerance Mode) G64 is the default setting when you
start Machinekit. G64 is just blending and the naive cam detector is not
enabled. G64 and G64 P0 tell the planner to sacrifice path following
accuracy in order to keep the feed rate up. This is necessary for some
types of material or tooling where exact stops are harmful, and can
work great as long as the programmer is careful to keep in mind that
the tool&#8217;s path will be somewhat more curvy than the program specifies.
When using G0 (rapid) moves with G64 use caution on clearance moves and
allow enough distance to clear obstacles based on the acceleration
capabilities of your machine.</p>
</li>
<li>
<p>'G64 P- Q-' - (Blend With Tolerance Mode) This enables the 'naive cam detector' and
enables blending with a tolerance. If you program G64 P0.05, you tell
the planner that you want continuous feed, but at programmed corners
you want it to slow down enough so that the tool path can stay within
0.05 user units of the programmed path. The exact amount of slowdown
depends on the geometry of the programmed corner and the machine
constraints, but the only thing the programmer needs to worry about is
the tolerance. This gives the programmer complete control over the path
following compromise. The blend tolerance can be changed throughout the
program as necessary. Beware that a specification of G64 P0 has the
same effect as G64 alone (above), which is necessary for backward
compatibility for old G Code programs. See the G Code Chapter for more
information on G64 P- Q-.</p>
</li>
<li>
<p>'Blending without tolerance' - The controlled point will touch each specified movement at at least
one point. The machine will never move at such a speed that it cannot
come to an exact stop at the end of the current movement (or next
movement, if you pause when blending has already started). The distance
from the end point of the move is as large as it needs to be to keep up
the best contouring feed.</p>
</li>
<li>
<p>'Naive Cam Detector' - Successive G1 moves that involve only the XYZ axes that deviate less
than Q- from a straight line are merged into a single straight line.
This merged movement replaces the individual G1 movements for the
purposes of blending with tolerance. Between successive movements, the
controlled point will pass no more than P- from the actual endpoints of
the movements. The controlled point will touch at least one point on
each movement. The machine will never move at such a speed that it
cannot come to an exact stop at the end of the current movement (or
next movement, if you pause when blending has already started) On G2/3
moves in the G17 (XY) plane when the maximum deviation of an arc from a
straight line is less than the G64 Q- tolerance the arc is broken into
two lines (from start of arc to midpoint, and from midpoint to end).
those lines are then subject to the naive cam algorithm for lines.
Thus, line-arc, arc-arc, and arc-line cases as well as line-line
benefit from the 'naive cam detector'. This improves contouring
performance by simplifying the path.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>In the following figure the blue line represents the actual machine
velocity. The red lines are the acceleration capability of the machine.
The horizontal lines below each plot is the planned move. The upper
plot shows how the trajectory planner will slow the machine down when
short moves are encountered to stay within the limits of the machines
acceleration setting to be able to come to an exact stop at the end of
the next move. The bottom plot shows the effect of the Naive Cam
Detector to combine the moves and do a better job of keeping the
velocity as planned.</p>
</div>
<div class="imageblock" style="text-align: center">
<div class="content">
<img src="../common/images/naive-cam.png" alt="naive cam">
</div>
<div class="title">Figure 10. Naive Cam Detector</div>
</div>
</div>
<div class="sect3">
<h4 id="planning-moves">Planning Moves</h4>
<div class="paragraph">
<p>Make sure moves are 'long enough' to suit your machine/material.
Principally because of the rule that the machine will never move at
such a speed that it cannot come to a complete stop at the end of the
current movement, there is a minimum movement length that will allow
the machine to keep up a requested feed rate with a given acceleration
setting.</p>
</div>
<div class="paragraph">
<p>The acceleration and deceleration phase each use half the ini file
MAX_ACCELERATION. In a blend that is an exact reversal, this causes the
total axis acceleration to equal the ini file MAX_ACCELERATION. In
other cases, the actual machine acceleration is somewhat less than the
ini file acceleration</p>
</div>
<div class="paragraph">
<p>To keep up the feed rate, the move must be longer than the distance it
takes to accelerate from 0 to the desired feed rate and then stop
again. Using A as <strong>1/2</strong> the ini file MAX_ACCELERATION
and F as the feed rate <strong>in units per second</strong>, the acceleration time is
<strong>t<sub>a</sub> = F/A</strong> and the acceleration distance is
<strong>d<sub>a</sub> = F*t<sub>a</sub>/2</strong>. The deceleration time
and distance are the same, making the critical distance
<strong>d = d<sub>a</sub> + d<sub>d</sub> = 2 * d<sub>a</sub> = F<sup>2</sup>/A</strong>.</p>
</div>
<div class="paragraph">
<p>For example, for a feed rate of 1 inch per second and an acceleration of
<strong>10 inches/sec<sup>2</sup></strong>, the critical distance is
<strong>1<sup>2</sup>/10 = 1/10 = 0.1 inches</strong>.</p>
</div>
<div class="paragraph">
<p>For a feed rate of 0.5 inch per second, the critical distance is
<strong>5<sup>2</sup>/100 = 25/10 = 0.025</strong> inches.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="g-code">G Code</h3>
<div class="sect3">
<h4 id="defaults">Defaults</h4>
<div class="paragraph">
<p>When Machinekit first starts up many G and M codes are loaded by default. The
current active G and M codes can be viewed on the MDI tab in the
'Active G-Codes:' window in the AXIS interface. These G and M codes
define the behavior of Machinekit and it is important that you understand what
each one does before running Machinekit. The defaults can be changed when
running a G-Code file and left in a different state than when you
started your Machinekit session. The best practice is to set the defaults
needed for the job in the preamble of your G-Code file and not assume
that the defaults have not changed.</p>
</div>
</div>
<div class="sect3">
<h4 id="feed-rate">Feed Rate</h4>
<div class="paragraph">
<p>How the feed rate is applied depends on if an axis involved with the
move is a rotary axis. Read and understand the <a href="#sub:feed-rate">Feed Rate</a>
section if you have a rotary axis or a lathe.</p>
</div>
</div>
<div class="sect3">
<h4 id="tool-radius-offset">Tool Radius Offset</h4>
<div class="paragraph">
<p>Tool Radius Offset (G41/42) requires that the tool be able to touch
somewhere along each programmed move without gouging the two adjacent
moves. If that is not possible with the current tool diameter you will
get an error. A smaller diameter tool may run without an error on the
same path. This means you can program a cutter to pass down a path that
is narrower than the cutter without any errors. See the
<a href="#sec:cutter-compensation">Cutter Compensation</a> Section
for more information.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="homing">Homing</h3>
<div class="paragraph">
<p>After starting Machinekit each axis must be homed prior to running a program
or running a MDI command.</p>
</div>
<div class="paragraph">
<p>If your machine does not have home switches a match mark on each axis
can aid in homing the machine coordinates to the same place each time.</p>
</div>
<div class="paragraph">
<p>Once homed your soft limits that are set in the ini file will be used.</p>
</div>
<div class="paragraph">
<p>If you want to deviate from the default behavior, or want to use the
Mini interface you will need to set the option NO_FORCE_HOMING = 1 in
the [TRAJ] section of your ini file. More information on homing can be
found in the Integrator Manual.</p>
</div>
</div>
<div class="sect2">
<h3 id="tool-changes">Tool Changes</h3>
<div class="paragraph">
<p>There are several options when doing manual tool changes. See the
[EMCIO] section of the Integrator Manual for information on
configuration of these options. Also see the G28 and G30 section of the
User Manual.</p>
</div>
</div>
<div class="sect2">
<h3 id="coordinate-systems">Coordinate Systems</h3>
<div class="paragraph">
<p>The Coordinate Systems can be confusing at first. Before running a CNC
machine you must understand the basics of the coordinate systems used
by Machinekit. In depth information on the Machinekit Coordinate Systems
is in the <a href="#cha:coordinate-system">Coordinate System</a> Section of this
manual.</p>
</div>
<div class="sect3">
<h4 id="g53-machine-coordinate">G53 Machine Coordinate</h4>
<div class="paragraph">
<p>When you home Machinekit you set the G53 Machine Coordinate System to 0 for
each axis homed.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>No other coordinate systems or tool offsets are changed by homing.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The only time you move in the G53 machine coordinate system is when
you program a G53 on the same line as a move. Normally you are in the
G54 coordinate system.</p>
</div>
</div>
<div class="sect3">
<h4 id="g54-59-3-user-coordinates">G54-59.3 User Coordinates</h4>
<div class="paragraph">
<p>Normally you use the G54 Coordinate System. When an offset is applied
to a current user coordinate system a small blue ball with lines will
be at the machine origin when your DRO is displaying 'Position:
Relative Actual' in Axis. If your offsets are temporary use the Zero
Coordinate System from the Machine menu or program 'G10 L2 P1 X0 Y0 Z0'
at the end of your G Code file. Change the 'P' number to suit the
coordinate system you wish to clear the offset in.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Offsets stored in a user coordinate system are retained when Machinekit is
shut down.</p>
</li>
<li>
<p>Using the 'Touch Off' button in Axis sets an offset for the chosen
User Coordinate System.</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="when-you-re-lost">When You&#8217;re Lost</h4>
<div class="paragraph">
<p>If you&#8217;re having trouble getting 0,0,0 on the DRO when you think you
should, you may have some offsets programmed in and need to remove
them.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Move to the Machine origin with G53 G0 X0 Y0 Z0</p>
</li>
<li>
<p>Clear any G92 offset with G92.1</p>
</li>
<li>
<p>Use the G54 coordinate system with G54</p>
</li>
<li>
<p>Set the G54 coordinate system to be the same as the
machine coordinate system with G10 L2 P1 X0 Y0 Z0 R0</p>
</li>
<li>
<p>Turn off tool offsets with G49</p>
</li>
<li>
<p>Turn on the Relative Coordinate Display from the menu</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Now you should be at the machine origin X0 Y0 Z0 and the relative
coordinate system should be the same as the machine coordinate system.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="machine-configurations">Machine Configurations</h3>
<div class="paragraph">
<p>The following diagram shows a typical mill showing direction of travel
of the tool and the mill table and limit switches. Notice how the mill table
moves in the opposite direction of the Cartesian coordinate system arrows
shown by the 'Tool Direction' image. This makes the 'tool' move in the
correct direction in relation to the material.</p>
</div>
<div class="imageblock" style="text-align: center">
<div class="content">
<img src="../common/images/mill-diagram.png" alt="mill diagram">
</div>
<div class="title">Figure 11. Mill Configuration</div>
</div>
<div class="paragraph">
<p>The following diagram shows a typical lathe showing direction of travel
of the tool and limit switches.</p>
</div>
<div class="imageblock" style="text-align: center">
<div class="content">
<img src="../common/images/lathe-diagram.png" alt="lathe diagram">
</div>
<div class="title">Figure 12. Lathe Configuration</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="user-interfaces">User Interfaces</h2>
<div class="sectionbody">

</div>
</div>
<div class="sect1">
<h2 id="configuration-selector">CONFIGURATION SELECTOR</h2>
<div class="sectionbody">
<div class="paragraph">
<p><a id="cha:selector"></a> </p>
</div>
<div class="paragraph">
<p>The Configuraton Selector gui is activated from the system main
menu when CNC / Machinekit is selected.</p>
</div>
<div class="paragraph">
<p>The Configuration Selector offers a selection of configurations
organized:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>My Configurations -------- User configurations</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>Sample Configurations ---- Sample configurations that
                           can be copied to 'My Configurations'</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>sim ------------------- simulation configurations. These
                        can be used for testing or learning</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>by_interface ---------- configurations organized by interface</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>by_machine ------------ configurations organized by machine</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>ARM  ------------------ configurations for BeagleBone Black
                        and other ARM boards</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>apps ------------------ applications that do not require
                        starting machinekit but may be useful
                        for testing or trying applications
                        like pyvcp or gladevcp</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>attic ----------------- obsolete or historical configurations</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>hm2_stepper  ---------- example config using 5i25 PCI board
                        in a stepper configuration</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>pru-examples ---------- examples using hal_pru_generic driver</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>stepper  -------------- generic 3 axis stepper mill config</pre>
</div>
</div>
<div class="paragraph">
<p>The sim configurations are often the most useful starting point for
new users and are organized around supported guis:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>axis
gmoccapy
gscreen
low_graphics
tklinuxcnc
touchy</pre>
</div>
</div>
<div class="paragraph">
<p>A gui configuration directory may contain subdirectories with
configurations that illustrate special situations or the embedding
of other applications.</p>
</div>
<div class="paragraph">
<p>The by_interface configurations are organized around common, supported
interfaces like:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>general mechatronics
mesa
parport
pico
pluto
servotogo
vigilant
vitalsystems</pre>
</div>
</div>
<div class="paragraph">
<p>Related hardware may be required to use these configurations as
starting points for a system.</p>
</div>
<div class="paragraph">
<p>The by_machine configurations are organized around complete, known
systems like:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>boss
cooltool
sherline
smithy
tormach</pre>
</div>
</div>
<div class="paragraph">
<p>A complete system may be required to use these configurations.</p>
</div>
<div class="paragraph">
<p>The apps items are typically 1) utilities that don&#8217;t require
starting machinekit or 2) demonstrations of applications that can
be used with machinekit:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>info ------ creates a file with system information that
            may be useful for problem diagnosis
gladevcp -- example gladevcp applications
halrun  --- starts halrun in an terminal
latency --- applications to investigate latency
parport --- applications to test parport
pyvcp ----- example pyvcp applications
xhc-hb04 -- applications to test an xhc-hb04 USB wireless MPG</pre>
</div>
</div>
<div class="paragraph">
<p>The attic directory stores obsolete or historical configurations.</p>
</div>
<div class="paragraph">
<p>When started, the Configuration Selector allows the user to pick one
of their existing configurations (My Configurations) or select
a new one (from the Sample Configurations) to be copied to their
home directory.  Copied configurations will appear under My Configurations
on the next invocation of the Configuration Selector.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
Under the Apps directory, only applications that are usefully modified
by the user are offered for copying to the user&#8217;s directory.
</td>
</tr>
</table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="axis-gui">AXIS GUI</h2>
<div class="sectionbody">
<div class="paragraph">
<p><a id="cha:axis-gui"></a> </p>
</div>
<div class="sect2">
<h3 id="introduction">Introduction</h3>
<div class="paragraph">
<p>AXIS is a graphical front-end for Machinekit which features a live
preview and backplot. It is written in Python and uses
Tk and OpenGL to display its user interface.</p>
</div>
<div class="imageblock" style="text-align: center">
<div class="content">
<img src="../gui/images/axis-2.5.png" alt="axis 2.5">
</div>
<div class="title">Figure 13. AXIS Window<a id="cap:AXIS-Window"></a></div>
</div>
</div>
<div class="sect2">
<h3 id="getting-started">Getting Started</h3>
<div class="paragraph">
<p>If your configuration is not currently set up to use AXIS,
you can change it by editing the .ini file. In the
section '[DISPLAY]' change the 'DISPLAY' line to read
'DISPLAY = axis'.</p>
</div>
<div class="paragraph">
<p>The sample configuration
'sim/axis.ini' is already configured to use AXIS as its front-end.</p>
</div>
<div class="sect3">
<h4 id="a-typical-session">A Typical Session</h4>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Start Machinekit.</p>
</li>
<li>
<p>Reset E-STOP (F1) and turn the Machine Power (F2) on.</p>
</li>
<li>
<p>Home all axes.</p>
</li>
<li>
<p>Load the g-code file.</p>
</li>
<li>
<p>Use the preview plot to verify that the program is correct.</p>
</li>
<li>
<p>Load the material.</p>
</li>
<li>
<p>Set the proper offset for each axis by jogging and using the Touch
Off button as needed.</p>
</li>
<li>
<p>Run the program.</p>
</li>
</ol>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
To run the same program again depends on your setup and requirements.
You might need to load more material and set offsets or move over and
set an offset then run the program again. If your material is fixtured
then you might need to only run the program again. See the
<a href="#sub:axis-machine-menu">Machine Menu</a> for more information on the run
command.
</td>
</tr>
</table>
</div>
</div>
</div>
<div class="sect2">
<h3 id="axis-display">AXIS Display</h3>
<div class="paragraph">
<p>The AXIS window contains the following elements:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>A display area that shows one of the following:</p>
<div class="ulist">
<ul>
<li>
<p>a preview of the loaded file (in this case,
'axis.ngc'), as well as the current location of the CNC
machine&#8217;s 'controlled point'. Later, this area will display the path
the CNC machine has moved through, called the 'backplot'</p>
</li>
<li>
<p>a large readout showing the current position and all offsets.</p>
</li>
</ul>
</div>
</li>
<li>
<p>A menu bar and toolbar that allow you to perform various actions</p>
</li>
<li>
<p>'Manual Control Tab' - which allows you to make the
machine move, turn the spindle on or off, and turn the coolant on or
off if included in the ini file.</p>
</li>
<li>
<p>'MDI Tab' - where G-code programs can be entered manually,
one line at a time. This also shows the 'Active G Codes' which shows
which modal G Codes are in effect.</p>
</li>
<li>
<p>'Feed Override' - which allows you to scale
the speed of programmed motions. The default maximum is 120%
and can be set to a different
value in the ini file. See the Integrator Manual for more information
on this setting.</p>
</li>
<li>
<p>'Spindle Override' - which allows you to
scale the spindle speed up or down.</p>
</li>
<li>
<p>'Jog Speed' - which allows you to set the jog speed
within the limits set in the ini file. See the Integrator Manual for
more information on the ini file.</p>
</li>
<li>
<p>'Max Velocity' - which allows you to restrict the maximum velocity of all
programmed motions (except spindle synchronized motion).</p>
</li>
<li>
<p>A text display area that shows the loaded G-Code.</p>
</li>
<li>
<p>A status bar which shows the state of the machine. In this screen
shot, the machine is turned on, does not have a tool inserted, and the
displayed position is 'Relative' (showing all offsets), and 'Actual'
(showing feedback position).</p>
</li>
</ul>
</div>
<div class="sect3">
<h4 id="menu-items">Menu Items</h4>
<div class="paragraph">
<p><a id="sec:axis-menu"></a> </p>
</div>
<div class="paragraph">
<p>Some menu items might be grayed out depending on how you have your
.ini file configured. For more information on configuration see the
Integrator Manual.</p>
</div>
<div class="paragraph">
<p><strong>File Menu</strong></p>
</div>
<div class="ulist">
<ul>
<li>
<p>'Open&#8230;&#8203;' - Opens a standard dialog box to open a g code file to load in AXIS. If
you have configured Machinekit to use a filter program you can also open it
up. See the Integrator manual for more information on filter programs.</p>
</li>
<li>
<p>'Recent Files' - Displays a list of recently opened files.</p>
</li>
<li>
<p>'Edit&#8230;&#8203;' - Open the current g code file for editing if you have an editor
configured in your ini file. See the Integrator Manual for more
information on specifying an editor to use.</p>
</li>
<li>
<p>'Reload' - Reload the current g code file. If you edited it you must reload it
for the changes to take affect. If you stop a file and want to start
from the beginning then reload the file. The toolbar reload is the same
as the menu.</p>
</li>
<li>
<p>'Save gcode as&#8230;&#8203;' - Save the current file with a new name.</p>
</li>
<li>
<p>'Properties' - The sum of the rapid and feed moves. Does not factor in
acceleration, blending or path mode so time reported will never
be less than the actual run time.</p>
</li>
<li>
<p>'Edit tool table&#8230;&#8203;' - Same as Edit if you have defined an editor
you can open the tool table and edit it.</p>
</li>
<li>
<p>'Reload tool table' - After editing the tool table you must reload it.</p>
</li>
<li>
<p>'Ladder editor' - If you have loaded Classic Ladder you can edit it from
here. See the Integrator Manual on setting up Classic Ladder</p>
</li>
<li>
<p>'Quit' -
Terminates the current Machinekit session.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p><strong>Machine Menu</strong> <a id="sub:axis-machine-menu"></a></p>
</div>
<div class="ulist">
<ul>
<li>
<p>'Toggle Emergency Stop F1' - Change the state of the Emergency Stop.</p>
</li>
<li>
<p>'Toggle Machine Power F2' - Change the state of the Machine Power if
the Emergency Stop is not on.</p>
</li>
<li>
<p>'Run Program' - Run the currently loaded program from the beginning.</p>
</li>
<li>
<p>'Run From Selected Line' - Select the line you want to start from first.
Use with caution as this will move the tool to the expected position before
the line first then it will execute the rest of the code.</p>
</li>
</ul>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<div class="title">Warning</div>
</td>
<td class="content">
Do not use 'Run From Selected Line' if your g code program contains subroutines.
</td>
</tr>
</table>
</div>
<div class="ulist">
<ul>
<li>
<p>'Step' - Single step through a program.</p>
</li>
<li>
<p>'Pause' - Pause a program.</p>
</li>
<li>
<p>'Resume' - Resume running from a pause.</p>
</li>
<li>
<p>'Stop' - Stop a running program. When run is selected after a stop the program
will start from the beginning.</p>
</li>
<li>
<p>'Stop at M1' - If an M1 is reached, and this is checked, program execution
will stop on the M1 line. Press Resume to continue.</p>
</li>
<li>
<p>'Skip lines with "/"' - If a line begins with '/' and this is checked,
the line will be skipped.</p>
</li>
<li>
<p>'Clear MDI history' - Clears the MDI history window.</p>
</li>
<li>
<p>'Copy from MDI history' - Copies the MDI history to the clipboard</p>
</li>
<li>
<p>'Paste to MDI history' - Paste from the clipboard to the MDI history window</p>
</li>
<li>
<p>'Calibration' - Starts a PID tuning assistant, which is mainly for servo systems.
Some things can be changed on a stepper system.</p>
</li>
<li>
<p>'Show HAL Configuration' - Opens the HAL Configuration window where you can
monitor HAL Components, Pins, Parameters, Signals, Functions, and Threads.</p>
</li>
<li>
<p>'HAL Meter' - Opens a window where you can monitor a single HAL Pin, Signal, or
Parameter.</p>
</li>
<li>
<p>'HAL Scope' - Opens a virtual oscilloscope that allows plotting HAL values vs. time.</p>
</li>
<li>
<p>'Show Machinekit Status' - Opens a window showing Machinekit&#8217;s status.</p>
</li>
<li>
<p>'Set Debug Level' - Opens a window where debug levels can be viewed and some can be set.</p>
</li>
<li>
<p>'Homing' - Home one or all axes.</p>
</li>
<li>
<p>'Unhoming' - Unhome one or all axes.</p>
</li>
<li>
<p>'Zero Coordinate System' - Clear (set to zero) a chosen offset.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p><a id="sec:tool-touch-off"></a> </p>
</div>
<div class="ulist">
<ul>
<li>
<p>'Tool touch off to workpiece' - When performing Touch Off, the value
entered is relative to the current workpiece ('G5x') coordinate system,
as modified by the axis offset ('G92').  When the Touch Off is complete,
the Relative coordinate for the chosen axis will become the value entered.
See <a href="#sec:G10-L10">G10 L10</a> in the G code chapter.</p>
</li>
<li>
<p>'Tool touch off to fixture' - When performing Touch Off, the value entered
is relative to the ninth ('G59.3') coordinate system, with the axis offset
('G92') ignored.  This is useful when there is a tool touch-off fixture at a
fixed location on the machine, with the ninth ('G59.3') coordinate system set
such that the tip of a zero-length tool is at the fixture&#8217;s origin when the
Relative coordinates are 0.  See <a href="#sec:G10-L11">G10 L11</a> in the G code chapter.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p><strong>View Menu</strong></p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">It&#8217;s all in your point of view</div>
<div class="paragraph">
<p>The AXIS display pick menu 'View' refers to 'Top', 'Front', and 'Side' views.
These terms are correct if the CNC machine has its Z axis vertical, with
positive Z up. This is true for vertical mills, which is probably the most
popular application, and also true for almost all EDM machines, and even
vertical turret lathes, where the part is turning below the tool.</p>
</div>
<div class="paragraph">
<p>The terms 'Top', 'Front', and 'Side' might be confusing however, in other
CNC machines, such as a standard lathe, where the Z axis is horizontal, or
a horizontal mill, again where the Z axis is horizontal, or even an inverted
vertical turret lathe, where the part is turning above the tool, and the Z axis
positive direction is down!</p>
</div>
<div class="paragraph">
<p>Just remember that positive Z axis is (almost) always away from the part.
So be familiar with your machine&#8217;s design and interpret the display as needed.</p>
</div>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>'Top View' - The Top View (or Z view) displays the G code looking along the Z axis from
positive to negative. This view is best for looking at X &amp; Y.</p>
</li>
<li>
<p>'Rotated Top View' - The Rotated Top View (or rotated Z view) also displays the G code looking
along the Z axis from positive to negative. But sometimes it&#8217;s convenient
to display the X &amp; Y axes rotated 90 degrees to fit the display better.
This view is also best for looking at X &amp; Y.</p>
</li>
<li>
<p>'Side View' - The Side View (or X view) displays the G code looking along the X axis from
positive to negative. This view is best for looking at Y &amp; Z.</p>
</li>
<li>
<p>'Front View' - The Front View (or Y view) displays the G code looking along the Y axis from
negative to positive. This view is best for looking at X &amp; Z.</p>
</li>
<li>
<p>'Perspective View' - The Perspective View (or P view) displays the G code looking at the part from
an adjustable point of view, defaulting to X+, Y-, Z+. The position is
adjustable using the mouse and the drag/rotate selector. This view is a
compromise view, and while it does do a good job of trying to show three
(to nine!) axes on a two-dimensional display, there will often be some
feature that is hard to see, requiring a change in viewpoint. This view
is best when you would like to see all three (to nine) axes at once.</p>
</li>
<li>
<p>'Display Inches' - Set the AXIS display scaling for inches.</p>
</li>
<li>
<p>'Display MM' - Set the AXIS display scaling for millimeters.</p>
</li>
<li>
<p>'Show Program' - The preview display of the loaded G code program can be entirely
disabled if desired.</p>
</li>
<li>
<p>'Show Program Rapids' - The preview display of the loaded G code program will always show the
feedrate moves (G1,G2,G3) in white. But the display of rapid moves (G0)
in cyan can be disabled if desired.</p>
</li>
<li>
<p>'Alpha-blend Program' - This option makes the preview of complex programs easier to see, but
may cause the preview to display more slowly.</p>
</li>
<li>
<p>'Show Live Plot' - The highlighting of the feedrate paths (G1,G2,G3) as the tool moves
can be disabled if desired.</p>
</li>
<li>
<p>'Show Tool' - The display of the tool cone/cylinder can be disabled if desired.</p>
</li>
<li>
<p>'Show Extents' - The display of the extents (maximum travel in each axis direction)
of the loaded G code program can be disabled if desired.</p>
</li>
<li>
<p>'Show Offsets' - The selected fixture offset (G54-G59.3) origin location can be shown
as a set of three orthogonal lines, one each of red, blue, and green.
This offset origin (or fixture zero) display can be disabled if desired.</p>
</li>
<li>
<p>'Show Machine Limits' - The machine&#8217;s maximum travel limits for each axis, as set in the ini
file, are shown as a rectangular box drawn in red dashed lines. This
is useful when loading a new G code program, or when checking for how
much fixture offset would be needed to bring the G code program within
the travel limits of your machine. It can be shut off if not needed.</p>
</li>
<li>
<p>'Show Velocity' - A display of velocity is sometimes useful to see how close your
machine is running to its design velocities. It can be disabled
if desired.</p>
</li>
<li>
<p>'Show Distance to Go' - Distance to go is a very handy item to know when running an unknown
G code program for the first time. In combination with the rapid
override and feedrate override controls, unwanted tool
and machine damage can be avoided. Once the G code program has
been debugged and is running smoothly, the Distance to Go display
can be disabled if desired.</p>
</li>
<li>
<p>'Clear Live Plot' - As the tool travels in the Axis display, the G code path is highlighted.
To repeat the program, or to better see an area of interest, the
previously highlighted paths can be cleared.</p>
</li>
<li>
<p>'Show Commanded Position' - This is the position that Machinekit will try to go to. Once motion
has stopped, this is the position Machinekit will try to hold.</p>
</li>
<li>
<p>'Show Actual Position' - Actual Position is the measured position as read back from the
system&#8217;s encoders or simulated by step generators. This may differ
slightly from the Commanded Position for many reasons including PID
tuning, physical constraints, or position quantization.</p>
</li>
<li>
<p>'Show Machine Position' - This is the position in unoffset coordinates, as established by Homing.</p>
</li>
<li>
<p>'Show Relative Position' - This is the Machine Position modified by 'G5x', 'G92', and 'G43' offsets.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p><strong>User Menu</strong></p>
</div>
<div class="ulist">
<ul>
<li>
<p>'User0' - User defined command number 1 - to</p>
</li>
<li>
<p>'User9' - User defined command number 10</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>This menu will be shown but disabled unless activated in the ini file
Ten user commands can be specified in the ini file.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>'#' precedes a halcmd
This will be sent and the return waited for before continuing</p>
</li>
<li>
<p>'$' precedes a system command
This will be spawned to a new process and return immediately</p>
</li>
<li>
<p>No prefix before a gcode instruction</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The commands can optionally be bound to the 0 - 9 keys on the keyboard
Full details in the INI file docs</p>
</div>
<div class="paragraph">
<p><strong>Help Menu</strong></p>
</div>
<div class="ulist">
<ul>
<li>
<p>'About Axis' - We all know what this is.</p>
</li>
<li>
<p>'Quick Reference' - Shows the keyboard shortcut keys.</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="toolbar-buttons">Toolbar buttons</h4>
<div class="paragraph">
<p>From left to right in the Axis display, the toolbar buttons (keyboard shortcuts shown [in brackets]) are:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><span class="image"><img src="../gui/images/tool_estop.gif" alt="tool estop"></span> Toggle Emergency Stop [F1] (also called E-Stop)</p>
</li>
<li>
<p><span class="image"><img src="../gui/images/tool_power.gif" alt="tool power"></span> Toggle Machine Power [F2]</p>
</li>
<li>
<p><span class="image"><img src="../gui/images/tool_open.gif" alt="tool open"></span> Open G Code file [O]</p>
</li>
<li>
<p><span class="image"><img src="../gui/images/tool_reload.gif" alt="tool reload"></span> Reload current file [Ctrl-R]</p>
</li>
<li>
<p><span class="image"><img src="../gui/images/tool_run.gif" alt="tool run"></span> Begin executing the current file [R]</p>
</li>
<li>
<p><span class="image"><img src="../gui/images/tool_step.gif" alt="tool step"></span> Execute next line [T]</p>
</li>
<li>
<p><span class="image"><img src="../gui/images/tool_pause.gif" alt="tool pause"></span> Pause Execution [P] Resume Execution[S]</p>
</li>
<li>
<p><span class="image"><img src="../gui/images/tool_stop.gif" alt="tool stop"></span> Stop Program Execution [ESC]</p>
</li>
<li>
<p><span class="image"><img src="../gui/images/tool_blockdelete.gif" alt="tool blockdelete"></span> Toggle Skip lines with "/" [Alt-M-/]</p>
</li>
<li>
<p><span class="image"><img src="../gui/images/tool_optpause.gif" alt="tool optpause"></span> Toggle Optional Pause [Alt-M-1]</p>
</li>
<li>
<p><span class="image"><img src="../gui/images/tool_zoomin.gif" alt="tool zoomin"></span> Zoom In</p>
</li>
<li>
<p><span class="image"><img src="../gui/images/tool_zoomout.gif" alt="tool zoomout"></span> Zoom Out</p>
</li>
<li>
<p><span class="image"><img src="../gui/images/tool_axis_z.gif" alt="tool axis z"></span> Top view</p>
</li>
<li>
<p><span class="image"><img src="../gui/images/tool_axis_z2.gif" alt="tool axis z2"></span> Rotated Top view</p>
</li>
<li>
<p><span class="image"><img src="../gui/images/tool_axis_x.gif" alt="tool axis x"></span> Side view</p>
</li>
<li>
<p><span class="image"><img src="../gui/images/tool_axis_y.gif" alt="tool axis y"></span> Front view</p>
</li>
<li>
<p><span class="image"><img src="../gui/images/tool_axis_p.gif" alt="tool axis p"></span> Perspective view</p>
</li>
<li>
<p><span class="image"><img src="../gui/images/tool_rotate.gif" alt="tool rotate"></span> Toggle between Drag and Rotate Mode [D]</p>
</li>
<li>
<p><span class="image"><img src="../gui/images/tool_clear.gif" alt="tool clear"></span> Clear live backplot [Ctrl-K]</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="graphical-display-area">Graphical Display Area</h4>
<div class="paragraph">
<div class="title">Coordinate Display</div>
<p>In the upper-left corner of the program display is the coordinate display.
It shows the position of the machine.
To the left of the axis name, an origin symbol is shown
if the axis has been homed.</p>
</div>
<div class="paragraph">
<p><span class="image"><img src="../gui/images/axis-homed.png" alt="axis homed"></span></p>
</div>
<div class="paragraph">
<p>A limit symbol is shown if the axis is on one of its limit switches.</p>
</div>
<div class="paragraph">
<p><span class="image"><img src="../gui/images/axis-limit.png" alt="axis limit"></span></p>
</div>
<div class="paragraph">
<p>To properly interpret these numbers, refer to the 'Position:'
indicator in the status bar. If the position is 'Absolute', then the
displayed number is in the machine coordinate system. If it is
'Relative', then the displayed number is in the offset coordinate
system. When the coordinates displayed are relative and an offset has
been set, the display will include a cyan 'machine origin' marker.</p>
</div>
<div class="paragraph">
<p><span class="image"><img src="../gui/images/axis-machineorigin.png" alt="axis machineorigin"></span></p>
</div>
<div class="paragraph">
<p>If the position is 'Commanded', then it is the ideal position
--for instance, the exact coordinate given in a 'G0' command.
If it is 'Actual', then it is the position
the machine has actually moved to.
These values can differ for several reasons:
Following error, dead band, encoder resolution, or step size.
For instance, if you command a movement to X 0.0033 on your mill,
but one step of your stepper motor or one encoder count is 0.00125,
then the 'Commanded' position might be 0.0033,
but the 'Actual' position will be 0.0025 (2 steps) or 0.00375 (3 steps).</p>
</div>
<div class="paragraph">
<div class="title">Preview Plot</div>
<p></p>
</div>
<div class="paragraph">
<p>When a file is loaded,
a preview of it is shown in the display area.
Fast moves (such as those produced by the 'G0' command) are shown as
cyan lines. Moves at a feed rate
(such as those produced by the 'G1' command) are
shown as solid white lines. Dwells
(such as those produced by the 'G4' command)
are shown as small pink 'X' marks.</p>
</div>
<div class="paragraph">
<p>G0 (Rapid) moves prior to a feed move
will not show on the preview plot.
Rapid moves after a T&lt;n&gt; (Tool Change) will not show on the
preview until after the first feed move.
To turn either of these features off
program a G1 without any moves prior to the G0 moves.</p>
</div>
<div class="paragraph">
<div class="title">Program Extents</div>
<p></p>
</div>
<div class="paragraph">
<p>The 'extents' of the program in each axis are shown.
At the ends, the least and greatest coordinate values are indicated.
In the middle, the difference between the coordinates is shown.</p>
</div>
<div class="paragraph">
<p>When some coordinates exceed the 'soft limits' in the .ini file,
the relevant dimension is shown in a different color and enclosed by a box.
In figure below the maximum soft limit is exceeded on
the X axis as indicated by the box surrounding the coordinate value.
The minimum X travel of the program is -1.95,
the maximum X travel is 1.88,
and the program requires 3.83 inches of X travel.
To move the program so it&#8217;s within the machine&#8217;s travel in this case,
jog to the left and Touch Off X again.</p>
</div>
<div class="imageblock" style="text-align: center">
<div class="content">
<img src="../gui/images/axis-outofrange.png" alt="axis outofrange">
</div>
<div class="title">Figure 14. Soft Limit<a id="cap:Soft-Limit"></a></div>
</div>
<div class="paragraph">
<div class="title">Tool Cone</div>
<p>When no tool is loaded, the location of the tip of the tool is
indicated by the 'tool cone'.
The 'tool cone' does not provide guidance on the form,
length, or radius of the tool.</p>
</div>
<div class="paragraph">
<p>When a tool is loaded (for instance, with the MDI command 'T1 M6' ),
the cone changes to a cylinder which shows the diameter of the tool
given in the tool table file.</p>
</div>
<div class="paragraph">
<div class="title">Backplot</div>
<p>When the machine moves, it leaves a trail called the backplot.
The color of the line indicates the type of motion:
Yellow for jogs, faint green for rapid movements,
red for straight moves at a feed rate,
and magenta for circular moves at a feed rate.</p>
</div>
<div class="paragraph">
<div class="title">Grid</div>
<p>Axis can optionally display a grid when in orthogonal views.  Enable
or disable the grid using the 'Grid' menu under 'View'.  When
enabled, the grid is shown in the top and rotated top views; when
coordinate system is not rotated, the grid is shown in the front and
side views as well.  The presets in the 'Grid' menu are controlled
by the inifile item <code>[DISPLAY]GRIDS</code>; if unspecified, the default is
<code>10mm 20mm 50mm 100mm 1in 2in 5in 10in</code>.</p>
</div>
<div class="paragraph">
<p>Specifying a very small grid may decrease performance.</p>
</div>
<div class="paragraph">
<div class="title">Interacting</div>
<p>By left-clicking on a portion of the preview plot,
the line will be highlighted
in both the graphical and text displays.
By left-clicking on an empty area, the highlighting will be removed.</p>
</div>
<div class="paragraph">
<p>By dragging with the left mouse button pressed,
the preview plot will be shifted (panned).</p>
</div>
<div class="paragraph">
<p>By dragging with shift and the left mouse button pressed,
or by dragging with the mouse wheel pressed,
the preview plot will be rotated.
When a line is highlighted,
the center of rotation is the center of the line.
Otherwise, the center of rotation is
the center of the entire program.</p>
</div>
<div class="paragraph">
<p>By rotating the mouse wheel,
or by dragging with the right mouse button pressed,
or by dragging with control and the left mouse button pressed,
the preview plot will be zoomed in or out.</p>
</div>
<div class="paragraph">
<p>By clicking one of the 'Preset View' icons,
or by pressing 'V', several preset views may be selected.</p>
</div>
</div>
<div class="sect3">
<h4 id="text-display-area">Text Display Area</h4>
<div class="paragraph">
<p>By left-clicking a line of the program, the line will be highlighted
in both the graphical and text displays.</p>
</div>
<div class="paragraph">
<p>When the program is running, the line currently being executed is
highlighted in red. If no line has been selected by the user,
the text display will automatically scroll to show the current line.</p>
</div>
<div class="imageblock" style="text-align: center">
<div class="content">
<img src="../gui/images/axis-currentandselected.png" alt="axis currentandselected">
</div>
<div class="title">Figure 15. Current and Selected Lines<a id="cap:Current-and-Selected"></a></div>
</div>
</div>
<div class="sect3">
<h4 id="manual-control">Manual Control</h4>
<div class="paragraph">
<p></p>
</div>
<div class="paragraph">
<p>While the machine is turned on but not running a program,
the items in the 'Manual Control' tab can be used to
move the machine or control its spindle and coolant.</p>
</div>
<div class="paragraph">
<p>When the machine is not turned on, or when a program is running, the
manual controls are unavailable.</p>
</div>
<div class="paragraph">
<p>Many of the items described below are not useful on all machines.
When AXIS detects that a particular pin is not connected in HAL,
the corresponding item in the Manual Control tab is removed.
For instance, if the HAL pin 'motion.spindle-brake' is not connected,
then the 'Brake' button will not appear on the screen.
If the environment variable 'AXIS_NO_AUTOCONFIGURE' is set,
this behavior is disabled and all the items will appear.</p>
</div>
<div class="paragraph">
<div class="title">The Axis group</div>
<p>'Axis' allows you to manually move the machine.
This action is known as 'jogging'.
First, select the axis to be moved by clicking it.
Then, click and hold the '+' or '-' button
depending on the desired direction of motion.
The first four axes can also be moved by
the arrow keys (X and Y),
PAGE UP and PAGE DOWN keys (Z),
and the [ and ] keys (A).</p>
</div>
<div class="paragraph">
<p>If 'Continuous' is selected, the motion will continue
as long as the button or key is pressed.
If another value is selected,
the machine will move exactly the displayed distance
each time the button is clicked or the key is pressed.
By default, the available values are '0.1000, 0.0100, 0.0010, 0.0001'</p>
</div>
<div class="paragraph">
<p>See the Configure section of the Integrator Manual for
more information on setting the increments.</p>
</div>
<div class="paragraph">
<div class="title">Homing</div>
<p>If your machine has home switches and a homing sequence defined for
all axes the button will read 'Home All'. The 'Home All' button or the
Ctrl-HOME key will home all axes using the homing sequence. Pressing
the HOME key will home the current axis, even if a homing sequence is
defined.</p>
</div>
<div class="paragraph">
<p>If your machine has home switches and no homing sequence is defined or
not all axes have a homing sequence the button will read 'Home' and
will home the selected axis only. Each axis must be selected and homed
separately.</p>
</div>
<div class="paragraph">
<p>If your machine does not have home switches defined in the
configuration the 'Home' button will set the current selected axis
current position to be the absolute position 0 for that axis and will
set the 'is-homed' bit for that axis.</p>
</div>
<div class="paragraph">
<p>See the Integrator Manual for more information on homing.</p>
</div>
<div class="paragraph">
<div class="title">Touch Off</div>
<p>By pressing 'Touch Off' or the END key, the 'G54 offset' for the
current axis is changed so that the current axis value will be the
specified value. Expressions may be entered using the rules for
rs274ngc programs, except that variables may not be referred to. The
resulting value is shown as a number.</p>
</div>
<div class="imageblock" style="text-align: center">
<div class="content">
<img src="../gui/images/touchoff.png" alt="touchoff">
</div>
<div class="title">Figure 16. Touch Off<a id="cap:Touch-Off"></a></div>
</div>
<div class="paragraph">
<p>See also the 'Tool touch off to workpiece' and 'Tool touch off to fixture'
options in the Machine menu.</p>
</div>
<div class="paragraph">
<div class="title">Override Limits</div>
<p>By pressing Override Limits, the machine will temporarily be allowed
to jog off of a physical limit switch. This check box is only available
when a limit switch is tripped.  The override is reset after one jog.  If
the axis is configured with separate positive and negative limit switches,
Machinekit will allow the jog only in the correct direction.  <em>Override Limits will
not allow a jog past a soft limit.  The only way to disable a soft limit
on an axis is to Unhome it.</em></p>
</div>
<div class="paragraph">
<div class="title">The Spindle group</div>
<p></p>
</div>
<div class="paragraph">
<p>The buttons on the first row select the direction for the spindle to
rotate: Counterclockwise, Stopped, Clockwise. Counterclockwise will
only show up if the pin 'motion.spindle-reverse' is in the HAL file (it
can be 'net trick-axis motion.spindle-reverse' ). The buttons on the
next row increase or decrease the rotation
speed. The checkbox on the third row allows the spindle brake to be
engaged or released. Depending on your machine configuration, not all
the items in this group may appear. Pressing the spindle start button
sets the 'S' speed to 1.</p>
</div>
<div class="paragraph">
<div class="title">The Coolant group</div>
<p></p>
</div>
<div class="paragraph">
<p>The two buttons allow the 'Mist' and 'Flood' coolants to be turned on
and off. Depending on your machine configuration, not all the items in
this group may appear.</p>
</div>
</div>
<div class="sect3">
<h4 id="mdi">MDI</h4>
<div class="paragraph">
<p></p>
</div>
<div class="paragraph">
<p>MDI allows G-code commands to be entered manually.
When the machine is not turned on, or when a program is
running, the MDI controls are unavailable.</p>
</div>
<div class="imageblock" style="text-align: center">
<div class="content">
<img src="../gui/images/axis-mdi.png" alt="axis mdi">
</div>
<div class="title">Figure 17. The MDI tab<a id="cap:The-MDI-tab"></a></div>
</div>
<div class="ulist">
<ul>
<li>
<p>'History' - This shows MDI commands that have been typed earlier in this session.</p>
</li>
<li>
<p>'MDI Command' - This allows you to enter a g-code command to be executed. Execute the
command by pressing Enter or by clicking 'Go'.</p>
</li>
<li>
<p>'Active G-Codes' - This shows the 'modal codes' that are active in the interpreter. For
instance, 'G54' indicates that the 'G54 offset' is applied to all
coordinates that are entered. When in Auto the Active G-Codes represent
the codes after any read ahead by the interpreter.</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="feed-override">Feed Override</h4>
<div class="paragraph">
<p></p>
</div>
<div class="paragraph">
<p>By moving this slider, the programmed feed rate can be modified. For
instance, if a program requests 'F60' and the slider is set to 120%,
then the resulting feed rate will be 72.</p>
</div>
</div>
<div class="sect3">
<h4 id="spindle-speed-override">Spindle Speed Override</h4>
<div class="paragraph">
<p></p>
</div>
<div class="paragraph">
<p>By moving this slider, the programmed spindle speed can be
modified. For instance, if a program requests S8000 and the slider is
set to 80%, then the resulting spindle speed will be 6400. This item
only appears when the HAL pin 'motion.spindle-speed-out' is connected.</p>
</div>
</div>
<div class="sect3">
<h4 id="jog-speed">Jog Speed</h4>
<div class="paragraph">
<p></p>
</div>
<div class="paragraph">
<p>By moving this slider, the speed of jogs can be modified. For
instance, if the slider is set to 1 in/min, then a .01 inch jog will
complete in about .6 seconds, or 1/100 of a minute. Near the left side
(slow jogs) the values are spaced closely together, while near the
right side (fast jogs) they are spaced much further apart, allowing a
wide range of jog speeds with fine control when it is most important.</p>
</div>
<div class="paragraph">
<p>On machines with a rotary axis, a second jog speed slider is shown.
This slider sets the jog rate for the rotary axes (A, B and C).</p>
</div>
</div>
<div class="sect3">
<h4 id="max-velocity">Max Velocity</h4>
<div class="paragraph">
<p></p>
</div>
<div class="paragraph">
<p>By moving this slider, the maximum velocity can be set. This caps the
maximum velocity for all programmed moves except spindle-synchronized
moves.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="keyboard-controls">Keyboard Controls</h3>
<div class="paragraph">
<p></p>
</div>
<div class="paragraph">
<p>Almost all actions in AXIS can be accomplished with the keyboard. A
full list of keyboard shortcuts can be found in the AXIS Quick
Reference, which can be displayed by choosing Help &gt; Quick Reference.
Many of the shortcuts are unavailable when in MDI mode.</p>
</div>
<div class="paragraph">
<div class="title">Feed Override Keys</div>
<p>The Feed Override keys behave differently when in Manual Mode. The
keys '12345678 will select an axis if it is programed. If you have 3
axis then ' will select axis 0, 1 will select axis 1, and 2 will select
axis 2. The remainder of the number keys will still set the Feed
Override. When running a program '1234567890 will set the Feed Override
to 0% - 100%.</p>
</div>
<div class="paragraph">
<p>The most frequently used keyboard shortcuts are shown in the following Table</p>
</div>
<table class="tableblock frame-all grid-all" style="width: 80%;">
<caption class="title">Table 1. Most Common Keyboard Shortcuts<a id="cap:Most-Common-Keyboard"></a></caption>
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-center valign-top">Keystroke</th>
<th class="tableblock halign-left valign-top">Action Taken</th>
<th class="tableblock halign-center valign-top">Mode</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">F1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Toggle Emergency Stop</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">All</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">F2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Turn machine on/off</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">All</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">`, 1 .. 9, 0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Set feed override from 0% to 100%</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Varies</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">X, `</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Activate first axis</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Manual</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">Y, 1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Activate second axis</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Manual</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">Z, 2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Activate third axis</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Manual</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">A, 3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Activate fourth axis</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Manual</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">I</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Select jog increment</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Manual</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">C</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Continuous jog</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Manual</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">Control-Home</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Perform homing sequence</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Manual</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">End</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Touch off: Set G54 offset for active axis</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Manual</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">Left, Right</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Jog first axis</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Manual</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">Up, Down</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Jog second axis</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Manual</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">Pg Up, Pg Dn</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Jog third axis</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Manual</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">[, ]</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Jog fourth axis</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Manual</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">O</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Open File</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Manual</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">Control-R</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Reload File</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Manual</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">R</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Run file</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Manual</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">P</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Pause execution</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Auto</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">S</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Resume Execution</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Auto</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">ESC</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Stop execution</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Auto</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">Control-K</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Clear backplot</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Auto/Manual</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">V</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Cycle among preset views</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Auto/Manual</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">Shift-Left,Right</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Rapid X Axis</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Manual</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">Shift-Up,Down</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Rapid Y Axis</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Manual</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">Shift-PgUp, PgDn</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Rapid Z Axis</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Manual</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="show-machinekit-status">Show Machinekit Status</h3>
<div class="paragraph">
<p>AXIS includes an option which shows some of the
details of Machinekit&#8217;s state. You can run this program by invoking Machine &gt;
Show Machinekit Status</p>
</div>
<div class="imageblock" style="text-align: center">
<div class="content">
<img src="../gui/images/axis-emc-status.png" alt="axis emc status">
</div>
<div class="title">Figure 18. Machinekit Status Window<a id="cap:Machinekit-Status-Window"></a></div>
</div>
<div class="paragraph">
<p>The name of each item is shown in the left column. The current value
is shown in the right column. If the value has recently changed, it is
shown on a red background.</p>
</div>
</div>
<div class="sect2">
<h3 id="mdi-interface">MDI interface</h3>
<div class="paragraph">
<p>AXIS includes a program called <code>mdi</code> which allows text-mode entry of
MDI commands to a running Machinekit session. You can run this program by
opening a terminal and typing</p>
</div>
<div class="literalblock">
<div class="content">
<pre>mdi</pre>
</div>
</div>
<div class="paragraph">
<p>Once it is running, it displays the prompt 'MDI&gt;'. When a blank line
is entered, the machine&#8217;s current position is shown.
When a command is entered, it is sent to Machinekit to be executed.</p>
</div>
<div class="paragraph">
<p>This is a sample session of mdi.</p>
</div>
<div class="listingblock">
<div class="content">
<pre>$ mdi
MDI&gt;
(0.0, 0.0, 0.0, 0.0, 0.0, 0.0)
MDI&gt; G1 F5 X1
MDI&gt;
(0.5928500000000374, 0.0, 0.0, 0.0, 0.0, 0.0)
MDI&gt;
(1.0000000000000639, 0.0, 0.0, 0.0, 0.0, 0.0)</pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="axis-remote">axis-remote</h3>
<div class="paragraph">
<p>AXIS includes a program called 'axis-remote' which can send certain
commands to a running AXIS. The available commands are shown by running
'axis-remote --help' and include checking whether AXIS is running
('--ping'), loading a file by name, reloading the currently loaded
file ('--reload'), running the loaded file ('--run') and making AXIS exit ('--quit').</p>
</div>
</div>
<div class="sect2">
<h3 id="sec:Manual-Tool-Change">Manual Tool Change</h3>
<div class="paragraph">
<p></p>
</div>
<div class="paragraph">
<p>Machinekit includes a userspace HAL component called 'hal_manualtoolchange',
which shows a window prompt telling you what tool is expected when a
'M6' command is issued. After the OK button is pressed, execution of
the program will continue.</p>
</div>
<div class="paragraph">
<p>The HAL configuration file 'configs/sim/axis_manualtoolchange.hal'
shows the HAL commands necessary to use this component.</p>
</div>
<div class="paragraph">
<p>hal_manualtoolchange can be used even when AXIS is not used as the GUI.
This component is most useful if you have presettable tools and
you use the tool table.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
Important Note: Rapids will not show on the preview after
a T&lt;n&gt; is issued until the next feed move after the M6.
This can be very confusing to most users.
To turn this feature off for the current tool change
program a G1 with no move after the T&lt;n&gt;.
</td>
</tr>
</table>
</div>
<div class="imageblock" style="text-align: center">
<div class="content">
<img src="../gui/images/manual-tool-change.png" alt="manual tool change">
</div>
<div class="title">Figure 19. The Manual Toolchange Window<a id="cap:The-Manual-Toolchange"></a></div>
</div>
</div>
<div class="sect2">
<h3 id="python-modules">Python modules</h3>
<div class="paragraph">
<p>AXIS includes several Python modules which may
be useful to others. For more information on one of these modules, use
'pydoc &lt;module name&gt;' or read the source code. These modules include:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>'linuxcnc' provides access to the Machinekit command, status, and error channels</p>
</li>
<li>
<p>'gcode' provides access to the rs274ngc interpreter</p>
</li>
<li>
<p>'rs274' provides additional tools for working with rs274ngc files</p>
</li>
<li>
<p>'hal' allows the creation of userspace HAL components written in Python</p>
</li>
<li>
<p>'_togl' provides an OpenGL widget that can be used in Tkinter applications</p>
</li>
<li>
<p>'minigl' provides access to the subset of OpenGL used by AXIS</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>To use these modules in your own scripts, you must ensure that the
directory where they reside is on Python&#8217;s module path. When running an
installed version of Machinekit, this should happen automatically. When
running 'in-place', this can be done by using
'scripts/rip-environment'.</p>
</div>
</div>
<div class="sect2">
<h3 id="using-axis-in-lathe-mode">Using AXIS in Lathe Mode</h3>
<div class="paragraph">
<p></p>
</div>
<div class="paragraph">
<p>By including the line 'LATHE = 1'
in the [DISPLAY] section of the ini file, AXIS selects lathe mode. The
'Y' axis is not shown in coordinate readouts, the view is changed to
show the Z axis extending to the right and the X axis extending towards
the bottom of the screen, and several controls (such as those for
preset views) are removed.  The coordinate readouts for X are replaced
with diameter and radius.</p>
</div>
<div class="paragraph">
<p>Pressing 'V' zooms out to show the entire file, if one is loaded.</p>
</div>
<div class="paragraph">
<p>When in lathe mode, the shape of the loaded tool (if any) is shown.</p>
</div>
<div class="paragraph">
<div class="title">Lathe Tool Shape<a id="cap:Lathe-Tool-Shape"></a></div>
<p><span class="image"><img src="../gui/images/axis-lathe-tool.png" alt="axis lathe tool"></span></p>
</div>
</div>
<div class="sect2">
<h3 id="advanced-configuration">Advanced Configuration</h3>
<div class="paragraph">
<p>For more information on ini file settings that can change how AXIS
works see the INI File/Sections/[DISPLAY] Section of Configuration
chapter in the Integrator manual.</p>
</div>
<div class="sect3">
<h4 id="program-filters">Program Filters</h4>
<div class="paragraph">
<p>AXIS has the ability to send loaded files through a 'filter program'.
This filter can do any desired task: Something as simple as making sure
the file ends with 'M2', or something as complicated as generating
G-Code from an image.</p>
</div>
<div class="paragraph">
<p>The '[FILTER]'  section of the ini file controls how filters work.
First, for each type of file, write a 'PROGRAM_EXTENSION' line.
Then, specify the program to execute for each type of file.
This program is given the name of the input file as its first argument,
and must write rs274ngc code to standard output. This output is what
will be displayed in the text area, previewed in the display area, and
executed by Machinekit when 'Run'. The following lines add support for the
'image-to-gcode' converter included with Machinekit:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>[FILTER]
PROGRAM_EXTENSION = .png,.gif Greyscale Depth Image
png = image-to-gcode
gif = image-to-gcode</pre>
</div>
</div>
<div class="paragraph">
<p>It is also possible to specify an interpreter:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>PROGRAM_EXTENSION = .py Python Script
py = python</pre>
</div>
</div>
<div class="paragraph">
<p>In this way, any Python script can be opened, and its output is
treated as g-code. One such example script is available at
'nc_files/holecircle.py'. This script creates g-code for drilling a
series of holes along the circumference of a circle.</p>
</div>
<div class="imageblock" style="text-align: center">
<div class="content">
<img src="../gui/images/holes.png" alt="holes">
</div>
<div class="title">Figure 20. Circular Holes<a id="cap:Circular-Holes"></a></div>
</div>
<div class="paragraph">
<p>If the environment variable AXIS_PROGRESS_BAR is set, then lines
written to stderr of the form</p>
</div>
<div class="listingblock">
<div class="content">
<pre>FILTER_PROGRESS=%d</pre>
</div>
</div>
<div class="paragraph">
<p>will set the AXIS progress bar to the given percentage. This feature
should be used by any filter that runs for a long time.</p>
</div>
</div>
<div class="sect3">
<h4 id="the-x-resource-database">The X Resource Database</h4>
<div class="paragraph">
<p>The colors of most elements of the AXIS user interface can be
customized through the X Resource Database. The sample file
'axis_light_background' changes the colors of the backplot window to a
'dark lines on white
background' scheme, and also serves as a reference for the configurable
items in the display area. The sample file 'axis_big_dro' changes the
position readout to a larger size font. To use these files:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>xrdb -merge /usr/share/doc/emc2/axis_light_background

xrdb -merge /usr/share/doc/emc2/axis_big_dro</pre>
</div>
</div>
<div class="paragraph">
<p>For information about the other items which can be configured in Tk
applications, see the Tk man pages.</p>
</div>
<div class="paragraph">
<p>Because modern desktop environments automatically make some settings
in the X Resource Database that adversely affect AXIS, by default these
settings are ignored. To make the X Resource Database items override
AXIS defaults, include the following line in your X Resources:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>    *Axis*optionLevel: widgetDefault</pre>
</div>
</div>
<div class="paragraph">
<p>this causes the built-in options to be created at the option level
'widgetDefault', so that X Resources (which are level 'userDefault')
can override them.</p>
</div>
</div>
<div class="sect3">
<h4 id="physical-jog-wheels-a-id-sub-physical-jog-wheels-a">Physical jog wheels<a id="sub:Physical-jog-wheels"></a></h4>
<div class="paragraph">
<p>To improve the interaction of AXIS with physical jog wheels, the axis
currently selected in the GUI is also reported on a pin with a name
like 'axisui.jog.x'. One of these pins is 'TRUE' at one time, and the rest are
'FALSE'. These are meant to control motion&#8217;s jog-enable pins.</p>
</div>
<div class="paragraph">
<p>After AXIS has created these HAL pins, it executes the HAL file named
in '[HAL]POSTGUI_HALFILE'. Unlike '[HAL]HALFILE', only one such file
may be used.</p>
</div>
</div>
<div class="sect3">
<h4 id="axisrc">~./axisrc</h4>
<div class="paragraph">
<p></p>
</div>
<div class="paragraph">
<p>If it exists, the contents of '~/.axisrc'  are executed as Python
source code just before the AXIS GUI is
displayed. The details of what may be written in the axisrc are subject
to change during the development cycle.</p>
</div>
<div class="paragraph">
<p>The following adds Control-Q as a keyboard shortcut for Quit.</p>
</div>
<div class="listingblock">
<div class="content">
<pre>root_window.bind("&lt;Control-q&gt;", "destroy .")
help2.append(("Control-Q", "Quit"))</pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="axisui">axisui</h4>
<div class="paragraph">
<p></p>
</div>
<div class="paragraph">
<p>Upon initialisation, Axis creates several HAL pins which can be used externally.</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>axisui.jog.x</strong> (also y z a b c u v w) is an OUT bit pin set TRUE if that axis is currently the selected
axis for jogging in the Axis GUI</p>
</li>
<li>
<p><strong>axisui.jog.increment</strong>  is an OUT float pin set true if in incremental jog mode, set 0 if in continous mode.
If in incremental mode, the value of the pin is the increment selected
eg. In metric mode, value of 5.000000 = 5mm increments, 0.500000 = 0.5mm increments</p>
</li>
<li>
<p><strong>axisui.notifications-clear-info</strong> is an IN bit pin, which if set TRUE will clear all info text from the Axis GUI
notification area (bottom right corner)</p>
</li>
<li>
<p><strong>axisui.notifications-clear-error</strong> is an IN bit pin, which if set TRUE will clear all error text from the Axis GUI
notification area (bottom right corner)</p>
</li>
<li>
<p><strong>axisui.notifications-clear</strong> is an IN bit pin, which if set TRUE will clear ALL text from the Axis GUI
notification area (bottom right corner) Same as using Ctrl Space from the keyboard</p>
</li>
<li>
<p><strong>axisui.run-disable</strong> is an IN bit pin, which if set TRUE will prevent Axis running a program.
An example of its use would be to connect it to a machine safety screen interlocks, thereby allowing
jogging, touch off etc. but preventing a program running until the screens are back in place.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Some of these pins can be useful in synchronising pyvcp or gladevcp panels which duplicate some of
the functions of Axis.</p>
</div>
</div>
<div class="sect3">
<h4 id="external-editor">External Editor</h4>
<div class="paragraph">
<p></p>
</div>
<div class="paragraph">
<p>The menu options File &gt; Edit&#8230;&#8203; and File &gt; Edit Tool Table&#8230;&#8203; become
available after defining the editor in the ini section [DISPLAY].
Useful values include EDITOR=gedit and EDITOR=gnome-terminal -e vim.
For more information, see the DISPLAY section of the INI Configuration
Chapter in the Integrator Manual.</p>
</div>
</div>
<div class="sect3">
<h4 id="virtual-control-panel">Virtual Control Panel</h4>
<div class="paragraph">
<p></p>
</div>
<div class="paragraph">
<p>AXIS can display a custom virtual control panel in the right-hand
pane. You can program buttons, indicators, data displays and more. For
more information, see the Integrator Manual.</p>
</div>
</div>
<div class="sect3">
<h4 id="axis-preview-control">Axis Preview Control</h4>
<div class="paragraph">
<p><a id="sub:axis-preview-control"></a></p>
</div>
<div class="paragraph">
<p>Special comments can be inserted into the G Code file to control how
the preview of AXIS behaves. In the case where you want to limit the
drawing of the preview use these special comments. Anything between the
(AXIS,hide) and (AXIS,show) will not be drawn during the preview. The
(AXIS,hide) and (AXIS,show) must be used in pairs with the (AXIS,hide)
being first. Anything after a (AXIS,stop) will not be drawn during the
preview.</p>
</div>
<div class="paragraph">
<p>These comments are useful to unclutter the preview display (for
instance while debugging a larger g-code file, one can disable the
preview on certain parts that are already working OK).</p>
</div>
<div class="ulist">
<ul>
<li>
<p>(AXIS,hide) Stops the preview (must be first)</p>
</li>
<li>
<p>(AXIS,show) Resumes the preview (must follow a hide)</p>
</li>
<li>
<p>(AXIS,stop) Stops the preview from here to the end of the file.</p>
</li>
<li>
<p>(AXIS,notify,the_text) Displays the_text as an info display
This display can be useful in the Axis preview when (debug,message)
comments are not displayed.</p>
</li>
</ul>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
The preview display can be completely disabled for all loaded files by
an ini file field
</td>
</tr>
</table>
</div>
<div class="listingblock">
<div class="content">
<pre>[USER_COMMANDS]
DISABLE_DISPLAY = YES</pre>
</div>
</div>
<div class="paragraph">
<p>See the INI file docs for full details</p>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="ngcgui">NGCGUI</h2>
<div class="sectionbody">
<div class="paragraph">
<p><a id="cha:ngcgui"></a> </p>
</div>
<div class="imageblock">
<div class="content">
<img src="../gui/images/ngcgui.png" alt="ngcgui">
</div>
</div>
<div class="sect2">
<h3 id="overview">Overview</h3>
<div class="ulist">
<ul>
<li>
<p>'NGCGUI' is a tcl application for using Machinekit subroutines.</p>
</li>
<li>
<p>'NGCGUI' can run as a standalone application or can be embedded in
multiple tab pages in the axis gui</p>
</li>
<li>
<p>'PYNGCGUI' is an alternate, python implementation of ngcgui.</p>
</li>
<li>
<p>'PYNGCGUI' can run as a standalone application or can be embedded as
a tab page (with its own set of multiple subroutine tabs) in any
gui that supports embedding of gladevcp applications.  Example guis include:
axis, touchy, gscreen and gmoccapy</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Using NGCGUI or PYNGCGUI:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Tab pages are provided for subroutines specified in the INI file</p>
</li>
<li>
<p>New subroutines tab pages can be added using Custom tab pages</p>
</li>
<li>
<p>Each subroutine tab page provides entry boxes for all subroutine parameters</p>
</li>
<li>
<p>The entry boxes can have a default value and an label that
are identified by special comments in the subroutine file</p>
</li>
<li>
<p>Subroutine invocations are concatenated together to form a multiple step program</p>
</li>
<li>
<p>Any single-file gcode subroutine that conforms to ngcgui conventions can be used</p>
</li>
<li>
<p>Any gcmc (Gcode-meta-compiler) program that conforms to ngcgui conventions
for tagging variables can be used. (The gcmc executable must be installed
separately, see: <a href="http://www.vagrearg.org/content/gcmc" class="bare">http://www.vagrearg.org/content/gcmc</a>)</p>
</li>
</ul>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
NGCGUI and PYNGCGUI implement the same functions and both process .ngc and .gcmc
files that conform to a few ngcgui-specific conventions.  In this document,
the tern NGCGUI generally refers to either application.
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="demonstration-configurations">Demonstration Configurations</h3>
<div class="paragraph">
<p>A number of demonstration configurations are located in the sim directory
of the Sample Configurations offered by the Machinekit configuration picker. The
configuration picker is on the system&#8217;s main menu:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>Applications &gt; CNC &gt; Machinekit</pre>
</div>
</div>
<div class="paragraph">
<p>Examples are included for the axis, touchy, gscreen, and gmoccapy guis.
These examples demonstrate both 3-axis (XYZ) cartesian configurations
(like mills) and lathe (XZ) setups.  Some examples show the use of a
popupkeyboard for touch screen systems and other examples demonstrate
the use of files created for the gcmc (Gcode Meta Compiler) application.
The touchy examples also demonstrate incorporation of a gladevcp backplot
viewer (gremlin_view).</p>
</div>
<div class="paragraph">
<p>The simplest application is found as:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>Sample Configurations / sim / axis / ngcgui /ngcgui_simple</pre>
</div>
</div>
<div class="paragraph">
<p>A comprehensive example showing gcmc compatibility is at:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>Sample Configurations / sim / axis / ngcgui / ngcgui_gcmc</pre>
</div>
</div>
<div class="paragraph">
<p>A comprehensive example embedded as a gladevcp app and using gcmc is at:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>Sample Configurations / sim / gscreen / ngcgui / pyngcgui_gcmc</pre>
</div>
</div>
<div class="paragraph">
<p>The example sim configurations make use of library files that provide
example gcode subroutine (.ngc) files and Gcode-meta-compiler (.gcmc) files:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>'nc_files/ngcgui_lib'</p>
<div class="ulist">
<ul>
<li>
<p>'arc1.ngc' - basic arc using cutter radius compensation</p>
</li>
<li>
<p>'arc2.ngc' - arc speced by center, offset, width, angle (calls arc1)</p>
</li>
<li>
<p>'backlash.ngc' - routine to measure an axis backlash with dial indicator</p>
</li>
<li>
<p>'db25.ngc' - creates a DB25 plug cutout</p>
</li>
<li>
<p>'gosper.ngc' - a recursion demo (flowsnake)</p>
</li>
<li>
<p>'helix.ngc' - helix or D-hole cutting</p>
</li>
<li>
<p>'helix_rtheta.ngc' - helix or D-hole positioned by radius and angle</p>
</li>
<li>
<p>'hole_circle.ngc' - equally spaced holes on a circle</p>
</li>
<li>
<p>'ihex.ngc' - internal hexagon</p>
</li>
<li>
<p>'iquad.ngc' - internal quadrilateral</p>
</li>
<li>
<p>'ohex.ngc' - outside hexagon</p>
</li>
<li>
<p>'oquad.ngc' - outside quadrilateral</p>
</li>
<li>
<p>'qpex_mm.ngc' - demo of qpockets (mm based)</p>
</li>
<li>
<p>'qpex.ngc' - demo of qpockets (inch based)</p>
</li>
<li>
<p>'qpocket.ngc' - quadrilateral pocket</p>
</li>
<li>
<p>'rectangle_probe.ngc' - probe a rectangular area</p>
</li>
<li>
<p>'simp.ngc' - a simple subroutine example that creates two circles</p>
</li>
<li>
<p>'slot.ngc' - slot from connecting two endpoints</p>
</li>
<li>
<p>'xyz.ngc' - machine exerciser constrained to a box shape</p>
</li>
</ul>
</div>
</li>
<li>
<p>'nc_files/ngcgui_lib/lathe'</p>
<div class="ulist">
<ul>
<li>
<p>'g76base.ngc' - gui for g76 threading</p>
</li>
<li>
<p>'g76diam.ngc' - threading speced by major, minor diameters</p>
</li>
<li>
<p>'id.ngc' - bores the inside diameter</p>
</li>
<li>
<p>'od.ngc' - turns the outside diameter</p>
</li>
<li>
<p>'taper-od.ngc' - turns a taper on the outside diameter</p>
</li>
</ul>
</div>
</li>
<li>
<p>'nc_files/gcmc_lib'</p>
<div class="ulist">
<ul>
<li>
<p>'drill.gcmc' - drill holes in rectangle pattern</p>
</li>
<li>
<p>'square.gcmc' - simple demo of variable tags for gcmc files</p>
</li>
<li>
<p>'star.gcmc' - gcmc demo illustrating functions and arrays</p>
</li>
<li>
<p>'wheels.gcmc' - gcmc demo of complex patterns</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>To try a demonstration, select a sim configuration and start
the linuxCNC program.</p>
</div>
<div class="paragraph">
<p>If using the axis gui, press the 'E-Stop'
<span class="image"><img src="../gui/images/tool_estop.gif" alt="tool estop"></span> then 'Machine Power'
<span class="image"><img src="../gui/images/tool_power.gif" alt="tool power"></span> then 'Home All'. Pick a ngcgui tab, fill in
any empty blanks with sensible values and press
'Create Feature' then 'Finalize'. Finally  press the 'Run'
<span class="image"><img src="../gui/images/tool_run.gif" alt="tool run"></span> button to watch it run.  Experiment
by creating multiple features and features from different tab pages.</p>
</div>
<div class="paragraph">
<p>Other guis will have similar functionality but the buttons and names
may be different.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
<div class="title">Notes</div>
The demonstration configs create tab pages for just a few of the provided
examples.  Any gui with a Custom tab page can open any of the library
example subroutines or any user file if it is in the linuxCNC subroutine
path.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>To see special key bindings, click inside an ngcgui tab page to get
focus and then presss Control-k.</p>
</div>
<div class="paragraph">
<p>The demonstration subroutines should run on the simulated
machine configurations included in the distribution.  A user
should always understand the behavior and purpose of a program
before running on a real machine.</p>
</div>
</div>
<div class="sect2">
<h3 id="library-locations">Library Locations</h3>
<div class="paragraph">
<p>In linuxCNC installations installed from deb packages, the simulation configs
for ngcgui use symbolic links to non-user-writable Machinekit libraries for:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>'nc_files/ngcgui_lib'             ngcgui-compatible subfiles</p>
</li>
<li>
<p>'nc_files/ngcgui_lib/lathe'       ngcgui-compatible lathe subfiles</p>
</li>
<li>
<p>'nc_files/gcmc_lib'               ngcgui-gcmc-compatible programs</p>
</li>
<li>
<p>'nc_files/ngcgui_lib/utilitysubs' Helper subroutines</p>
</li>
<li>
<p>'nc_files/ngcgui_lib/mfiles'      User M files</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>These libraries are located by ini file items that specify the search
paths used by linuxCNC (and ngcgui):</p>
</div>
<div class="listingblock">
<div class="content">
<pre>[RS274NGC]
SUBROUTINE_PATH = ../../nc_files/ngcgui_lib:../../nc_files/gcmc_lib:../../nc_files/ngcgui_lib/utilitysubs
USER_M_PATH     = ../../nc_files/ngcgui_lib/mfiles</pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
These are long lines (not continued on multiple lines)
that specify the directories used in a search patch.  The
directory names are separated by colons (:).  No spaces should
occur between directory names.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>A user can create new directories for their own subroutines and
M-files and add them to the search path(s).</p>
</div>
<div class="paragraph">
<p>For example, a user could create directories from the terminal with the commands:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>mkdir /home/myusername/mysubs
mkdir /home/myusername/mymfiles</pre>
</div>
</div>
<div class="paragraph">
<p>And then create or copy system-provided files to these user-writable directories.
For instance, a user might create a ngcgui-compatible subfile named:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>/home/myusername/mysubs/example.ngc</pre>
</div>
</div>
<div class="paragraph">
<p>To use files in new directories, the ini file must be edited to include the new
subfiles and to augment the search path(s).  For this example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>[RS274NGC]
...
SUBROUTINE_PATH = /home/myusername/mysubs:../../nc_files/ngcgui_lib:../../nc_files/gcmc_lib:../../nc_files/ngcgui_lib/utilitysubs
USER_M_PATH     = /home/myusername/mymfiles:../../nc_files/ngcgui_lib/mfiles

[DISPLAY]
...
NGCGUI_SUBFILE = example.ngc
...</pre>
</div>
</div>
<div class="paragraph">
<p>Machinekit (and ngcgui) use the first file found when searching
directories in the search path.  With this behavior, you can
supersede an ngcgui_lib subfile by placing a subfile with an
identical name in a directory that is found earlier in the path
search. More information can be found in the INI chapter of the
Integrators Manual.</p>
</div>
</div>
<div class="sect2">
<h3 id="standalone-usage">Standalone Usage</h3>
<div class="sect3">
<h4 id="standalone-ngcgui">Standalone NGCGUI</h4>
<div class="paragraph">
<p>For usage, type in a terminal:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>ngcgui --help
Usage:
  ngcgui --help | -?
  ngcgui [Options] -D nc_files_directory_name
  ngcgui [Options] -i Machinekit_inifile_name
  ngcgui [Options]

  Options:
         [-S subroutine_file]
         [-p preamble_file]
         [-P postamble_file]
         [-o output_file]
         [-a autosend_file]            (autosend to axis default:auto.ngc)
         [--noauto]                    (no autosend to axis)
         [-N | --nom2]                 (no m2 terminator (use %))
         [--font [big|small|fontspec]] (default: "Helvetica -10 normal")
         [--horiz|--vert]              (default: --horiz)
         [--cwidth comment_width]      (width of comment field)
         [--vwidth varname_width]      (width of varname field)
         [--quiet]                     (fewer comments in outfile)
         [--noiframe]                  (default: frame displays image)</pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
As a standalone application, ngcgui handles a single subroutine file which
can be invoked multiple times.  Multiple standalone ngcgui applications
can be started independently.
</td>
</tr>
</table>
</div>
</div>
<div class="sect3">
<h4 id="standalone-pyngcgui">Standalone PYNGCGUI</h4>
<div class="paragraph">
<p>For usage, type in a terminal:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>pyngcgui --help
Usage:
pyngcgui [Options] [sub_filename]
Options requiring values:
    [-d | --demo] [0|1|2] (0: DEMO standalone toplevel)
                          (1: DEMO embed new notebook)
                          (2: DEMO embed within existing notebook)
    [-S | --subfile       sub_filename]
    [-p | --preamble      preamble_filename]
    [-P | --postamble     postamble_filename]
    [-i | --ini           inifile_name]
    [-a | --autofile      autoauto_filename]
    [-t | --test          testno]
    [-H | --height        height_of_entry widget] (typ 20-40)
    [-K | --keyboardfile  glade_file] (use custom popupkeyboard glade file)
Solo Options:
    [-v | --verbose]
    [-D | --debug]
    [-N | --nom2]         (no m2 terminator (use %))
    [-n | --noauto]       (save but do not automatically send result)
    [-k | --keyboard]     (use default popupkeybaord)
    [-s | --sendtoaxis]   (send generated ngc file to axis gui)
Notes:
      A set of files is comprised of a preamble, subfile, postamble.
      The preamble and postamble are optional.
      One set of files can be specified from cmdline.
      Multiple sets of files can be specified from an inifile.
      If --ini is NOT specified:
         search for a running linuxCNC and use it's inifile</pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
As a standalone application, pyngcgui can read an ini file (or a
running linuxCNC application) to create tab pages for multiple
subfiles.
</td>
</tr>
</table>
</div>
</div>
</div>
<div class="sect2">
<h3 id="embedding-ngcgui">Embedding NGCGUI</h3>
<div class="sect3">
<h4 id="embedding-ngcgui-in-axis">Embedding NGCGUI in Axis</h4>
<div class="paragraph">
<p>The following INI file items go in the [DISPLAY] section. (See additional
sections below for additional items needed)</p>
</div>
<div class="ulist">
<ul>
<li>
<p>'TKPKG = Ngcgui 1.0' - the NGCGUI package</p>
</li>
<li>
<p>'TKPKG = Ngcguittt 1.0' - the True Type Tracer package for generating text
for engraving (optional, must follow TKPKG = Ngcgui).</p>
</li>
<li>
<p>'TTT = truetype-tracer' - name of the truetype tracer program (it must be in user PATH)</p>
</li>
<li>
<p>'TTT_PREAMBLE = in_std.ngc' - Optional, specifies filename for preamble used for
ttt created subfiles. (alternate: mm_std.ngc)</p>
</li>
</ul>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
The optional truetype tracer items are used to specify an ngcgui-compatible tab page
that uses the application truetype-tracer.  The truetype-tracer application must
be installed independently and located in the user PATH.
</td>
</tr>
</table>
</div>
</div>
<div class="sect3">
<h4 id="embedding-pyngcgui-as-a-gladevcp-tab-page-in-a-gui">Embedding PYNGCGUI as a gladevcp tab page in a gui</h4>
<div class="paragraph">
<p>The following INI file items go in the [DISPLAY] section for use with the
axis, gscreen, or touchy guis.  (See additional sections below for additional
items needed)</p>
</div>
<div class="literalblock">
<div class="title">EMBED_ Items</div>
<div class="content">
<pre>EMBED_TAB_NAME = Pyngcgui - name to appear on embedded tab
EMBED_TAB_COMMAND = gladevcp -x {XID} pyngcgui_axis.ui - invokes gladevcp
EMBED_TAB_LOCATION = name_of_location - where the embeded page is located</pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
The EMBED_TAB_LOCATION specifier is not used for the axis gui.  While
pyngcgui can be embedded in axis, integration is more complete when using
ngcgui (using TKPKG = Ngcgui 1.0).  To specify the EMBED_TAB_LOCATION
for other guis, see the example ini files.
</td>
</tr>
</table>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
  The truetype tracer gui front-end is not currently available for gladevcp
applications.
</td>
</tr>
</table>
</div>
</div>
<div class="sect3">
<h4 id="additional-ini-file-items-required-for-ngcgui-or-pyngcgui">Additional INI File items required for ngcgui or pyngcgui</h4>
<div class="paragraph">
<p>The following INI file items go in the [DISPLAY] section for any gui
that embeds either ngcgui or pyngcgui.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>'NGCGUI_FONT = Helvetica -12 normal' - specifices the font name,size, normal|bold</p>
</li>
<li>
<p>'NGCGUI_PREAMBLE = in_std.ngc' - the preamble file to be added in front of the
 subroutines. When concatenating several common subroutine invocations, this preamble
is only added once.  For mm-based machines, use mm_std.ngc</p>
</li>
<li>
<p>'NGCGUI_SUBFILE = filename1.ngc' - creates a tab from the filename1 subroutine</p>
</li>
<li>
<p>'NGCGUI_SUBFILE = filename2.ngc' - creates a tab from the filename2 subroutine</p>
</li>
<li>
<p>'&#8230;&#8203; etc'</p>
</li>
<li>
<p>'NGCGUI_SUBFILE = gcmcname1.gcmc' - creates a tab from the gcmcname1 file</p>
</li>
<li>
<p>'NGCGUI_SUBFILE = gcmcname2.gcmc' - creates a tab from the gcmcname2 file</p>
</li>
<li>
<p>'&#8230;&#8203; etc'</p>
</li>
<li>
<p>'NGCGUI_SUBFILE = ""' - creates a custom tab that can open any subroutine in the search path</p>
</li>
<li>
<p>'NGCGUI_OPTIONS = opt1 opt2 &#8230;&#8203;' - NGCGUI options</p>
<div class="ulist">
<ul>
<li>
<p>'nonew' - disallow making a new custom tab</p>
</li>
<li>
<p>'noremove' - disallow removing any tab page</p>
</li>
<li>
<p>'noauto' - no autosend (use makeFile, then save or manually send)</p>
</li>
<li>
<p>'noiframe' - no internal image, display images on separate top level widget</p>
</li>
<li>
<p>'nom2' - do not terminate with m2, use % terminator.  This option eliminates all
the side effects of m2 termination</p>
</li>
</ul>
</div>
</li>
<li>
<p>'GCMC_INCLUDE_PATH = dirname1:dirname2' - search directories for gcmc include files</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>This is an example of embedding NGCGUI into Axis. The subroutines need to be
in a directory specified by the [RS274NGC]SUBROUTINE_PATH.  Some example
subroutines use other subroutines so check to be sure you have the
dependences, if any, in a SUBROUTINE_PATH directory.  Some subroutines may
use custom Mfiles which must be in a directory specified by the
[RS274NGC]USER_M_PATH.</p>
</div>
<div class="paragraph">
<p>The Gcode-meta-compiler (gcmc) can include statements like:
  include("filename.inc.gcmc");
By default, gcmc includes the current directory which, for linuxCNC,  will be
the directory containing the linuxCNC ini file.  Additional directories can be
prepended to the gcmc search order with the GCMC_INCLUDE_PATH item.</p>
</div>
<div class="listingblock">
<div class="title">Sample axis-gui-based INI</div>
<div class="content">
<pre>[RS274NGC]
...
SUBROUTINE_PATH   = ../../nc_files/ngcgui_lib:../../ngcgui_lib/utilitysubs
USER_M_PATH       = ../../nc_files/ngcgui_lib/mfiles

[DISPLAY]
TKPKG             = Ngcgui    1.0
TKPKG             = Ngcguittt 1.0
# Ngcgui must precede Ngcguittt

NGCGUI_FONT       = Helvetica -12 normal
# specify filenames only, files must be in [RS274NGC]SUBROUTINE_PATH
NGCGUI_PREAMBLE   = in_std.ngc
NGCGUI_SUBFILE    = simp.ngc
NGCGUI_SUBFILE    = xyz.ngc
NGCGUI_SUBFILE    = iquad.ngc
NGCGUI_SUBFILE    = db25.ngc
NGCGUI_SUBFILE    = ihex.ngc
NGCGUI_SUBFILE    = gosper.ngc
# specify "" for a custom tab page
NGCGUI_SUBFILE    = ""
#NGCGUI_SUBFILE   = "" use when image frame is specified if
#                      opening other files is required
#                      images will be put in a top level window
NGCGUI_OPTIONS    =
#NGCGUI_OPTIONS   = opt1 opt2 ...
# opt items:
#   nonew      -- disallow making a new custom tab
#   noremove   -- disallow removing any tab page
#   noauto     -- no auto send (makeFile, then manually send)
#   noiframe   -- no internal image, image on separate top level
GCMC_INCLUDE_PATH = /home/myname/gcmc_includes

TTT               = truetype-tracer
TTT_PREAMBLE      = in_std.ngc

PROGRAM_PREFIX    = ../../nc_files</pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
The above is not a complete axis gui INI&#8201;&#8212;&#8201;the items show are those
used by ngcgui.  Many additional items are required by Machinekit to have
a complete INI file.
</td>
</tr>
</table>
</div>
</div>
<div class="sect3">
<h4 id="truetype-tracer">Truetype Tracer</h4>
<div class="paragraph">
<p>Ngcgui_ttt provides support for truetype-tracer (v4).  It creates an axis tab
page which allows a user to create a new ngcgui tab page after entering text
and selecting a font and other parameters.  (Truetype-tracer must be installed
independently).</p>
</div>
<div class="paragraph">
<p>To embed ngcgui_ttt in axis, specify the following items in addition to ngcgui items:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>Item:    [DISPLAY]TKPKG = Ngcgui_ttt version_number
Example: [DISPLAY]TKPKG = Ngcgui_ttt 1.0
Note:    Mandatory, specifies loading of ngcgui_ttt in an axis tab page named ttt.
         Must follow the TKPKG = Ngcgui item.

Item:    [DISPLAY]TTT = path_to_truetype-tracer
Example: [DISPLAY]TTT = truetype-tracer
Note:    Optional, if not specified, attempt to use /usr/local/bin/truetype-tracer.
         Specify with absolute pathname or as a simple executable name
         in which case the user PATH environment will used to find the program.

Item:    [DISPLAY]TTT_PREAMBLE = preamble_filename
Example: [DISPLAY]TTT_PREAMBLE = in_std.ngc
Note:    Optional, specifies filename for preamble used for ttt created subfiles.</pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="ini-file-path-specifications">INI File Path Specifications</h4>
<div class="paragraph">
<p>Ngcgui uses the linuxCNC search path to find files.</p>
</div>
<div class="paragraph">
<p>The search path begins with the standard directory specified by:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>[DISPLAY]PROGRAM_PREFIX = directory_name</pre>
</div>
</div>
<div class="paragraph">
<p>followed by multiple directories specfied by:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>[RS274NGC]SUBROUTINE_PATH = directory1_name:directory1_name:directory3_name ...</pre>
</div>
</div>
<div class="paragraph">
<p>Directories may be specifed as absolute paths or relative paths.</p>
</div>
<div class="literalblock">
<div class="content">
<pre>Example: [DISPLAY]PROGRAM_PREFIX = /home/myname/machinekit/nc_files
Example: [DISPLAY]PROGRAM_PREFIX = ~/machinekit/nc_files
Example: [DISPLAY]PROGRAM_PREFIX = ../../nc_files</pre>
</div>
</div>
<div class="paragraph">
<p>An absolute path beginning with a "/" specifies a complete filesystem
location.  A path beginning with a "\~/" specifies a path starting
from the user&#8217;s home directory.  A path beginning with "~username/"
specifies a path starting in username&#8217;s home directory.</p>
</div>
<div class="paragraph">
<div class="title">Relative Paths</div>
<p>Relative paths are based on the startup directory which is the directory
containing the INI file.  Using relative paths can facilitate relocation of
configurations but requires a good understanding of linux path specifiers.</p>
</div>
<div class="literalblock">
<div class="content">
<pre>   ./d0        is the same as d0, e.g., a directory named d0 in the startup directory
   ../d1       refers to a directory d1 in the parent directory
   ../../d2    refers to a directory d2 in the parent of the parent directory
   ../../../d3 etc.</pre>
</div>
</div>
<div class="paragraph">
<p>Multiple directories can be specified with [RS274NGC]SUBROUTINE_PATH by
separating them with colons.  The following example illustrates the format
for multiple directories and shows the use of relative and absolute paths.</p>
</div>
<div class="listingblock">
<div class="title">Multiple Directories Example:</div>
<div class="content">
<pre>[RS274NGC]SUBROUTINE_PATH = ../../nc_files/ngcgui_lib:../../nc_files/ngcgui_lib/utilitysubs:/tmp/tmpngc`</pre>
</div>
</div>
<div class="paragraph">
<p>This is one long line, do not continue on multiple lines.  When linuxCNC and/or
ngcgui searches for files, the first file found in the search is used.</p>
</div>
<div class="paragraph">
<p>Machinekit (and ngcgui) must be able to find all subroutines including helper routines
that are called from within ngcgui subfiles.  It is convenient to place
utility subs in a separate directory as indicated in the example above.</p>
</div>
<div class="paragraph">
<p>The distribution includes the ngcgui_lib directory and demo files for
preambles, subfiles, postambles and helper files.  To modify the behavior
of the files, you can copy any file and place it in an earlier part of the
search path.  The first directory searched is [DISPLAY]PROGRAM_PREFIX.  You
can use this directory but it is better practice to create dedicated
directory(ies) and put them at the beginning of the [RS274NGC]SUBROUTINE_PATH.</p>
</div>
<div class="paragraph">
<p>In the following example, files in /home/myname/machinekit/mysubs will be found before
files in ../../nc_files/ngcgui_lib.</p>
</div>
<div class="listingblock">
<div class="title">Adding User Directory Example:</div>
<div class="content">
<pre>[RS274NGC]SUBROUTINE_PATH = /home/myname/machinekit/mysubs:../../nc_files/ngcgui_lib:../../nc_files/ngcgui_lib/utilitysubs`</pre>
</div>
</div>
<div class="paragraph">
<p>New users may inadvertently try to use files that are not structured to be
compatible with ngcgui requirements.  Ngcgui will likely report numerous errors
if the files are not coded per its conventions.  Good practice suggests that
ngcgui-compatible subfiles should be placed in a directory dedicated to that
purpose and that preamble, postamble, and helper files should be in separate
directory(ies) to discourage attempts to use them as subfiles.  Files not intended
for use as subfiles can include a special comment: "(not_a_subfile)" so that
ngcgui will reject them automatically with a relevant message.</p>
</div>
</div>
<div class="sect3">
<h4 id="summary-of-ini-file-item-details-for-ngcgui-usage">Summary of INI File item details for NGCGUI usage</h4>
<div class="literalblock">
<div class="content">
<pre>Item:    [RS274NGC]SUBROUTINE_PATH = dirname1:dirname2:dirname3 ...
Example: [RS274NGC]SUBROUTINE_PATH = ../../nc_files/ngcgui_lib:../../nc_files/ngcgui_lib/utilitysubs
Note:    Optional, but very useful to organize subfiles and utility files

Item:    [RS274NGC]USER_M_PATH = dirname1:dirname2:dirname3 ...
Example: [RS274NGC]USER_M_PATH = ../../nc_files/ngcgui_lib/mfiles
Note:    Optional, needed to locate custom user mfiles


Item:    [DISPLAY]EMBED_TAB_NAME = name to display on embedded tab page
Example: [DISPLAY]EMBED_TAB_NAME = Pyngcgui
Note:    The entries: EMBED_TAB_NAME,EMBED_TAB_COMMAND,EMBED_TAB_LOCATION
         define an embedded application for several linuxCNC guis

Item:    [DISPLAY]EMBED_TAB_COMMAND = programname followed by arguments
Example: [DISPLAY]EMBED_TAB_COMMAND = gladevcp -x {XID} pyngcgui_axis.ui
Note:    For gladevcp applications, see the man page for gladevcp

Item:    [DISPLAY]EMBED_TAB_LOCATION = name_of_location
Example: [DISPLAY]EMBED_TAB_LOCATION = notebook_main
Note:    See example INI files for possible locations
         Not required for the axis gui


Item:    [DISPLAY]PROGRAM_PREFIX = dirname
Example: [DISPLAY]PROGRAM_PREFIX = ../../nc_files
Note:    Mandatory and needed for numerous linuxCNC functions
         It is the first directory used in the search for files


item:    [DISPLAY]TKPKG = Ngcgui version_number
Example: [DISPLAY]TKPKG = Ngcgui 1.0
Note:    Required only for axis gui embedding, specifies loading of ngcgui axis tab pages


Item:    [DISPLAY]NGCGUI_FONT = font_descriptor
Example: [DISPLAY]NGCGUI_FONT = Helvetica -12 normal
Note:    Optional, font_descriptor is a tcl-compatible font specifier
         with items for fonttype -fontsize fontweight
         Default is: Helvetica -10 normal
         Smaller font sizes may be useful for small screens
         Larger font sizes may be helpful for touch screen applications

Item:    [DISPLAY]NGCGUI_SUBFILE = subfile_filename
Example: [DISPLAY]NGCGUI_SUBFILE = simp.ngc
Example: [DISPLAY]NGCGUI_SUBFILE = square.gcmc
Example: [DISPLAY]NGCGUI_SUBFILE = ""
Note:    Use one or more items to specify ngcgui-compatible
         subfiles or gcmc programs that require a tab page on startup.
         A "Custom" tab will be created when the filename is "".
         A user can use a "Custom" tab to browse the file system
         and identify preamble, subfile, and postamble files.

Item:    [DISPLAY]NGCGUI_PREAMBLE = preamble_filename
Example: [DISPLAY]NGCGUI_PREAMBLE = in_std.ngc
Note:    Optional, when specified, the file is prepended to a subfile.
         Files created with "Custom" tab pages use the preamble specified
         with the page.

Item:    [DISPLAY]NGCGUI_POSTAMBLE = postamble_filename
Example: [DISPLAY]NGCGUI_POSTAMBLE = bye.ngc
Note:    Optional, when specified, the file is appended to a subfiles.
         Files created with "Custom" tab pages use the postamble specified
         with the page.

Item:    [DISPLAY]NGCGUI_OPTIONS = opt1 opt2 ...
Example: [DISPLAY]NGCGUI_OPTIONS = nonew noremove
Note:    Multiple options are separated by blanks.
         By default, ngcgui configures tab pages so that:
            1) a user can make new tabs
            2) a user can remove tabs (except for the last remaining one)
            3) finalized files are automatically sent to linuxCNC
            4) an image frame (iframe) is made available to display
               an image for the subfile (if an image is provided)
            5) the ngcgui result file sent to linuxCNC is terminated with
               an m2 (and incurs m2 side-effects)

         The options nonew, noremove, noauto, noiframe, nom2 respectively
         disable these default behaviors.

         By default, if an image (.png,.gif,jpg,pgm) file
         is found in the same directory as the subfile, the
         image is displayed in the iframe.  Specifying
         the noiframe option makes available additional buttons
         for selecting a preamble, subfile, and postamble and
         additional checkboxes.  Selections of the checkboxes
         are always available with special keys:
           Ctrl-R Toggle "Retain values on Subfile read"
           Ctrl-E Toggle "Expand subroutine"
           Ctrl-a Toggle "Autosend"
          (Ctrl-k lists all keys and functions)

         If noiframe is specified and an image file is found,
         the image is displayed in a separate window and
         all functions are available on the tab page.

         The NGCGUI_OPTIONS apply to all ngcgui tabs except that the
         nonew, noremove, and noiframe options are not applicable
         for "Custom" tabs.  Do not use "Custom" tabs if you want
         to limit the user's ability to select subfiles or create
         additional tab pages.

Item:    [DISPLAY]GCMC_INCLUDE_PATH = dirname1:dirname2:...
Example: [DISPLAY]GCMC_INCLUDE_PATH = /home/myname/gcmc_includes:/home/myname/gcmc_includes2
Note:    Optional, each directory will be included when gcmc is invoked
         using the option: --include dirname</pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="file-requirements-for-ngcgui-compatibility">File Requirements for NGCGUI Compatibility</h3>
<div class="sect3">
<h4 id="single-file-gcode-ngc-subroutine-requirements">Single-File Gcode (.ngc) Subroutine Requirements</h4>
<div class="paragraph">
<p>An NGCGUI-compatible subfile contains a single subroutine definition. The name
of the subroutine must be the same as the filename (not including the .ngc
suffix). Machinekit supports named or numbered subroutines, but only named
subroutines are compatible with NGCGUI. For more information see the
<a href="#cha:O-Codes">O-Codes</a> Chapter.</p>
</div>
<div class="paragraph">
<p>The first non-comment line should be a sub statement.
The last non-comment line should be a endsub statement.</p>
</div>
<div class="listingblock">
<div class="title">examp.ngc:</div>
<div class="content">
<pre>(info: info_text_to_appear_at_top_of_tab_page)
; comment line beginning with semicolon
( comment line using parentheses)
o&lt;examp&gt; sub
  BODY_OF_SUBROUTINE
o&lt;examp&gt; endsub
; comment line beginning with semicolon
( comment line using parentheses)</pre>
</div>
</div>
<div class="paragraph">
<p>The body of the subroutine should begin with a set of statements that define
local named parameters for each positional parameter expected for the
subroutine call. These definitions must be consecutive beginning with #1 and
ending with the last used parameter number. Definitions must be provided for
each of these parameters (no omissions).</p>
</div>
<div class="listingblock">
<div class="title">Parameter Numbering</div>
<div class="content">
<pre>#&lt;xparm&gt; = #1
#&lt;yparm&gt; = #2
#&lt;zparm&gt; = #3</pre>
</div>
</div>
<div class="paragraph">
<p>Machinekit considers all numbered parameters in the range #1 thru #30 to be calling
parameters so ngcgui provides entry boxes for any occurence of parameters in
this range. It is good practice to avoid use of numbered parameters #1 through
#30 anywhere else in the subroutine. Using local, named parameters is
recommended for all internal variables.</p>
</div>
<div class="paragraph">
<p>Each defining statement may optionally include a special comment and a default
value for the parameter.</p>
</div>
<div class="listingblock">
<div class="title">Statement Prototype</div>
<div class="content">
<pre>#&lt;vname&gt; = #n (=default_value)
or
#&lt;vname&gt; = #n (comment_text)
or
#&lt;vname&gt; = #n (=default_value comment_text)</pre>
</div>
</div>
<div class="listingblock">
<div class="title">Parameter Examples</div>
<div class="content">
<pre>#&lt;xparm&gt; = #1 (=0.0)
#&lt;yparm&gt; = #2 (Ystart)
#&lt;zparm&gt; = #3 (=0.0 Z start setting)</pre>
</div>
</div>
<div class="paragraph">
<p>If a default_value is provided, it will be entered in the entry box
for the parameter on startup.</p>
</div>
<div class="paragraph">
<p>If comment_text is included, it will be used to identify the input
instead of the parameter name.</p>
</div>
<div class="paragraph">
<div class="title">Global Named Parameters</div>
<p>Notes on global named parameters and ngcgui:</p>
</div>
<div class="paragraph">
<p>(global named parameters have a leading underscore in the name, like
#&lt;_someglobalname&gt;)</p>
</div>
<div class="paragraph">
<p>As in many programming languages, use of globals is powerful but can often lead
to unexpected consequences. In Machinekit, existing global named parameters will be
valid at subroutine execution and subroutines can modify or create global named
parameters.</p>
</div>
<div class="paragraph">
<p>Passing information to subroutines using global named parameters is discouraged
since such usage requires the establishment and maintenance of a well-defined
global context that is difficult to maintain. Using numbered parameters #1
thru #30 as subroutine inputs should be sufficient to satisfy a wide range of
design requirements.</p>
</div>
<div class="paragraph">
<p>While input global named parameters are discouraged, linuxCNC subroutines must use
global named parameters for returning results. Since ngcgui-compatible
subfiles are aimed at gui usage, return values are not a common requirement.
However, ngcgui is useful as a testing tool for subroutines which do return
global named parameters and it is common for ngcgui-compatible subfiles to call
utility subroutine files that return results with global named parameters.</p>
</div>
<div class="paragraph">
<p>To support these usages, ngcgui ignores global named parameters that include a
colon (:) character in their name. Use of the colon (:) in the name prevents
ngcgui from making entryboxes for these parameters.</p>
</div>
<div class="listingblock">
<div class="title">Global Named Parameters</div>
<div class="content">
<pre>o&lt;examp&gt; sub
...
#&lt;_examp:result&gt; = #5410       (return the current tool diameter)
...
o&lt;helper&gt; call [#&lt;x1&gt;] [#&lt;x2&gt;] (call a subroutine)
#&lt;xresult&gt; = #&lt;_helper:answer&gt; (immediately localize the helper global result)
#&lt;_helper:answer&gt; = 0.0        (nullify global named parameter used by subroutine)
...
o&lt;examp&gt; endsub</pre>
</div>
</div>
<div class="paragraph">
<p>In the above example, the utility subroutine will be found in a separate file
named helper.ngc. The helper routine returns a result in a global
named parameter named #&lt;_helper:answer.</p>
</div>
<div class="paragraph">
<p>For good practice, the calling subfile immediately localizes the result for use
elsewhere in the subfile and the global named parameter used for returning the
result is nullified in an attempt to mitigate its inadvertent use elsewhere in
the global context. (A nullification value of 0.0 may not always be a good
choice).</p>
</div>
<div class="paragraph">
<p>Ngcgui supports the creation and concatenation of multiple features for a
subfile and for multiple subfiles. It is sometimes useful for subfiles to
determine their order at runtime so ngcgui inserts a special global parameter
that can be tested within subroutines. The parameter is named #&lt;_feature:&gt;.
Its value begins with a value of 0 and is incremented for each added feature.</p>
</div>
<div class="paragraph">
<div class="title">Additional Features</div>
<p>A special 'info' comment can be included anywhere in an ngcgui-compatible
subfile. The format is:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>(info: info_text)</pre>
</div>
</div>
<div class="paragraph">
<p>The info_text is displayed near the top of the ngcgui tab page in axis.</p>
</div>
<div class="paragraph">
<p>Files not intended for use as subfiles can include a special comment
so that ngcgui will reject them automatically with a relevant message.</p>
</div>
<div class="listingblock">
<div class="content">
<pre>(not_a_subfile)</pre>
</div>
</div>
<div class="paragraph">
<p>An optional image file (.png,.gif,.jpg,.pgm) can accompany a subfile. The
image file can help clarify the parameters used by the subfile. The image file
should be in the same directory as the subfile and have the same name with an
appropriate image suffix, e.g. the subfile example.ngc could be accompanied by an
image file examp.png. Ngcgui attempts to resize large images by subsampling
to a size with maximum width of 320 and maximum height of 240 pixels.</p>
</div>
<div class="paragraph">
<p>None of the conventions required for making an ngcgui-compatible subfile
preclude its use as general purpose subroutine file for Machinekit.</p>
</div>
<div class="paragraph">
<p>The Machinekit distribution includes a library (ngcgui_lib directory) that
includes both example ngcgui-compatible subfiles and utility files
to illustrate the features of Machinekit subroutines and ngcgui usage.
Another libary (gcmc_lib) provides examples for subroutine files for
the Gcode meta compiler (gcmc)</p>
</div>
<div class="paragraph">
<p>Additional user sumitted subroutines can be found on the Forum in the
Subroutines Section.</p>
</div>
</div>
<div class="sect3">
<h4 id="gcode-meta-compiler-gcmc-file-requirements">Gcode-meta-compiler (.gcmc) file requirements</h4>
<div class="paragraph">
<p>Files for the Gcode-meta-compiler (gcmc) are read by ngcgui and it
creates entry boxes for variables tagged in the file.  When a feature
for the file is finalized, ngcgui passes the file as input to the gcmc
compiler and, if the compile is successful, the resulting gcode file
is sent to linuxCNC for execution.  The resulting file is formatted as
single-file subroutine; .gcmc files and .ngc files can be intermixed
by ngcgui.</p>
</div>
<div class="paragraph">
<p>The variables identified for  inclusion in ngcgui are tagged with lines
that will appear as comments to the gcmc compiler.</p>
</div>
<div class="listingblock">
<div class="title">Example variable tags formats</div>
<div class="content">
<pre>//ngcgui: varname1 =
//ngcgui: varname2 = value2
//ngcgui: varname3 = value3, label3;</pre>
</div>
</div>
<div class="listingblock">
<div class="title">Examples:</div>
<div class="content">
<pre>//ngcgui: zsafe =
//ngcgui: feedrate = 10
//ngcgui: xl = 0, x limit</pre>
</div>
</div>
<div class="paragraph">
<p>For these examples, the entry box for varname1 will have no default,
the entry box for varname2 will have a default of value2, and the
entry box for varname 3 will have a default of value 3 and a label
label3 (instead of varname3).  The default values must be numbers.</p>
</div>
<div class="paragraph">
<p>To make it easier to modify valid lines in a gcmc file, alternate
tag line formats accepted.  The alternate formats ignore trailing
semicolons (;) and trailing comment markers (//)  With this provision,
it is often makes it possible to just add the //ngcgui: tag to
existing lines in a .gcmc file.</p>
</div>
<div class="listingblock">
<div class="title">Alternate variable tag formats</div>
<div class="content">
<pre>//ngcgui: varname2 = value2;
//ngcgui: varname3 = value3; //, label3;</pre>
</div>
</div>
<div class="listingblock">
<div class="title">Examples:</div>
<div class="content">
<pre>//ngcgui: feedrate = 10;
//ngcgui: xl = 0; //, x limit</pre>
</div>
</div>
<div class="paragraph">
<p>An info line that will appear at the top of a tab page may be optionally
included with a line tagged as:</p>
</div>
<div class="listingblock">
<div class="title">Info tag</div>
<div class="content">
<pre>//ngcgui: info: text_to_appear_at_top_of_tab_page</pre>
</div>
</div>
<div class="paragraph">
<p>When required, options can be passed to the gcmc compiler with a line tagged:</p>
</div>
<div class="listingblock">
<div class="title">Option line tag format</div>
<div class="content">
<pre>//ngcgui: -option_name [ [=] option_value]</pre>
</div>
</div>
<div class="listingblock">
<div class="title">Examples:</div>
<div class="content">
<pre>//ngcgui: -I
//ngcgui: --imperial
//ngcgui: --precision 5
//ngcgui: --precision=6</pre>
</div>
</div>
<div class="paragraph">
<p>Options for gcmc are available with the terminal command:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>gcmc --help</pre>
</div>
</div>
<div class="paragraph">
<p>A gcmc program by default uses metric mode.  The mode can be
set to inches with the option setting:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>//ngcgui: --imperial</pre>
</div>
</div>
<div class="paragraph">
<p>A preamble file, if used, can set a mode (g20 or g21) that
conflicts with the mode used by a gcmc file.  To ensure that
the gcmc program mode is in effect, include the following
statement in the .gcmc file:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>include("ensure_mode.gcmc")</pre>
</div>
</div>
<div class="paragraph">
<p>and provide a proper path for gcmc include_files in the ini file,
for example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>[DISPLAY]
GCMC_INCLUDE_PATH = ../../nc_files/gcmc_lib</pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="db25-example">DB25 Example</h3>
<div class="paragraph">
<p>The following shows the DB25 subroutine. In the first photo you see where you
fill in the blanks for each variable.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../gui/images/ngcgui-db25-1.png" alt="ngcgui db25 1">
</div>
</div>
<div class="paragraph">
<p>This photo shows the backplot of the DB25 subroutine.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../gui/images/ngcgui-db25-2.png" alt="ngcgui db25 2">
</div>
</div>
<div class="paragraph">
<p>This photo shows the use of the new button and the custom tab to create
three DB25 cutouts in one program.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../gui/images/ngcgui-db25-3.png" alt="ngcgui db25 3">
</div>
</div>
<div class="paragraph">
<p><a id="cha:gmoccapy"></a></p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="gmoccapy">GMOCCAPY</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="introduction-2">Introduction</h3>
<div class="paragraph">
<p>'GMOCCAPY' is a GUI for LinuxCNC, designed to be used with a touch screen,
but can also be used on normal screens with a mouse or hardware buttons and MPG
wheels, as it presents HAL Pins for the most common needs. Please find more
information in the following.</p>
</div>
<div class="paragraph">
<p>It offers the possibility to display up to 4 axis, support a lathe mode for
normal and back tool lathe and can be adapted to nearly every need, because
gmoccapy supports embedded tabs and side panels. As a good example for that see
<a href="http://wiki.linuxcnc.org/cgi-bin/wiki.pl?Gmoccapy_plasma">gmoccapy_plasma</a></p>
</div>
<div class="paragraph">
<p>It has support for integrated virtual keyboard (onboard or matchbox-keyboard),
so there is no need for a hardware keyboard or mouse, but it can also be used
with that hardware. Gmoccapy offers a separate settings page to configure most
settings of the GUI without editing files.</p>
</div>
<div class="paragraph">
<p>'GMOCCAPY' can be localized very easy, because the corresponding files are
separated from the linuxcnc.po files, so there is no need to translate unneeded
stuff. The files are placed in <strong>/src/po/gmoccapy</strong>. Just copy the gmoccapy.pot
file to something like fr.po and translate that file with gtranslator or poedit.
After a make you got the GUI in your preference language. Please publish your
translation, so it can be included in the official packages and be published to
other users. At the Moment it is available in English, German, Spanish, Polish,
Serbian and Hungarian. Feel free to help me to introduce more languages,
<strong>nieson@web.de</strong>. If you need help, don&#8217;t hesitate to ask.</p>
</div>
<div class="imageblock" style="text-align: left">
<div class="content">
<img src="../gui/images/gmoccapy_4_axis.png" alt="gmoccapy 4 axis">
</div>
</div>
</div>
<div class="sect2">
<h3 id="requirements">Requirements</h3>
<div class="paragraph">
<p>Gmoccapy has been tested on Ubuntu 10.04 and 12.04 and Debian Wheezy, with
LinuxCNC 2.6 ,2.7, and master, if you use other versions, please inform about
problems or solutions on the
<a href="http://www.linuxcnc.org/index.php/english/forum/41-guis/26314-gmoccapy-a-new-screen-for-linuxcnc">LinuxCNC forum</a> or the
<a href="http://www.cncecke.de/forum/showthread.php?t=78549">German CNC Ecke Forum</a> or
<a href="https://lists.sourceforge.net/lists/listinfo/emc-users">LinuxCNC users mailing list</a></p>
</div>
<div class="paragraph">
<p>The minimum screen resolution for gmoccapy, using it without side panels is
<strong>979 x 750 Pixel</strong>, so it should fit to every standard screen.</p>
</div>
</div>
<div class="sect2">
<h3 id="how-to-get-gmoccapy">How To Get gmoccapy</h3>
<div class="paragraph">
<p>Beginning with LinuxCNC 2.6 gmoccapy is included in the standard installation.
So the easiest way to get gmoccapy on you controlling PC, is just to get the
<a href="http://www.linuxcnc.org/index.php/english/download">ISO</a> and install
from the CD / DVD /USB-Stick.</p>
</div>
<div class="paragraph">
<p>If you do have already installed an earlier LinuxCNC version, check how to
update <a href="http://wiki.linuxcnc.org/cgi-bin/wiki.pl?UpdatingTo2.6">here</a>.</p>
</div>
<div class="paragraph">
<p>You will receive updates with the regular deb packages.</p>
</div>
<div class="paragraph">
<p>You will get a similar screen to the following:
The design may variate depending on your config.</p>
</div>
<div class="imageblock" style="text-align: left">
<div class="content">
<img src="../gui/images/gmoccapy_3_axis.png" alt="gmoccapy 3 axis">
</div>
</div>
</div>
<div class="sect2">
<h3 id="basic-configuration">Basic Configuration</h3>
<div class="paragraph">
<p>There is really not to much to configure just to run gmoccapy, but there are some points
you should take care off if you want to use all the features of the GUI.</p>
</div>
<div class="paragraph">
<p>You will find the following INI files included, just to show the basics:<br>
<br>
 * gmoccapy.ini<br>
 * gmoccapy_4_axis.ini<br>
 * gmoccapy_lathe.ini<br>
 * gmoccapy_lathe_imperial.ini<br>
 * gmoccapy_left_panel.ini<br>
 * gmoccapy_right_panel.ini<br>
 * gmoccapy_messages.ini<br>
 * gmoccapy_pendant.ini<br>
 * gmoccapy_sim_hardware_button.ini<br>
 * gmoccapy_tool_sensor.ini<br>
 * gmoccapy_with_user_tabs.ini<br>
<br>
The names should explain the main intention of the different INI Files.<br></p>
</div>
<div class="paragraph">
<p>If you use an existing configuration of your machine, just edit your INI according to this document.<br></p>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<div class="title">Important</div>
</td>
<td class="content">
If you want to use <a href="#gmoccapy:macros">MACROS</a>, don&#8217;t forget to set the path to your macros or
subroutines folder as described below.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>So let us take a closer look to the the INI file and what you need to include
to use gmoccapy on your machine:<br></p>
</div>
<div class="sect3">
<h4 id="gmoccapy:display-section">The DISPLAY Section</h4>
<div class="literalblock">
<div class="content">
<pre>[DISPLAY]
DISPLAY = gmoccapy
PREFERENCE_FILE_PATH = gmoccapy_preferences
DEFAULT_LINEAR_VELOCITY = 166.666
MAX_LINEAR_VELOCITY = 166.666
MAX_FEED_OVERRIDE = 1.5
MAX_SPINDLE_OVERRIDE = 1.2
MIN_SPINDLE_OVERRIDE = 0.5
LATHE = 1
BACK_TOOL_LATHE = 1
PROGRAM_PREFIX = ../../nc_files/</pre>
</div>
</div>
<hr>
<div class="paragraph">
<p>The most important part is to tell LinuxCNC to use gmoccapy, editing the [DISPLAY] section.</p>
</div>
<div class="literalblock">
<div class="content">
<pre>[DISPLAY]
DISPLAY = gmoccapy</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>PREFERENCE_FILE_PATH = gmoccapy_preferences</pre>
</div>
</div>
<div class="paragraph">
<p>The line PREFERENCE_FILE_PATH gives the location and name of the preferences file to be used.
In most cases this line will not be needed, it is used by gmoccapy to store your settings of the GUI,
like themes, DRO units, colors, and keyboard settings, etc., see <a href="#gmoccapy:settings-page">settings page</a> for more details.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
If no path or file is given, gmoccapy will use as default
&lt;your_machinename&gt;.pref, if no machine name is given in your INI File it will
use gmoccapy.pref  The file will be stored in your config directory, so the
settings will not be mixed if you use several configs. If you only want to use
one file for several machines, you need to include PREFERENCE_FILE_PATH in your
INI.
</td>
</tr>
</table>
</div>
<div class="listingblock">
<div class="content">
<pre>DEFAULT_LINEAR_VELOCITY = 166.666</pre>
</div>
</div>
<div class="paragraph">
<p>Sets the default linear velocity in machine units per second.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
If no value is given, a value of 15 will be applied. If you don&#8217;t set max
linear velocity, the default linear velocity will be reduced to the default
value max linear velocity (60).
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>If you don&#8217;t set max velocity in TRAJ, it may be reduced as well see
<a href="#gmoccapy:traj-section">TRAJ section</a></p>
</div>
<div class="listingblock">
<div class="content">
<pre>MAX_LINEAR_VELOCITY = 166.666</pre>
</div>
</div>
<div class="paragraph">
<p>Sets the value of the max velocity for jogging in machine units per second.</p>
</div>
<div class="paragraph">
<p>[NOTE] If no value is given, a value of 60 will be applied.</p>
</div>
<div class="listingblock">
<div class="content">
<pre>MAX_FEED_OVERRIDE = 1.5</pre>
</div>
</div>
<div class="paragraph">
<p>Sets the maximum feed override, in the example given, you will be allowed to
override the feed by 150%.</p>
</div>
<div class="listingblock">
<div class="content">
<pre>MAX_SPINDLE_OVERRIDE = 1.2
MIN_SPINDLE_OVERRIDE = 0.5</pre>
</div>
</div>
<div class="paragraph">
<p>Will allow you to change the spindle override within a limit from 50% to 120%.</p>
</div>
<div class="listingblock">
<div class="content">
<pre>LATHE = 1
BACK_TOOL_LATHE = 1</pre>
</div>
</div>
<div class="paragraph">
<p>The first line set the screen layout to control a lathe.</p>
</div>
<div class="paragraph">
<p>The second line is optional and will switch the X axis in a way you need for a
back tool lathe. Also the keyboard shortcuts will react in a different way.</p>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<div class="title">Tip</div>
</td>
<td class="content">
See also the <a href="#gmoccapy:lathe-section">Lathe Specific Section</a>
</td>
</tr>
</table>
</div>
<div class="ulist">
<ul>
<li>
<p>PROGRAM_PREFIX = ../../nc_files/</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Is the entry to tell linuxcnc/gmoccapy where to look for the ngc files.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
If not specified Gmoccapy will look in the following order for ngc files:
linuxcnc/nc_files and then the users home directory.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<div class="title">Configuration of tabs and side panels</div>
<p>You can add embedded programs to gmoccapy like you can do in axis, touchy and
gscreen. All is done by gmoccapy automatically if you include a few lines in
your INI file in the DISPLAY section.</p>
</div>
<div class="paragraph">
<p>If you never used a glade panel, I recommend to read the excellent documentation.
<a href="http://www.linuxcnc.org/docs/html/gui/gladevcp.html">Glade VCP</a></p>
</div>
<div class="listingblock">
<div class="title">Example</div>
<div class="content">
<pre> EMBED_TAB_NAME = DRO
 EMBED_TAB_LOCATION = ntb_user_tabs
 EMBED_TAB_COMMAND = gladevcp -x {XID} dro.glade

 EMBED_TAB_NAME = Second user tab
 EMBED_TAB_LOCATION = ntb_preview
 EMBED_TAB_COMMAND = gladevcp -x {XID} vcp_box.glade</pre>
</div>
</div>
<div class="paragraph">
<p>All you have to take care off, is that you include for every tab or side panel
the mentioned three lines,</p>
</div>
<div class="ulist">
<ul>
<li>
<p>EMBED_TAB_NAME = Represents the name of the tab or side panel, it is up to you
what name you use, but it must be present!</p>
</li>
<li>
<p>EMBED_TAB_LOCATION = Is the place where your program will be placed in the GUI.</p>
</li>
</ul>
</div>
<div class="ulist">
<div class="title">valid values are:</div>
<ul>
<li>
<p>ntb_user_tabs            (as main tab, covering the complete screen)'</p>
</li>
<li>
<p>ntb_preview              (as tab on the preview side)'</p>
</li>
<li>
<p>box_left                 (on the left, complete high of the screen)</p>
</li>
<li>
<p>box_right                (on the right, in between the normal screen and the button list)</p>
</li>
<li>
<p>box_coolant_and_spindle  (will hide the coolant and spindle frames and introduce your glade file here)</p>
</li>
<li>
<p>box_cooling              (will hide the cooling frame and introduce your glade file)</p>
</li>
<li>
<p>box_spindle              (will hide the spindle frame and introduce your glade file)</p>
</li>
<li>
<p>box_vel_info             (will hide the velocity frames and introduce your glade file)</p>
</li>
<li>
<p>box_custom_1             (will introduce your glade file left of vel_frame)</p>
</li>
<li>
<p>box_custom_2             (will introduce your glade file left of cooling_frame)</p>
</li>
<li>
<p>box_custom_3             (will introduce your glade file left of spindle_frame)</p>
</li>
<li>
<p>box_custom_4             (will introduce your glade file right of spindle_frame)</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>See the different INI files included to see the differences</p>
</div>
<div class="ulist">
<ul>
<li>
<p>EMBED_TAB_COMMAND = the command to execute, i.e.</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre>gladevcp -x {XID} dro.glade</pre>
</div>
</div>
<div class="paragraph">
<p>Includes a custom glade file called dro.glade in the mentioned location
The file must be placed in the config folder of your machine.</p>
</div>
<div class="listingblock">
<div class="content">
<pre>gladevcp h_buttonlist.glade</pre>
</div>
</div>
<div class="paragraph">
<p>Will just open a new user window called h_buttonlist.glade note the difference,
this one is stand alone, and can be moved around independent from gmoccapy
window.</p>
</div>
<div class="listingblock">
<div class="content">
<pre>camview-emc -w {XID}</pre>
</div>
</div>
<div class="paragraph">
<p>Will add a live image from a web cam to the location you specified. Take care
that camview-emc is installed, as it is not by default. Detailed information
for camview and linuxcnc at: <a href="http://psha.org.ru/b/camview-emc.html">cam view</a></p>
</div>
<div class="listingblock">
<div class="content">
<pre>gladevcp -c gladevcp -u hitcounter.py -H manual-example.hal manual-example.ui</pre>
</div>
</div>
<div class="paragraph">
<p>Will add a the panel manual-example.ui, include a custom python handler,
hitcounter.py and make all connections after realizing the panel according to
manual-example.hal.</p>
</div>
<div class="paragraph">
<p>Here are some examples:</p>
</div>
<div class="imageblock" style="text-align: left">
<div class="content">
<img src="../gui/images/gmoccapy_ntb_user_tab.png" alt="gmoccapy ntb user tab">
</div>
<div class="title">Figure 21. ntb_user_tabs - with integrated camview program</div>
</div>
<div class="imageblock" style="text-align: left">
<div class="content">
<img src="../gui/images/gmoccapy_ntb_preview_maximized_2.png" alt="gmoccapy ntb preview maximized 2">
</div>
<div class="title">Figure 22. ntb_preview - as maximized version</div>
</div>
<div class="imageblock" style="text-align: left">
<div class="content">
<img src="../gui/images/gmoccapy_ntb_preview.png" alt="gmoccapy ntb preview">
</div>
<div class="title">Figure 23. ntb_preview</div>
</div>
<div class="imageblock" style="text-align: left">
<div class="content">
<img src="../gui/images/gmoccapy_with_left_box_in_edit_mode.png" alt="gmoccapy with left box in edit mode">
</div>
<div class="title">Figure 24. box_left - showing gmoccapy in edit mode</div>
</div>
<div class="imageblock" style="text-align: left">
<div class="content">
<img src="../gui/images/gmoccapy_with_right_panel_in_MDI_mode.png" alt="gmoccapy with right panel in MDI mode">
</div>
<div class="title">Figure 25. box_right - and gmoccapy in MDI mode</div>
</div>
<div class="paragraph">
<div class="title">Configuration of User Created Messages</div>
<p>Gmoccapy has the ability to create hal driven user messages. To use them you need to introduce some lines
in the [DISPLAY] section of the INI file.</p>
</div>
<div class="paragraph">
<p>Here is how to set up 3 user pop up message dialogs the messages support pango markup language.
Detailed information about the markup language can be found at <a href="https://developer.gnome.org/pango/stable/PangoMarkupFormat.html">Pango Markup</a></p>
</div>
<div class="listingblock">
<div class="content">
<pre>MESSAGE_TEXT    = The text to be displayed, may be pango markup formated
MESSAGE_TYPE    = "status" , "okdialog" , "yesnodialog"
MESSAGE_PINNAME = is the name of the hal pin group to be created</pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>'status' : Will just display a message as pop up window, using the messaging
system of gmoccapy</p>
</li>
<li>
<p>'okdialog' : Will hold focus on the message dialog and will activate a
"-waiting" Hal_Pin OUT. Closing the message will reset the waiting pin</p>
</li>
<li>
<p>'yesnodialog' : Will hold focus on the message dialog and will activate
a "-waiting" Hal_Pin bit OUT it will also give access to an "-response"
Hal_Pin Bit Out, this pin will hold 1 if the user clicks OK, and in all
other states it will be 0 Closing the message will reset the waiting pin
The response Hal Pin will remain 1 until the dialog is called again</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="title">Example</div>
<div class="content">
<pre>MESSAGE_TEXT = This is a &lt;span background="#ff0000" foreground="#ffffff"&gt;
info-message&lt;/span&gt; test
MESSAGE_TYPE = status
MESSAGE_PINNAME = statustest

MESSAGE_TEXT = This is a yes no dialog test
MESSAGE_TYPE = yesnodialog
MESSAGE_PINNAME = yesnodialog

MESSAGE_TEXT = Text can be &lt;small&gt;small&lt;/small&gt;, &lt;big&gt;big&lt;/big&gt;, &lt;b&gt;bold&lt;/b &lt;i&gt;italic&lt;/i&gt;, and even be &lt;span color="red"&gt;colored&lt;/span&gt;.
MESSAGE_TYPE = okdialog
MESSAGE_PINNAME = okdialog</pre>
</div>
</div>
<div class="paragraph">
<p>The specific hal pin conventions for these can be found under the
<a href="#gmoccapy:user-created-message">User Messages</a>  hal pin section.</p>
</div>
</div>
<div class="sect3">
<h4 id="gmocappy:rs274ngc">The RS274NGC Section</h4>
<div class="listingblock">
<div class="content">
<pre>[RS274NGC]
SUBROUTINE_PATH = macros</pre>
</div>
</div>
<div class="paragraph">
<p>Sets the path to search for macros and other subroutines.</p>
</div>
</div>
<div class="sect3">
<h4 id="gmoccapy:macros">The MACRO Section</h4>
<div class="paragraph">
<p>You can add macros to gmoccapy, similar to touchy&#8217;s way. A macro is nothing
else than a ngc-file. You are able to execute complete CNC programs in MDI
mode, by just pushing one button. To do so, you have to add a section like so:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>[MACROS]
MACRO = i_am_lost
MACRO = hello_world
MACRO = jog_around
MACRO = increment xinc yinc
MACRO = go_to_position X-pos Y-pos Z-pos</pre>
</div>
</div>
<div class="paragraph">
<p>This will add 5 macros to the MDI button list.
Please note, that maximal 9 macros will appear in the GUI, due to place
reasons. But it is no error placing more in your INI file.</p>
</div>
<div class="imageblock" style="text-align: left">
<div class="content">
<img src="../gui/images/gmoccapy_mdi_hidden_keyboard.png" alt="gmoccapy mdi hidden keyboard">
</div>
</div>
<div class="paragraph">
<p>The name of the file must be <strong>exactly the same</strong> as the name given in the MACRO
line. So the macro '<strong>i_am_lost</strong>' will call the file '<strong>i_am_lost.ngc</strong>'.</p>
</div>
<div class="ulist">
<div class="title">The macro files must follow some rules:</div>
<ul>
<li>
<p>the name of the file need to be the same as the name mentioned in the macro
line, just with the ngc extension</p>
</li>
<li>
<p>The file must contain a subroutine like so: '<strong>O&lt;i_am_lost&gt; sub</strong>', the name
of the sub must match exactly (<strong>case sensitive</strong>) the name of the macro</p>
</li>
<li>
<p>the file must end with an endsub '<strong>O&lt;i_am_lost&gt; endsub</strong>' followed by an
'<strong>M2</strong>' command</p>
</li>
<li>
<p>the files need to be placed in a folder specified in your INI file in the
RS274NGC section (see <a href="#gmocappy:rs274ngc">RS274NGC</a>)</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The code in between sub and endsub will be executed by pushing the
corresponding macro button.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
You will find the sample macros in macros folder placed in the gmoccapy
sim folder.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Gmoccapy will also accept macros asking for parameters like:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>go_to_position X-pos Y-pos Z-pos</pre>
</div>
</div>
<div class="paragraph">
<p>The parameters must be separated by spaces. This calls a file
'go_to_position.ngc' with the following content:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>; Test file go to position
; will jog the machine to a given position

O&lt;go_to_position&gt; sub

G17
G21
G54
G61
G40
G49
G80
G90

;#1 = &lt;X-Pos&gt;
;#2 = &lt;Y-Pos&gt;
;#3 = &lt;Z-Pos&gt;

(DBG, Will now move machine to X = #1 , Y = #2 , Z = #3)
G0 X #1 Y #2 Z #3

O&lt;go_to_position&gt; endsub
M2</pre>
</div>
</div>
<div class="paragraph">
<p>After pushing the '<strong>execute macro button</strong>', you will be asked to enter the
values for '<strong>X-pos Y-pos Z-pos</strong>' and the macro will only run if all values
have been given.</p>
</div>
<div class="imageblock" style="text-align: left">
<div class="content">
<img src="../gui/images/gmoccapy_getting_macro_info.png" alt="gmoccapy getting macro info">
</div>
</div>
</div>
<div class="sect3">
<h4 id="gmoccapy:traj-section">The TRAJ Section</h4>
<div class="listingblock">
<div class="content">
<pre>MAX_VELOCITY = 230.000</pre>
</div>
</div>
<div class="paragraph">
<p>Sets the maximal velocity of the machine, this value will also take influence
to default velocity.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="hal-pins">HAL Pins</h3>
<div class="paragraph">
<p>gmoccapy exports several hal pin to be able to react to hardware devices.
The goal is to get a GUI that may be operated in a tool shop, completely/mostly
without mouse or keyboard.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
You will have to do all connections to gmoccapy pins in your postgui.hal file,
because they are not available before loading the GUI completely.
</td>
</tr>
</table>
</div>
<div class="sect3">
<h4 id="right-and-bottom-button-lists">Right And Bottom Button Lists</h4>
<div class="paragraph">
<p>The screen has two main button lists, one on the right side an one on the
bottom. The right handed buttons will not change during operation, but the
bottom button list will change very often. The buttons are count from up to
down and from left to right beginning with "0".</p>
</div>
<div class="paragraph">
<p>In hal_show you will see the right (vertical) buttons are:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>gmoccapy.v-button-0</p>
</li>
<li>
<p>gmoccapy.v-button-1</p>
</li>
<li>
<p>gmoccapy.v-button-2</p>
</li>
<li>
<p>gmoccapy.v-button-3</p>
</li>
<li>
<p>gmoccapy.v-button-4</p>
</li>
<li>
<p>gmoccapy.v-button-5</p>
</li>
<li>
<p>gmoccapy.v-button-6</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>and the bottom (horizontal) buttons are:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>gmoccapy.h-button-0</p>
</li>
<li>
<p>gmoccapy.h-button-1</p>
</li>
<li>
<p>gmoccapy.h-button-2</p>
</li>
<li>
<p>gmoccapy.h-button-3</p>
</li>
<li>
<p>gmoccapy.h-button-4</p>
</li>
<li>
<p>gmoccapy.h-button-5</p>
</li>
<li>
<p>gmoccapy.h-button-6</p>
</li>
<li>
<p>gmoccapy.h-button-7</p>
</li>
<li>
<p>gmoccapy.h-button-8</p>
</li>
<li>
<p>gmoccapy.h-button-9</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>As the buttons in the bottom list will change according the mode and other
influences, the hardware buttons will activate different functions, and you
don&#8217;t have to take care about switching functions around in hal, because that
is done completely by gmoccapy!</p>
</div>
<div class="paragraph">
<p>These pins are made available to be able to use the screen without an touch
panel, or protect it from excessive use by placing hardware buttons around
the panel.</p>
</div>
<div class="imageblock" style="text-align: left">
<div class="content">
<img src="../gui/images/gmoccapy_0_9_7_sim_hardware_button.png" alt="gmoccapy 0 9 7 sim hardware button">
</div>
</div>
</div>
<div class="sect3">
<h4 id="velocities-and-overrides">Velocities And Overrides</h4>
<div class="paragraph">
<p>All sliders from gmoccapy can be connected to hardware encoder or hardware
potentiometers.</p>
</div>
<div class="paragraph">
<p>To connect encoders the following pin are exported:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>gmoccapy.jog-speed.counts               = HAL_S32  Jog velocity</p>
</li>
<li>
<p>gmoccapy.jog-speed.count-enable         = HAL_BIT  Must be True, to enable counts</p>
</li>
<li>
<p>gmoccapy.feed-override.counts           = HAL_S32  feed override</p>
</li>
<li>
<p>gmoccapy.feed-override.count-enable     = HAL_BIT  Must be True, to enable counts</p>
</li>
<li>
<p>gmoccapy.reset-feed-override            = HAL_BIT  reset the feed override to 100 %</p>
</li>
<li>
<p>gmoccapy.spindle-override.counts        = HAL_S32  spindle override</p>
</li>
<li>
<p>gmoccapy.spindle-override.count-enable  = HAL_BIT  Must be True, to enable counts</p>
</li>
<li>
<p>gmoccapy.reset-spindle-override         = HAL_BIT  reset the spindle override to 100 %</p>
</li>
<li>
<p>gmoccapy.max-velocity.counts            = HAL_S32  Maximal Velocity of the machine</p>
</li>
<li>
<p>gmoccapy.max-velocity.count-enable      = HAL_BIT  Must be True, to enable counts</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>To connect potmeters, use the following hal pin:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>gmoccapy.jog-speed.direct-value         = HAL_FLOAT To adjust the jog velocity slider</p>
</li>
<li>
<p>gmoccapy.jog-speed.analog-enable        = HAL_BIT   Must be True, to allow analog inputs</p>
</li>
<li>
<p>gmoccapy.feed-override.direct-value     = HAL_FLOAT To adjust the feed override slider</p>
</li>
<li>
<p>gmoccapy.feed-override.analog-enable    = HAL_BIT   Must be True, to allow analog inputs</p>
</li>
<li>
<p>gmoccapy.spindle-override.direct-value  = HAL_FLOAT To adjust the spindle override slider</p>
</li>
<li>
<p>gmoccapy.spindle-override.analog-enable = HAL_BIT   Must be True, to allow analog inputs</p>
</li>
<li>
<p>gmoccapy.max-velocity.direct-value      = HAL_FLOAT To adjust the max velocity slider</p>
</li>
<li>
<p>gmoccapy.max-velocity.analog-enable     = HAL_BIT   Must be True, to allow analog inputs</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The float pin do accept values from 0.0 to 1.0, being the percentage value
you want to set the slider value.</p>
</div>
<div class="paragraph">
<p>[WARNING] If you use both connection types, do not connect the same slider to
both pin, as the influences between the two has not been tested! Different
sliders may be connected to the one or other hal connection type.</p>
</div>
<div class="paragraph">
<p>[IMPORTANT] Please be aware, that for the jog velocity depends on the turtle
button state, it will lead to different slider scales depending on the mode
(turtle or rabbit). Please take also a look to
<a href="#gmoccapy:jog-velocity">jog velocities and turtle-jog hal pin</a> for more
details.</p>
</div>
<div class="listingblock">
<div class="title">Example</div>
<div class="content">
<pre>Spindle Override Min Value =  20 %
Spindle Override Max Value = 120 %
gmoccapy.analog-enable = 1
gmoccapy.spindle-override-value = 0.25

value to set = Min Value + (Max Value - Min Value) * gmoccapy.spindle-override-value
value to set = 20 + (120 - 20) * 0.25
value to set = 45 %</pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="jog-hal-pins">Jog Hal Pins</h4>
<div class="paragraph">
<p>All axis given in the INI File have a jog-plus and a jog-minus pin, so
hardware momentary switches can be used to jog the axis.</p>
</div>
<div class="paragraph">
<p>For the standard config following hal Pin will be available:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>gmoccapy.jog-x-plus</p>
</li>
<li>
<p>gmoccapy.jog-x-minus</p>
</li>
<li>
<p>gmoccapy.jog-y-plus</p>
</li>
<li>
<p>gmoccapy.jog-y-minus</p>
</li>
<li>
<p>gmoccapy.jog-z-plus</p>
</li>
<li>
<p>gmoccapy.jog-z-minus</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>If you use a 4 axis INI file, there will be two additional pins</p>
</div>
<div class="ulist">
<ul>
<li>
<p>gmoccapy.jog-&lt;your fourth axis letter &gt;-plus</p>
</li>
<li>
<p>gmoccapy.jog-&lt;your fourth axis letter &gt;-minus</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>For a "C" axis you will see:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>gmoccapy.jog-c-plus</p>
</li>
<li>
<p>gmoccapy.jog-c-minus</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="gmoccapy:jog-velocity">Jog Velocities And Turtle-Jog Hal Pin</h4>
<div class="paragraph">
<p>The jog velocity can be selected with the corresponding slider. The scale of
the slider will be modified if the turtle button (the one showing a rabbit or a
turtle) has been toggled. If the button is not visible, it might have been
disabled on the <a href="#gmoccapy:turtle-jog">settings page</a>. If the button shows the
rabbit-icon, the scale is from min to max machine velocity. If it shows the
turtle, the scale will reach only 1/20 of max velocity by default. The used
divider can be set on the <a href="#gmoccapy:turtle-jog">settings page</a>.</p>
</div>
<div class="paragraph">
<p>So using a touch screen it is much easier to select smaller velocities.</p>
</div>
</div>
<div class="sect3">
<h4 id="jog-increment-hal-pins">Jog Increment Hal Pins</h4>
<div class="paragraph">
<p>The jog increments are selectable through hal pins, so a select hardware
switch can be used to select the increment to use. There will be a maximum
of 10 hal pin for the increments given in the INI File, if you give more
increments in your INI File, they will be not reachable from the GUI as they
will not be displayed.</p>
</div>
<div class="paragraph">
<p>If you have 6 increments in your hal you will get <strong>7</strong> pins:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>gmoccapy.jog-inc-0</p>
</li>
<li>
<p>gmoccapy.jog-inc-1</p>
</li>
<li>
<p>gmoccapy.jog-inc-2</p>
</li>
<li>
<p>gmoccapy.jog-inc-3</p>
</li>
<li>
<p>gmoccapy.jog-inc-4</p>
</li>
<li>
<p>gmoccapy.jog-inc-5</p>
</li>
<li>
<p>gmoccapy.jog-inc-6</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>jog-inc-0 is unchangeable and will represent continuous jogging.</p>
</div>
</div>
<div class="sect3">
<h4 id="gmoccapy:hardware-unlock">Hardware Unlock Pin</h4>
<div class="paragraph">
<p>To be able to use a key switch to unlock the settings page the following
pin is exported.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>gmoccapy.unlock-settings</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The settings page is unlocked if the pin is high.
To use this pin, you need to activate it on the settings page.</p>
</div>
</div>
<div class="sect3">
<h4 id="error-pins">Error Pins</h4>
<div class="ulist">
<ul>
<li>
<p>gmoccapy.error</p>
</li>
<li>
<p>gmoccapy.delete-message</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>gmoccapy.error is an bit out pin, to indicate an error, so a light can lit or even the machine may
be stopped. It will be reseted with the pin gmoccapy.delete-message. gmoccapy.delete-message will
delete the first error and reset the gmoccapy.error pin to False after the last error has been cleared.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
Messages or user infos will not affect the gmoccapy.error pin, but the gmoccapy.delete-message
pin will delete the last message if no error is shown!
</td>
</tr>
</table>
</div>
</div>
<div class="sect3">
<h4 id="gmoccapy:user-created-message">User Created Message HAL Pins</h4>
<div class="paragraph">
<p>gmoccapy may react to external errors, using 3 different user messages:
All are HAL_BIT pin.</p>
</div>
<div class="paragraph">
<p>'Status'</p>
</div>
<div class="ulist">
<ul>
<li>
<p>gmoccapy.messages.statustest</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>'Yesnodialog'</p>
</div>
<div class="ulist">
<ul>
<li>
<p>gmoccapy.messages.yesnodialog</p>
</li>
<li>
<p>gmoccapy.messages.yesnodialog-waiting</p>
</li>
<li>
<p>gmoccapy.messages.yesnodialog-responce</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>'Okdialog'</p>
</div>
<div class="ulist">
<ul>
<li>
<p>gmoccapy.messages.okdialog</p>
</li>
<li>
<p>gmoccapy.messages.okdialog-waiting</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>To add user created message you need to add the message to the INI file in the
[DISPLAY] section. Here are a couple of examples.</p>
</div>
<div class="listingblock">
<div class="content">
<pre>MESSAGE_BOLDTEXT = LUBE SYSTEM FAULT
MESSAGE_TEXT = LUBE FAULT
MESSAGE_TYPE = okdialog
MESSAGE_PINNAME = lube-fault

MESSAGE_BOLDTEXT = NONE
MESSAGE_TEXT = X SHEAR PIN BROKEN
MESSAGE_TYPE = status
MESSAGE_PINNAME = xpin</pre>
</div>
</div>
<div class="paragraph">
<p>To 'connect' new pins to and input you need to do this in the postgui HAL file.
Here are some example connections that have the signal connected to an input
some place else in the HAL file.</p>
</div>
<div class="listingblock">
<div class="content">
<pre>net gmoccapy-lube-fault gmoccapy.messages.lube-fault
net gmoccapy-lube-fault-waiting gmoccapy.messages.lube-fault-waiting
net gmoccapy-xpin gmoccapy.messages.xpin</pre>
</div>
</div>
<div class="paragraph">
<p>For more information on HAL files and the net command see the
<a href="#cha:basic-hal-reference">Basic HAL Reference</a>.</p>
</div>
</div>
<div class="sect3">
<h4 id="spindle-feedback-pins">Spindle Feedback Pins</h4>
<div class="paragraph">
<p>There are two pins for spindle feedback</p>
</div>
<div class="ulist">
<ul>
<li>
<p>gmoccapy.spindle_feedback_bar</p>
</li>
<li>
<p>gmoccapy.spindle_at_speed_led</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>'gmoccapy.spindle_feedback_bar' will accept an float input to show the spindle
speed.
'gmoccapy.spindle_at_speed_led' is an bit-pin to lit the GUI led if spindle is
at speed.</p>
</div>
</div>
<div class="sect3">
<h4 id="pins-to-indicate-program-progress-information">Pins To Indicate Program Progress Information</h4>
<div class="paragraph">
<p>There are three pins giving information over the program progress</p>
</div>
<div class="ulist">
<ul>
<li>
<p>gmoccapy.program.length HAL_S32 showing the total number of lines of the
program</p>
</li>
<li>
<p>gmoccapy.program.current-line HAL_S32 indicating the current working line
of the program</p>
</li>
<li>
<p>gmoccapy.program.progress HAL_FLOAT giving the program progress in
percentage</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The values may not be very accurate, if you are working with subroutines or
large remap procedures, also loops will cause different values.</p>
</div>
</div>
<div class="sect3">
<h4 id="tool-related-pin">Tool related pin</h4>
<div class="paragraph">
<div class="title">Tool Change Pin</div>
<p>This pin are provided to use gmoccapy&#8217;s internal tool change dialog, similar to
the one known from axis, but with several modifications, so you will not only
get the message to change to 'tool number 3', but also the description of that
tool like '7.5 mm 3 flute cutter'. The information is taken from the tool
table, so it is up to you what to display.</p>
</div>
<div class="imageblock" style="text-align: left">
<div class="content">
<img src="../gui/images/manual-tool-change.png" alt="manual tool change">
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>gmoccapy.toolchange-number HAL_S32 The number of the tool to be changed</p>
</li>
<li>
<p>gmoccapy.toolchange-change HAL_BIT Indicate that a tool has to be changed</p>
</li>
<li>
<p>gmoccapy.toolchange-changed HAL_BIT Indicate toll has been changed</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Usually they are connected like this for a manual tool change:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>net tool-change gmoccapy.toolchange-change &lt;= iocontrol.0.tool-change
net tool-changed gmoccapy.toolchange-changed &lt;= iocontrol.0.tool-changed
net tool-prep-number gmoccapy.toolchange-number &lt;= iocontrol.0.tool-prep-number
net tool-prep-loop iocontrol.0.tool-prepare &lt;= iocontrol.0.tool-prepared</pre>
</div>
</div>
<div class="paragraph">
<div class="title">Tool Offset Pins</div>
<p>This pins allows you to show the active tool offset values for X and Z in the
tool information frame. You should know that they are only active after G43
has been sent.</p>
</div>
<div class="imageblock" style="text-align: left">
<div class="content">
<img src="../gui/images/gmoccapy_0_9_7_tool_info.png" alt="gmoccapy 0 9 7 tool info">
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>gmoccapy.tooloffset-x</p>
</li>
<li>
<p>gmoccapy.tooloffset-z</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Connect them in your postgui hal.</p>
</div>
<div class="listingblock">
<div class="content">
<pre> net tooloffset-x gmoccapy.tooloffset-x &lt;= motion.tooloffset.x
 net tooloffset-z gmoccapy.tooloffset-z &lt;= motion.tooloffset.z</pre>
</div>
</div>
<div class="paragraph">
<p>Please note, that gmoccapy takes care of its own to update the offsets,
sending an G43 after any tool change, <strong>but not in auto mode!</strong></p>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<div class="title">Important</div>
</td>
<td class="content">
So writing a program makes you responsible to include an G43 after
each tool change!
</td>
</tr>
</table>
</div>
</div>
</div>
<div class="sect2">
<h3 id="gmoccapy:auto-tool-measurement">Auto Tool Measurement</h3>
<div class="paragraph">
<p>Gmoccapy offers an integrated auto tool measurement. To use this feature, you
will need to do some additional settings and you may want to use the
offered hal pin to get values in your own ngc remap procedure.</p>
</div>
<div class="paragraph">
<p>[IMPORTANT] Before starting the first test, do not forget to enter the probe
height and probe velocities on the settings page! See
<a href="#gmoccapy:tool-measurement">Settings Page Tool Measurement</a></p>
</div>
<div class="paragraph">
<p>It might be also a good idea to take a look at the tool measurement video:
see <a href="#gmoccapy:tool-measurement-videos">tool measurement related videos</a></p>
</div>
<div class="paragraph">
<p>Tool Measurement in gmoccapy is done a little bit different to many other GUI.
You should follow these steps:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>touch of you workpiece in X and Y</p>
</li>
<li>
<p>measure the hight of your block from the base where your tool switch is
located, to the upper face of the block (including chuck etc.)</p>
</li>
<li>
<p>Push the button block height and enter the measured value</p>
</li>
<li>
<p>Go to auto mode and start your program</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>here is a small sketch:</p>
</div>
<div class="imageblock" style="text-align: left">
<div class="content">
<img src="http://preview.machinekit.io/docs/gui/images/sketch_auto_tool_measurement.png" alt="sketch auto tool measurement">
</div>
</div>
<div class="paragraph">
<p>With the first given tool change the tool will be measured and the offset will
be set automatically to fit the block height. The advantage of the gmoccapy
way is, that you do not need a reference tool.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
Your program must contain a tool change at the beginning! The tool will be
measured, even it has been used before, so there is no danger, if the block
height has changed. There are several videos showing the way to do that on
you tube.
</td>
</tr>
</table>
</div>
<div class="sect3">
<h4 id="tool-measurement-pins">Tool Measurement Pins</h4>
<div class="paragraph">
<p>Gmoccapy offers 5 pins for tool measurement purpose. The pins are mostly used
to be read from a gcode subroutine, so the code can react to different values.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>gmoccapy.toolmeasurement HAL_BIT enable or not tool measurement</p>
</li>
<li>
<p>gmoccapy.blockheight HAL_FLOAT the measured value of the top face of the
workpiece</p>
</li>
<li>
<p>gmoccapy.probeheight HAL_FLOAT the probe switch height</p>
</li>
<li>
<p>gmoccapy.searchvel HAL_FLOAT the velocity to search for the tool probe switch</p>
</li>
<li>
<p>gmoccapy.probevel HAL_FLOAT the velocity to probe tool length</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="tool-measurement-ini-file-modifications">Tool Measurement INI File Modifications</h4>
<div class="paragraph">
<p>Modify your INI File to include the following:</p>
</div>
<div class="listingblock">
<div class="title">The RS274NGC section</div>
<div class="content">
<pre>[RS274NGC]
# Enables the reading of INI and HAL values from gcode
FEATURES=12

# is the sub, with is called when a error during tool change happens
ON_ABORT_COMMAND=O &lt;on_abort&gt; call

# The remap code
REMAP=M6  modalgroup=6 prolog=change_prolog ngc=change epilog=change_epilog</pre>
</div>
</div>
<div class="paragraph">
<div class="title">The Tool Sensor Section</div>
<p>The position of the tool sensor and the start position of the probing movement,
all values are absolute coordinates, except MAXPROBE, what must be given in
relative movement.</p>
</div>
<div class="listingblock">
<div class="content">
<pre>[TOOLSENSOR]
X = 10
Y = 10
Z = -20
MAXPROBE =  -20</pre>
</div>
</div>
<div class="paragraph">
<div class="title">The Change Position Section</div>
<p>This is not named TOOL_CHANGE_POSITION  on purpose - canon uses that name and
will interfere otherwise. The position to move the machine before giving the
change tool command. All values are in absolute coordinates.</p>
</div>
<div class="listingblock">
<div class="content">
<pre>[CHANGE_POSITION]
X = 10
Y = 10
Z = -2</pre>
</div>
</div>
<div class="paragraph">
<div class="title">The Python Section</div>
<p>The Python plug ins serves interpreter and task.</p>
</div>
<div class="listingblock">
<div class="content">
<pre>[PYTHON]
# The path to start a search for user modules
PATH_PREPEND = python
# The start point for all.
TOPLEVEL = python/toplevel.py</pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="needed-files">Needed Files</h4>
<div class="paragraph">
<p>You must copy the following files to your config directory</p>
</div>
<div class="paragraph">
<p>First make a directory 'python' in your config folder from
'your_linuxcnc-dev_directory/configs/sim/gmoccapy/python' copy 'toplevel.py' to
your 'config_dir/python' folder. Copy 'remap.py' to your
'config_dir/python' folder Copy 'stdglue.py' to your 'config_dir/python'
folder.</p>
</div>
<div class="paragraph">
<p>From 'your_linuxcnc-dev_directory/configs/sim/gmoccapy/macros'
copy 'on_abort.ngc' to the directory specified in the SUBROUTINE_PATH see
<a href="#gmocappy:rs274ngc">RS274NGC Section</a>.
From 'your_linuxcnc-dev_directory/configs/sim/gmoccapy/macros'
copy 'change.ngc' to the directory specified as SUBROUTINE_PATH see
<a href="#gmocappy:rs274ngc">RS274NGC Section</a>.
Open 'change.ngc' with a editor and uncomment the following lines
(49 and 50):</p>
</div>
<div class="listingblock">
<div class="content">
<pre>F #&lt;_hal[gmoccapy.probevel]&gt;
G38.2 Z-4</pre>
</div>
</div>
<div class="paragraph">
<p>You may want to modify this file to fit more your needs.</p>
</div>
</div>
<div class="sect3">
<h4 id="needed-hal-connections">Needed Hal Connections</h4>
<div class="paragraph">
<p>Connect the tool probe in your hal file like so:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>net probe  motion.probe-input &lt;= &lt;your_input_pin&gt;</pre>
</div>
</div>
<div class="paragraph">
<p>The line might look like this:</p>
</div>
<div class="listingblock">
<div class="content">
<pre> net probe  motion.probe-input &lt;= parport.0.pin-15-in</pre>
</div>
</div>
<div class="paragraph">
<p>In your postgui.hal file add:</p>
</div>
<div class="listingblock">
<div class="content">
<pre># The next lines are only needed if the pins had been connected before
unlinkp iocontrol.0.tool-change
unlinkp iocontrol.0.tool-changed
unlinkp iocontrol.0.tool-prep-number
unlinkp iocontrol.0.tool-prepared

# link to gmoccapy toolchange, so you get the advantage of tool description on change dialog
net tool-change gmoccapy.toolchange-change &lt;= iocontrol.0.tool-change
net tool-changed gmoccapy.toolchange-changed &lt;= iocontrol.0.tool-changed
net tool-prep-number gmoccapy.toolchange-number &lt;= iocontrol.0.tool-prep-number
net tool-prep-loop iocontrol.0.tool-prepare &lt;= iocontrol.0.tool-prepared</pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="gmoccapy:settings-page">The Settings Page</h3>
<div class="paragraph">
<p>To enter the page you will have to click on
<span class="image"><img src="../gui/images/gmoccapy_settings_button.png" alt="gmoccapy settings button"></span>
and give an unlock code, witch is <strong>123</strong> as default. If you want to change it
at this time you will have to edit the hidden preference file, see
<a href="#gmoccapy:display-section">the display section</a> for details.</p>
</div>
<div class="paragraph">
<p>The page looks at the moment like so:</p>
</div>
<div class="imageblock" style="text-align: left">
<div class="content">
<img src="../gui/images/gmoccapy_settings_appearance.png" alt="gmoccapy settings appearance">
</div>
</div>
<div class="paragraph">
<p>The page is separated in three main tabs:</p>
</div>
<div class="sect3">
<h4 id="appearance">Appearance</h4>
<div class="paragraph">
<p>On this tab you will find the following options:</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">Main Window</dt>
<dd>
<p>Here you can select how you wish the GUI to start. The main reason for this was the wish to get an easy<br>
way for the user to set the starting options without the need to touch code.<br>
+
You have three options:<br></p>
<div class="ulist">
<ul>
<li>
<p>start as full screen</p>
</li>
<li>
<p>start maximized</p>
</li>
<li>
<p>start as window
+
If you select start as window the spinboxes to set the position and size will get active.<br>
One time set, the GUI will start every time on the place and with the size selected.<br>
Nevertheless the user can change the size and position using the mouse, but that will<br>
not have any influence on the settings.<br></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
<div class="paragraph">
<p>'<strong>hide the cursor</strong>' does allow to hide the cursor, what is very useful if you
use a touch screen.</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">Keyboard</dt>
<dd>
<p>The check-boxes allows the user to select if he want the on board keyboard to be shown immediately,<br>
when entering the MDI Mode, when entering the offset page, the tooledit widget or when open a program<br>
in the EDIT mode. The keyboard button on the bottom button list will not been affected by this settings,<br>
so you be able to show or hide the keyboard by pressing the button. The default behavior will be set by<br>
the check-boxes.<br>
+
Default are :<br></p>
<div class="ulist">
<ul>
<li>
<p>show keyboard on offset = True</p>
</li>
<li>
<p>show keyboard on tooledit = False</p>
</li>
<li>
<p>show keyboard on MDI = True</p>
</li>
<li>
<p>show keyboard on EDIT = True</p>
</li>
<li>
<p>show keyboard on load file = False</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
<div class="paragraph">
<p>If the keyboard layout is not correct, i.e. clicking X gives Z, than the
layout has not been set properly, related to your locale settings. For
onboard it can be solved with a small batch file with the following content:</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
If this section is not sensitive, you have not installed a virtual keyboard,
+ supported are 'onboard' and 'matchbox-keyboard'.
</td>
</tr>
</table>
</div>
<div class="listingblock">
<div class="content">
<pre> #!/bin/bash
 setxkbmap -model pc105 -layout de -variant basic</pre>
</div>
</div>
<div class="paragraph">
<p>The letters "de" are for German, you will have to set them according to your
locale settings. Just execute this file before starting LinuxCNC, it can be
done also adding a starter to your local folder.</p>
</div>
<div class="listingblock">
<div class="content">
<pre>./config/autostart</pre>
</div>
</div>
<div class="paragraph">
<p>So that the layout is set automatically on starting.</p>
</div>
<div class="paragraph">
<p>For matchbox-keyboard you will have to make your own layout, for a German
layout ask in the forum.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
If this section is not sensitive, you have not installed a virtual keyboard,
supported are 'onboard' and 'matchbox-keyboard'.
</td>
</tr>
</table>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">On Touch Off</dt>
<dd>
<p>give the option to show the preview tab or the offset page tab if you enter the touch off mode by clicking the
corresponding bottom button.</p>
<div class="ulist">
<ul>
<li>
<p>show preview</p>
</li>
<li>
<p>show offsets</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
<div class="paragraph">
<p>As the notebook tabs are shown, you are able to switch between both views in
any case.</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">Show Aux Display</dt>
<dd>
<p>By clicking this button a additional window will be opened. This button is only sensitive, if a file named 'gmoccapy2.glade'
is located in your config folder. You can build the Aux Screen using Glade.</p>
</dd>
</dl>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<div class="title">Warning</div>
</td>
<td class="content">
'The main window of the aux screen must be named window2'
</td>
</tr>
</table>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">DRO Options</dt>
<dd>
<p>You have the option to select the background colors of the different DRO states.
So users suffering from protanopia (red/green weakness) are able to select proper colors</p>
</dd>
</dl>
</div>
<div class="paragraph">
<p>By default the backgrounds are:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Relative mode  = black</p>
</li>
<li>
<p>Absolute mode  = blue</p>
</li>
<li>
<p>Distance to go = yellow</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The foreground color of the DRO can be selected with:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>homed color   = green</p>
</li>
<li>
<p>unhomed color = red</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>'show dro in preview'<br>
the DRO will be shown in the preview window +<br></p>
</div>
<div class="paragraph">
<p>'show offsets'+
the Offsets will be shown in the preview window +<br></p>
</div>
<div class="paragraph">
<p>'show DTG'<br>
the distance to go will be shown in the preview window +<br>
<br>
'show DRO Button'<br>
will allow you to display additional buttons on the left side of the DRO.<br></p>
</div>
<div class="paragraph">
<p>It will display:<br>
* one button to switch from relative to absolute coordinates,<br>
* one button to toggle between distance to go and the other states<br>
* and one button to toggle the units from metric to imperial and vice versa.</p>
</div>
<div class="paragraph">
<p>[WARNING] It is not recommended to use this option, because the user will
loose the auto unit option, which will toggle the units according to the
active gcode G20 / G21.</p>
</div>
<div class="paragraph">
<p>[NOTE] <strong>You can change through the DRO modes (absolute, relative, distance
to go) by clicking on the DRO!</strong></p>
</div>
<div class="paragraph">
<p>'Use Auto Units'<br>
allows to disable the auto units option of the display, so you can run a program in inches and watch the DRO in mm. +<br></p>
</div>
<div class="paragraph">
<p>'size'<br>
allows to set the size of the DRO font, default is 28, if you use a bigger screen you may want to increase the size up to 56.
    If you do use 4 axis, the DRO font size will be 3/4 of the value, because of space reason. +<br></p>
</div>
<div class="paragraph">
<p>'digits'<br>
sets the number of digits of the DRO from 1 to 5.<br></p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
Imperial will show one digit more that metric. So if you are in imperial machine units and set the digit value to 1, you will get no digit at all in metric.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>'toggle DRO mode'<br>
if not active, a mouse click on the DRO will not take any action.<br>
By default this checkbox is active, so every click on any DRO will toogle the DRO readout from actual to relative to DTG (distance to go). +<br></p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">Preview</dt>
<dd>
<p>'Grid Size' Sets the grid size of the preview window. Unfortunately the size
<strong>has to be set in inches</strong>, even if your machine units are metric. We do hope
to fix that in a future release.</p>
</dd>
</dl>
</div>
<div class="paragraph">
<p>[NOTE] The grid will not be shown in perspective view.</p>
</div>
<div class="paragraph">
<p>'Show DRO'<br>
Will show the a DRO also in the preview window, it will be shown automatically in fullsize preview</p>
</div>
<div class="paragraph">
<p>'Show DTG' will show also the DTG (direct distance to end point) in the
preview, only if Show DRO is active and not full size preview.</p>
</div>
<div class="paragraph">
<p>'Show Offsets' will show the offsets in the preview window.</p>
</div>
<div class="paragraph">
<p>[NOTE] If you only check this option and leave the others unchecked, you will
get in full size preview a offset page</p>
</div>
<div class="paragraph">
<p>'Mouse Button Mode' this combobox you can select the button behavior of the
mouse to rotate, move or zoom within the preview.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>left rotate, middle move, right zoom</p>
</li>
<li>
<p>left zoom, middle move, right rotate</p>
</li>
<li>
<p>left move, middle rotate, right zoom</p>
</li>
<li>
<p>left zoom, middle rotate, right move</p>
</li>
<li>
<p>left move, middle zoom, right rotate</p>
</li>
<li>
<p>left rotate, middle zoom, right move</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Default is left move, middle zoom, right rotate.</p>
</div>
<div class="paragraph">
<p>The mouse wheel will still zoom the preview in every mode.</p>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<div class="title">Tip</div>
</td>
<td class="content">
If you select an element in the preview, the selected element will be
taken as rotation center point.
</td>
</tr>
</table>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">File to load on start up</dt>
<dd>
<p>Select the file you want to be loaded on start up.
In other GUI changing this was very cumbersome, because the users where forced to edit the INI File.</p>
</dd>
</dl>
</div>
<div class="paragraph">
<p>Select the file you want to be loaded on start up. If a file is loaded, it can
be set by pressing the current button to avoid that any program is loaded at
start up, just press the None button.</p>
</div>
<div class="paragraph">
<p>The file selection screen will use the filters you have set in the INI File,
if there aren&#8217;t any filters given, you will only see <strong>ngc</strong> files. The path
will be set according to the INI settings in [DISPLAY] PROGRAM_PREFIX</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">Jump to dir</dt>
<dd>
<p>you can set here the directory to jump to if you press the corresponding button
in the file selection dialog.</p>
</dd>
</dl>
</div>
<div class="imageblock" style="text-align: left">
<div class="content">
<img src="../gui/images/gmoccapy_file_selection_dialog_with_keyboard.png" alt="gmoccapy file selection dialog with keyboard">
</div>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">Themes and Sounds</dt>
<dd>
<p>This lets the user select what desktop theme to apply and what error and messages sounds should be played.
By default "Follow System Theme" is set.</p>
</dd>
</dl>
</div>
</div>
<div class="sect3">
<h4 id="hardware">Hardware</h4>
<div class="imageblock" style="text-align: left">
<div class="content">
<img src="../gui/images/gmoccapy_settings_hardware.png" alt="gmoccapy settings hardware">
</div>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">Hardware MPG Scales</dt>
<dd>
<p>For the different Hal Pin to connect MPG Wheels to, you may select individual scales to be applied.
The main reason for this was my own test to solve this through hal connections, resulting in a very
complex hal file. Imagine a user having an MPG Wheel with 100 ipr and he wants to slow down the max
vel from 14000 to 2000 mm/min, that needs 12000 impulses, resulting in 120 turns of the wheel!
Or an other user having a MPG Wheel with 500 ipr and he wants to set the spindle override witch has
limits from 50 to 120 % so he goes from min to max within 70 impulses, meaning not even 1/4 turn.</p>
</dd>
</dl>
</div>
<div class="paragraph">
<p>By default all scales are set using the calculation:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>(MAX - MIN)/100</pre>
</div>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">Keyboard shortcuts</dt>
<dd>
<p>Some users want to jog there machine using the keyboard buttons and there are others that will never allow this.
So everybody can select whether to use them or not.</p>
</dd>
</dl>
</div>
<div class="paragraph">
<p>Default is to use keyboard shortcuts.</p>
</div>
<div class="paragraph">
<p>Please take care if you use a lathe, than the shortcuts will be different.
See <a href="#gmoccapy:lathe-section">the Lathe section</a></p>
</div>
<div class="ulist">
<ul>
<li>
<p>Arrow Left = X minus</p>
</li>
<li>
<p>Arrow Right = X plus</p>
</li>
<li>
<p>Arrow up = Y plus</p>
</li>
<li>
<p>Arrow Down = Y minus</p>
</li>
<li>
<p>Page Up = Z plus</p>
</li>
<li>
<p>Page Down = Z minus</p>
</li>
<li>
<p>F1 = Estop (will work even if keyboard shortcuts are disabled)</p>
</li>
<li>
<p>F2 = Machine on</p>
</li>
<li>
<p>ESC = Abort</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>There are additional keys for message handling, see
<a href="#gmoccapy:message-behavior">Message behavior and appearance</a></p>
</div>
<div class="ulist">
<ul>
<li>
<p>WINDOWS = Delete last message</p>
</li>
<li>
<p>&lt;STRG&gt;&lt;SPACE&gt; = Delete all messages</p>
<div class="dlist">
<dl>
<dt class="hdlist1">Unlock options</dt>
<dd>
<p>There are three options to unlock the settings page:</p>
</dd>
</dl>
</div>
</li>
<li>
<p>use unlock code (the user must give a code to get in)</p>
</li>
<li>
<p>Do not use unlock code (There will be no security check)</p>
</li>
<li>
<p>Use hal pin to unlock  (hardware pin must be high to unlock the settings,
see <a href="#gmoccapy:hardware-unlock">hardware unlock pin</a></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Default is use unlock code (default = <strong>123</strong>)</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">Spindle</dt>
<dd>
<p>The start RPM sets the rpm to be used if the spindle is started and no S value has been set.</p>
</dd>
</dl>
</div>
<div class="paragraph">
<p>The start RPM sets the rpm to be used if the spindle is started and no S value
has been set.</p>
</div>
<div class="paragraph">
<p>With the MIN and MAX settings you set the limits of the spindle bar shown in
the INFO frame on the main screen. It is no error giving wrong values. If you
give a maximum of 2000 and your spindle makes 4000 rpm, only the bar level will
be wrong on higher speeds than 2000 rpm.</p>
</div>
<div class="listingblock">
<div class="content">
<pre>default values are
MIN = 0
MAX = 6000</pre>
</div>
</div>
<div id="gmoccapy:turtle-jog" class="dlist">
<dl>
<dt class="hdlist1">Turtle Jog</dt>
<dd>
<p><a id="sub:turtle_jog"></a>
This settings will have influence on the jog velocities.</p>
<div class="ulist">
<ul>
<li>
<p>'hide turtle jog button' will hide the button right of the jog velocity
slider, if you hide this button, please take care that it shows the rabbit
icon, otherwise you will not be able to jog faster than the turtle jog velocity,
which is calculated using the turtle jog factor.</p>
</li>
<li>
<p>'Turtle jog factor' sets the scale to apply for turtle jog mode. If you set
a factor of 20, the max jog velocity will be 1/20 of max velocity of the machine
if in turtle mode (button pressed, showing the turtle)</p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
This button can be activated using the
<a href="#gmoccapy:jog-velocity">turtle-jog</a> hal pin.
</td>
</tr>
</table>
</div>
</div>
<div class="sect3">
<h4 id="advanced-settings">Advanced Settings</h4>
<div class="imageblock" style="text-align: left">
<div class="content">
<img src="../gui/images/gmoccapy_settings_advanced.png" alt="gmoccapy settings advanced">
</div>
</div>
<div id="gmoccapy:tool-measurement" class="paragraph">
<div class="title">Tool Measurement</div>
<p>If this part is not sensitive, you do not have a valid INI file configuration
to use tool measurement.</p>
</div>
<div class="paragraph">
<p>Please check <a href="#gmoccapy:auto-tool-measurement">Auto Tool Measurement</a></p>
</div>
<div class="ulist">
<ul>
<li>
<p>Use auto tool measurement : If checked, after each tool change, a tool
measurement will be done, the result will be stored in the tool table and an
G43 will be executed after the change.</p>
</li>
</ul>
</div>
<div class="paragraph">
<div class="title">Probe Information</div>
<p>The following informations are taken from your INI file and must be given
in absolute coordinates</p>
</div>
<div class="ulist">
<ul>
<li>
<p>X Pos. = The X position of the tool switch</p>
</li>
<li>
<p>Y Pos. = The Y position of the tool switch</p>
</li>
<li>
<p>Z Pos. = The X position of the tool switch, we will go as rapid move to
this coordinate</p>
</li>
<li>
<p>Max. Probe = is the distance to search for contact, an error will be
launched, if no contact is given. The distance has to be given in relative
coordinates, beginning the move from Z Pos., so you have to give a negative
value to go down!</p>
</li>
<li>
<p>Probe Height = is the height of your probe switch, you can measure it.
Just touch off the base where the probe switch is located and set that to
zero. Then make a tool change and watch the tool_offset_z value, that is the
hight you must enter here.</p>
</li>
</ul>
</div>
<div class="ulist">
<div class="title">Probe velocities</div>
<ul>
<li>
<p>Search Vel. = The velocity to search for the tool switch, after contact
the tool will go up again and then goes toward the probe again with probe
vel, so you will get better results.</p>
</li>
<li>
<p>Probe Vel. = Is the velocity for the second movement to the switch, it
should be slower to get better touch results.(In sim mode, this is
commented out in macros/change.ngc, otherwise the  user would have to click
twice on the probe button)</p>
</li>
</ul>
</div>
<div class="paragraph">
<div class="title">Tool Changer</div>
<p>If your 4&#8217;th axis is used in a tool changer, you may want to hide the DRO
and all the other buttons related to that axis.</p>
</div>
<div class="paragraph">
<p>You can do that by checking the checkbox, that will hide:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>4&#8217;th axis DRO</p>
</li>
<li>
<p>4&#8217;th axis Jog button</p>
</li>
<li>
<p>4&#8217;th axis home button</p>
</li>
<li>
<p>column of 4&#8217;th axis in the offsetpage</p>
</li>
<li>
<p>column of 4&#8217;th axis in the tolleditor</p>
</li>
</ul>
</div>
<div id="gmoccapy:message-behavior" class="paragraph">
<div class="title">Message Behavior And Appearance</div>
<p>This will display small pop up windows displaying the message or error text,
the behavior is very similar to the one axis uses. You can delete a specific
message, by clicking on it&#8217;s close button, if you want to delete the last one,
just hit the WINDOWS key on your keyboard, or delete all messages at ones
with &lt;STRG&gt;&lt;SPACE&gt;.</p>
</div>
<div class="paragraph">
<p>You are able to set some options:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>X Pos = The position of the top left corner of the message in X counted
in pixel from the top left corner of the screen.</p>
</li>
<li>
<p>Y Pos = The position of the top left corner of the message in Y counted
in pixel from the top left corner of the screen.</p>
</li>
<li>
<p>Width = The width of the message box</p>
</li>
<li>
<p>max = The maximum messages you want to see at ones, if you set this to 10,
the 11th message will delete the first one, so you will only see the last 10
ones.</p>
</li>
<li>
<p>Font = The font and size you want to use to display the messages</p>
</li>
<li>
<p>use frames = If you activate the checkbox, each message will be displayed
in a frame, so it is much easier to distinguish the messages. But you will
need a little bit more space.</p>
</li>
<li>
<p>The button launch test message will just do what it is supposed to, it will
show a message, so you can see the changes of your settings without the need
to generate an error.</p>
</li>
</ul>
</div>
<div class="paragraph">
<div class="title">Run From Line Option</div>
<p>You can allow or disallow the run from line. This will set the corresponding
button insensitive (grayed out), so the user will not be able to use this
option. The default is disable run from line.</p>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<div class="title">Warning</div>
</td>
<td class="content">
It is not recommend to use run from line, as LinuxCNC will not take care of
any previous lines in the code before the starting line. So errors or crashes
are very probable.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<div class="title">Log Actions</div>
<p>If this button is active, nearly every button press or relevant action of
LinuxCNC will be logged in the ALARM history. This is very useful for
debugging.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="gmoccapy:lathe-section">Lathe Specific Section</h3>
<div class="paragraph">
<p>If in the INI File LATHE = 1 is given, the GUI will change its appearance
to the special needs for a lathe. Mainly the Y axis will be hidden and the
jog buttons will be arranged in a different order.</p>
</div>
<div class="imageblock" style="text-align: left">
<div class="content">
<img src="../gui/images/gmoccapy_lathe.png" alt="gmoccapy lathe">
</div>
<div class="title">Figure 26. Normal Lathe</div>
</div>
<div class="imageblock" style="text-align: left">
<div class="content">
<img src="../gui/images/gmoccapy_back_tool_lathe.png" alt="gmoccapy back tool lathe">
</div>
<div class="title">Figure 27. Back Tool Lathe</div>
</div>
<div class="paragraph">
<p>As you see the R DRO has a black background and the D DRO is gray. This will
change according to the active G-Code G7 or G8. The active mode is visible by
the black background, meaning in the shown images G8 is active.</p>
</div>
<div class="paragraph">
<p>The next difference to the standard screen is the location of the Jog Button.
X and Z have changed places and Y is gone. You will note that the X+ and X-
buttons changes there places according to normal or back tool lathe.</p>
</div>
<div class="paragraph">
<p>Also the keyboard behavior will change:</p>
</div>
<div class="paragraph">
<p>Normal Lathe:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Arrow Left = Z minus</p>
</li>
<li>
<p>Arrow Right = Z plus</p>
</li>
<li>
<p>Arrow up = X minus</p>
</li>
<li>
<p>Arrow Down = X plus</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Back Tool Lathe:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Arrow Left = Z minus</p>
</li>
<li>
<p>Arrow Right = Z plus</p>
</li>
<li>
<p>Arrow up = X plus</p>
</li>
<li>
<p>Arrow Down = X minus</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The tool information frame will show not only the Z offset, but also the X
offset and the tool table is showing all lathe relevant information.</p>
</div>
</div>
<div class="sect2">
<h3 id="plasma-specific-section">Plasma Specific Section</h3>
<div class="imageblock" style="text-align: left">
<div class="content">
<img src="../gui/images/gmoccapy_plasma_1.png" alt="gmoccapy plasma 1">
</div>
</div>
<div class="paragraph">
<p>There is a very good WIKI, which is actually growing, maintained by Marius
see <a href="http://wiki.linuxcnc.org/cgi-bin/wiki.pl?Gmoccapy_plasma">Plasma wiki page</a></p>
</div>
</div>
<div class="sect2">
<h3 id="video-on-you-tube">Video On You Tube</h3>
<div class="paragraph">
<p>This are videos showing gmoccapy in action, unfortunately the videos don&#8217;t
show the latest version of gmoccapy, but the way to use it will not change
much in the future. I will try to actualize the videos as soon as possible.</p>
</div>
<div class="paragraph">
<div class="title">Basic Usage</div>
<p><a href="https://www.youtube.com/watch?v=O5B-s3uiI6g" class="bare">https://www.youtube.com/watch?v=O5B-s3uiI6g</a></p>
</div>
<div class="paragraph">
<div class="title">Simulated Jog Wheels</div>
<p><a href="http://youtu.be/ag34SGxt97o" class="bare">http://youtu.be/ag34SGxt97o</a></p>
</div>
<div class="paragraph">
<div class="title">Settings Page</div>
<p><a href="https://www.youtube.com/watch?v=AuwhSHRJoiI" class="bare">https://www.youtube.com/watch?v=AuwhSHRJoiI</a></p>
</div>
<div class="paragraph">
<div class="title">Simulated Hardware Button</div>
<p>Deutsch = <a href="http://www.youtube.com/watch?v=DTqhY-MfzDE" class="bare">http://www.youtube.com/watch?v=DTqhY-MfzDE</a></p>
</div>
<div class="paragraph">
<p>English = <a href="http://www.youtube.com/watch?v=ItVWJBK9WFA" class="bare">http://www.youtube.com/watch?v=ItVWJBK9WFA</a></p>
</div>
<div class="paragraph">
<div class="title">User Tabs</div>
<p><a href="http://www.youtube.com/watch?v=rG1zmeqXyZI" class="bare">http://www.youtube.com/watch?v=rG1zmeqXyZI</a></p>
</div>
<div class="sect3">
<h4 id="gmoccapy:tool-measurement-videos">Tool Measurement Video</h4>
<div class="paragraph">
<p>Auto Tool Measurement Simulation = <a href="http://youtu.be/rrkMw6rUFdk" class="bare">http://youtu.be/rrkMw6rUFdk</a></p>
</div>
<div class="paragraph">
<p>Auto Tool Measurement Screen = <a href="http://youtu.be/Z2ULDj9dzvk" class="bare">http://youtu.be/Z2ULDj9dzvk</a></p>
</div>
<div class="paragraph">
<p>Auto Tool Measurement Machine = <a href="http://youtu.be/1arucCaDdX4" class="bare">http://youtu.be/1arucCaDdX4</a></p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="known-problems">Known problems</h3>
<div class="sect3">
<h4 id="strange-numbers-in-the-info-area">Strange numbers in the info area</h4>
<div class="paragraph">
<p>If you get strange numbers in the info area of gmoccapy like:</p>
</div>
<div class="imageblock" style="text-align: left">
<div class="content">
<img src="http://preview.machinekit.io/docs/gui/images/strange_numbers.png" alt="strange numbers">
</div>
</div>
<div class="paragraph">
<p>You have made your config file using an older version of StepConfWizard.
It has made a wrong entry in the INI file under the [TRAJ] named
MAX_LINEAR_VELOCITY = xxx. Change that entry to MAX_VELOCITY = xxx</p>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="touchy-gui">Touchy GUI</h2>
<div class="sectionbody">
<div class="paragraph">
<p><a id="cha:touchy-gui"></a> </p>
</div>
<div class="paragraph">
<p>Touchy is a user interface for Machinekit meant for use on machine control panels,
and therefore does not require keyboard or mouse.</p>
</div>
<div class="paragraph">
<p>It is meant to be used with a touch screen, and works in combination
with a wheel/MPG and a few buttons and switches.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../gui/images/touchy.png" alt="touchy">
</div>
<div class="title">Figure 28. Touchy</div>
</div>
<div class="sect2">
<h3 id="panel-configuration">Panel Configuration</h3>
<div class="sect3">
<h4 id="hal-connections">HAL connections</h4>
<div class="paragraph">
<p>Touchy requires that you create a file named 'touchy.hal' in your
configuration directory (the directory your ini file is in) to
connect its controls. Touchy executes the HAL commands in this file
after it has made its own pins available for connection.</p>
</div>
<div class="paragraph">
<p>Touchy has several output pins that are meant to be connected to the
motion controller to control wheel jogging:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>'touchy.jog.wheel.increment',
which is to be connected to the 'axis.N.jog-scale' pin of each axis N.</p>
</li>
<li>
<p>'touchy.jog.wheel.N', which is to be connected to 'axis.N.jog-enable'
for each axis N.</p>
</li>
<li>
<p>In addition to being connected to 'touchy.wheel-counts', the wheel counts
should also be connected to 'axis.N.jog-counts' for
each axis N.  If you use HAL component 'ilowpass' to smooth wheel jogging, be
sure to smooth only 'axis.N.jog-counts' and not 'touchy.wheel-counts'.</p>
</li>
</ul>
</div>
<div class="sect4">
<h5 id="required-controls">Required controls</h5>
<div class="ulist">
<ul>
<li>
<p>Abort button (momentary contact) connected to the HAL pin 'touchy.abort'</p>
</li>
<li>
<p>Cycle start button (momentary contact) connected to 'touchy.cycle-start'</p>
</li>
<li>
<p>Wheel/MPG, connected to 'touchy.wheel-counts' and motion pins as described above</p>
</li>
<li>
<p>Single block (toggle switch) connected to 'touchy.single-block'</p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="optional-controls">Optional controls</h5>
<div class="ulist">
<ul>
<li>
<p>For continuous jog, one center-off bidirectional momentary toggle
(or two momentary buttons) for each axis, hooked to 'touchy.jog.continuous.x.negative',
'touchy.jog.continuous.x.positive', etc.</p>
</li>
<li>
<p>If a quill up button is wanted (to jog Z to the top of travel at top
speed), a momentary button connected to 'touchy.quill-up'.</p>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="optional-panel-lamps">Optional panel lamps</h5>
<div class="ulist">
<ul>
<li>
<p>'touchy.jog.active' shows when the panel jogging controls are live</p>
</li>
<li>
<p>'touchy.status-indicator' is on when the machine is executing G-code,
and flashes when the machine is executing but is in pause/feedhold.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect3">
<h4 id="recommended-for-any-setup">Recommended for any setup</h4>
<div class="ulist">
<ul>
<li>
<p>Estop button hardwired in the estop chain</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect2">
<h3 id="setup">Setup</h3>
<div class="sect3">
<h4 id="enabling-touchy">Enabling Touchy</h4>
<div class="paragraph">
<p>To use Touchy, in the '[DISPLAY]' section of your ini file change the
display selector line to 'DISPLAY = touchy'</p>
</div>
</div>
<div class="sect3">
<h4 id="preferences">Preferences</h4>
<div class="paragraph">
<p>When you start Touchy the first time, check the Preferences tab.
If using a touchscreen, choose the option to hide the pointer for
best results.</p>
</div>
<div class="paragraph">
<p>The Status Window is a fixed height, set by the size of a fixed font.
This can be affected by the Gnome DPI, configured in System /
Preferences / Appearance / Fonts / Details. If the bottom of the screen is
cut off, reduce the DPI setting.</p>
</div>
<div class="paragraph">
<p>All other font sizes can be changed on the Preferences tab.</p>
</div>
</div>
<div class="sect3">
<h4 id="macros">Macros</h4>
<div class="paragraph">
<p>Touchy can invoke O-word macros using the MDI interface.  To configure
this, in the '[TOUCHY]' section of the ini file, add one or more 'MACRO'
lines.  Each should be of the format</p>
</div>
<div class="paragraph">
<p>'MACRO=increment xinc yinc'</p>
</div>
<div class="paragraph">
<p>In this example, increment is the name of the macro, and it accepts two
parameters, named xinc and yinc.</p>
</div>
<div class="paragraph">
<p>Now, place the macro in a file named 'increment.ngc', in the
'PROGRAM_PREFIX' directory or any directory in the 'SUBROUTINE_PATH'.</p>
</div>
<div class="paragraph">
<p>It should look like:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>O&lt;increment&gt; sub
G91 G0 X#1 Y#2
G90
O&lt;increment&gt; endsub</pre>
</div>
</div>
<div class="paragraph">
<p>Notice the name of the sub matches the file name and macro name exactly,
including case.</p>
</div>
<div class="paragraph">
<p>When you invoke the macro by pressing the Macro button on the MDI
tab in Touchy, you can enter values for xinc and yinc.  These are
passed to the macro as '#1' and '#2' respectively.  Parameters you
leave empty are passed as value 0.</p>
</div>
<div class="paragraph">
<p>If there are several different macros, press the Macro button
repeatedly to cycle through them.</p>
</div>
<div class="paragraph">
<p>In this simple example, if you enter -1 for xinc and press cycle
start, a rapid 'G0' move will be invoked, moving one unit to
the left.</p>
</div>
<div class="paragraph">
<p>This macro capability is useful for edge/hole probing and other setup
tasks, as well as perhaps hole milling or other simple operations
that can be done from the panel without requiring specially-written
gcode programs.</p>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="tklinuxcnc-gui">TkLinuxcnc GUI</h2>
<div class="sectionbody">
<div class="paragraph">
<p><a id="cha:tklinuxcnc-gui"></a> </p>
</div>
<div class="sect2">
<h3 id="introduction-3">Introduction</h3>
<div class="paragraph">
<p>TkLinuxcnc is one of the first graphical front-ends
for Machinekit. It is written in Tcl and uses the Tk toolkit
for the display. Being written in Tcl makes it very portable (it runs on a
multitude of platforms). A separate backplot window can be displayed as
shown.</p>
</div>
<div class="imageblock" style="text-align: center">
<div class="content">
<img src="../gui/images/tkemc.png" alt="tkemc">
</div>
<div class="title">Figure 29. TkLinuxcnc Window<a id="cap:TkLinuxcnc-Window"></a></div>
</div>
</div>
<div class="sect2">
<h3 id="getting-started-2">Getting Started</h3>
<div class="paragraph">
<p>To select TkLinuxcnc as the front-end for Machinekit, edit the .ini file. In the
section '[DISPLAY]' change the 'DISPLAY' line to read</p>
</div>
<div class="listingblock">
<div class="content">
<pre>DISPLAY = tklinuxcnc</pre>
</div>
</div>
<div class="paragraph">
<p>Then, start Machinekit and select that ini file. The sample configuration
'sim/tklinuxcnc/tklinuxcnc.ini' is already configured to use TkLinuxcnc as its front-end.</p>
</div>
<div class="sect3">
<h4 id="a-typical-session-with-tklinuxcnc">A typical session with TkLinuxcnc</h4>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Start Machinekit and select a configuration file.</p>
</li>
<li>
<p>Clear the 'E-STOP' condition and turn the machine on (by
pressing F1 then F2).</p>
</li>
<li>
<p>'Home' each axis.</p>
</li>
<li>
<p>Load the file to be milled.</p>
</li>
<li>
<p>Put the stock to be milled on the table.</p>
</li>
<li>
<p>Set the proper offsets for each axis by jogging and either homing
again or right-clicking an axis name and entering an offset value.
<sup class="footnote">[<a id="_footnoteref_1" class="footnote" href="#_footnote_1" title="View footnote.">1</a>]</sup></p>
</li>
<li>
<p>Run the program.</p>
</li>
<li>
<p>To mill the same file again, return to step 6. To mill a different
file, return to step 4. When you&#8217;re done, exit Machinekit.</p>
</li>
</ol>
</div>
</div>
</div>
<div class="sect2">
<h3 id="elements-of-the-tklinuxcnc-window">Elements of the TkLinuxcnc window</h3>
<div class="paragraph">
<p>The TkLinuxcnc window contains the following elements:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>A menubar that allows you to perform various actions</p>
</li>
<li>
<p>A set of buttons that allow you to change the current working mode,
start/stop spindle and other relevant I/O</p>
</li>
<li>
<p>Status bar for various offset related displays</p>
</li>
<li>
<p>Coordinate display area</p>
</li>
<li>
<p>A set of sliders which control 'Jogging speed', 'Feed Override'
, and 'Spindle speed Override' which allow you to increase or
decrease those settings</p>
</li>
<li>
<p>Manual data input text box 'MDI'</p>
</li>
<li>
<p>Status bar display with active G-codes, M-codes, F- and S-words</p>
</li>
<li>
<p>Interpreter related buttons</p>
</li>
<li>
<p>A text display area that shows the G-code source of the loaded file</p>
</li>
</ul>
</div>
<div class="sect3">
<h4 id="main-buttons">Main buttons</h4>
<div class="paragraph">
<p>From left to right, the buttons are:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Machine enable: 'ESTOP' &gt; 'ESTOP RESET' &gt; 'ON'</p>
</li>
<li>
<p>Toggle mist coolant</p>
</li>
<li>
<p>Decrease spindle speed</p>
</li>
<li>
<p>Set spindle direction 'SPINDLE OFF' &gt; 'SPINDLE FORWARD' .
'SPINDLE REVERSE'</p>
</li>
<li>
<p>Increase spindle speed</p>
</li>
<li>
<p>Abort</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>then on the second line:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Operation mode: 'MANUAL' &gt; 'MDI' &gt; 'AUTO'</p>
</li>
<li>
<p>Toggle flood coolant</p>
</li>
<li>
<p>Toggle spindle brake control</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="offset-display-status-bar">Offset display status bar</h4>
<div class="paragraph">
<p>The Offset display status bar displays the currently selected tool
(selected with Txx M6), the tool length offset (if active), and the
work offsets (set by right-clicking the coordinates).</p>
</div>
</div>
<div class="sect3">
<h4 id="coordinate-display-area">Coordinate Display Area</h4>
<div class="paragraph">
<p>The main part of the display shows the current position of the tool.
The color of the position readout depends on the state of the axis. If
the axis is unhomed the axis will be displayed in yellow letters. Once
homed it will be displayed in green letters. If there is an error with
the current axis TkLinuxcnc will use red letter to show that. (for example
if an hardware limit switch is tripped).</p>
</div>
<div class="paragraph">
<p>To properly interpret these numbers, refer to the radio boxes on the
right. If the position is 'Machine', then the displayed number is in
the machine coordinate system. If it is 'Relative', then the displayed
number is in the offset coordinate system. Further down the choices can
be 'actual' or 'commanded'. Actual refers to the feedback coming from
encoders (if you have a servo machine), and the 'commanded' refers to
the position command send out to the motors. These values can differ
for several reasons: Following error, deadband, encoder resolution, or
step size. For instance, if you command a movement to X 0.0033 on your
mill, but one step of your stepper motor is 0.00125, then the
'Commanded' position will be 0.0033 but the 'Actual' position will be
0.0025 (2 steps) or 0.00375 (3 steps).</p>
</div>
<div class="paragraph">
<p>Another set of radio buttons allows you to choose between 'joint' and
'world' view. These make little sense on a normal type of machine (e.g.
trivial kinematics), but help on machines with non-trivial kinematics
like robots or stewart platforms. (you can read more about kinematics
in the Integrator Manual).</p>
</div>
<div class="sect4">
<h5 id="backplot">Backplot</h5>
<div class="paragraph">
<p>When the machine moves, it leaves a trail called the backplot. You can
start the backplot window by selecting View→Backplot.</p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="automatic-control">Automatic control</h4>
<div class="sect4">
<h5 id="buttons-for-control">Buttons for control</h5>
<div class="paragraph">
<p>The buttons in the lower part of TkLinuxcnc are used to control the execution of a
program: 'Open' to load a program, 'Verify' to
check it for errors, 'Run' to start the actual cutting,
'Pause' to stop it while running, 'Resume' to
resume an already paused program, 'Step' to advance one line
in the program and 'Optional Stop' to toggle the
optional stop switch (if the button is green the program execution will
be stopped on any M1 encountered).</p>
</div>
<div class="imageblock" style="text-align: center">
<div class="content">
<img src="../gui/images/tkemc-interp.png" alt="tkemc interp">
</div>
<div class="title">Figure 30. TkLinuxcnc Interpreter / program control<a id="cap:TkLinuxcnc-Interpreter"></a></div>
</div>
</div>
<div class="sect4">
<h5 id="text-program-display-area">Text Program Display Area</h5>
<div class="paragraph">
<p>When the program is running, the line currently being executed is
highlighted in white. The text display will automatically scroll to
show the current line.</p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="manual-control-2">Manual Control</h4>
<div class="sect4">
<h5 id="implicit-keys">Implicit keys</h5>
<div class="paragraph">
<p>TkLinuxcnc allows you to manually move the machine. This action is known as
'jogging'. First, select the axis to be moved by clicking it. Then,
click and hold the '+' or '-' button depending on the desired direction
of motion. The first four axes can also be moved by the keyboard arrow keys
(X and Y), the PAGE UP and PAGE DOWN keys (Z) and the '[' and ']' keys (A/4th).</p>
</div>
<div class="paragraph">
<p>If 'Continuous' is selected, the motion will continue as long as the
button or key is pressed. If another value is selected, the machine
will move exactly the displayed distance each time the button is
clicked or the key is pressed. The available values are:
'1.0000, 0.1000, 0.0100, 0.0010, 0.0001'</p>
</div>
<div class="paragraph">
<p>By pressing 'Home' or the HOME key, the selected axis will be homed.
Depending on your configuration, this may just set the axis value to be
the absolute position 0.0, or it may make the machine move to a
specific home location through use of 'home switches'. See the
Integrator Manual for more information on homing.</p>
</div>
<div class="paragraph">
<p>By pressing 'Override Limits', the machine will temporarily be
permitted to jog outside the limits defined in the .ini file. (Note: if
'Override Limits' is active the button will be displayed using a red
color).</p>
</div>
<div class="imageblock" style="text-align: center">
<div class="content">
<img src="../gui/images/tkemc-override-limits.png" alt="tkemc override limits">
</div>
<div class="title">Figure 31. TkLinuxcnc Override Limits &amp; Jogging increments example<a id="cap:Override-Limits"></a></div>
</div>
</div>
<div class="sect4">
<h5 id="the-spindle-group">The Spindle group</h5>
<div class="paragraph">
<p>The button on the first row selects the direction for the spindle to
rotate: Counterclockwise, Stopped, Clockwise. The buttons next to it
allow the user to increase or decrease the rotation speed. The button
on the second row allows the spindle brake to be engaged or released.
Depending on your machine configuration, not all the items in this
group may have an effect.</p>
</div>
</div>
<div class="sect4">
<h5 id="the-coolant-group">The Coolant group</h5>
<div class="paragraph">
<p>The two buttons allow the 'Mist' and 'Flood' coolants to be turned on
and off. Depending on your machine configuration, not all the items in
this group may appear.</p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="code-entry">Code Entry</h4>
<div class="paragraph">
<p>Manual Data Input (also called MDI), allows G-code programs to be
entered manually, one line at a time. When the machine is not turned
on, and not set to MDI mode, the code entry controls are unavailable.</p>
</div>
<div class="imageblock" style="text-align: center">
<div class="content">
<img src="../gui/images/tkemc-mdi.png" alt="tkemc mdi">
</div>
<div class="title">Figure 32. The Code Entry tab<a id="cap:The-Code-Entry"></a></div>
</div>
<div class="sect4">
<h5 id="mdi-2">MDI:</h5>
<div class="paragraph">
<p>This allows you to enter a g-code command to be executed. Execute the
command by pressing Enter.</p>
</div>
</div>
<div class="sect4">
<h5 id="active-g-codes">Active G-Codes</h5>
<div class="paragraph">
<p>This shows the 'modal codes' that are active in the interpreter. For
instance, 'G54' indicates that the 'G54 offset' is applied to all
coordinates that are entered.</p>
</div>
</div>
</div>
<div class="sect3">
<h4 id="jog-speed-2">Jog Speed</h4>
<div class="paragraph">
<p>By moving this slider, the speed of jogs can be modified. The numbers
above refer to axis units / second. The text box with the number is
clickable. Once clicked a popup window will appear, allowing for a
number to be entered.</p>
</div>
</div>
<div class="sect3">
<h4 id="feed-override-2">Feed Override</h4>
<div class="paragraph">
<p>By moving this slider, the programmed feed rate can be modified. For
instance, if a program requests 'F60'  and the slider is set to 120%,
then the resulting feed rate will be
72. The text box with the number is clickable. Once clicked a popup
window will appear, allowing for a number to be entered.</p>
</div>
</div>
<div class="sect3">
<h4 id="spindle-speed-override-2">Spindle speed Override</h4>
<div class="paragraph">
<p>The spindle speed override slider works exactly like the feed override
slider, but it controls to the spindle speed. If a program requested
S500 (spindle speed 500 RPM), and the slider is set to 80%, then the
resulting spindle speed will be 400 RPM. This slider has a minimum and
maximum value defined in the ini file. If those are missing the slider
is stuck at 100%. The text box with the number is clickable. Once
clicked a popup window will appear, allowing for a number to be
entered.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="keyboard-controls-2">Keyboard Controls</h3>
<div class="paragraph">
<p>Almost all actions in TkLinuxcnc can be accomplished with the keyboard.
Many of the shortcuts are unavailable when in MDI mode.</p>
</div>
<div class="paragraph">
<p>The most frequently used keyboard shortcuts are shown in the
following table.</p>
</div>
<table class="tableblock frame-all grid-all" style="width: 75%;">
<caption class="title">Table 2. Most Common Keyboard Shortcuts<a id="cap:TkLinuxcnc-Common-Keyboard"></a></caption>
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Keystroke</th>
<th class="tableblock halign-left valign-top">Action Taken</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">F1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Toggle Emergency Stop</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">F2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Turn machine on/off</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">`, 1 .. 9, 0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Set feed override from 0% to 100%</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">X, `</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Activate first axis</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Y, 1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Activate second axis</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Z, 2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Activate third axis</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">A, 3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Activate fourth axis</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Home</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Send active axis Home</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Left, Right</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Jog first axis</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Up, Down</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Jog second axis</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Pg Up, Pg Dn</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Jog third axis</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">[, ]</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Jog fourth axis</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">ESC</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Stop execution</p></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="mini-gui">MINI GUI</h2>
<div class="sectionbody">
<div class="paragraph">
<p><a id="cha:mini-gui"></a> </p>
</div>
<div class="sect2">
<h3 id="introduction-4">Introduction</h3>
<div class="imageblock" style="text-align: center">
<div class="content">
<img src="../gui/images/mini01.png" alt="mini01">
</div>
<div class="title">Figure 33. The Mini Graphical Interface (upon starting)<a id="fig:startmini"></a></div>
</div>
<div class="paragraph">
<p>Mini was designed to be a full screen graphical interface.
It was first written for the Sherline CNC but is
available for anyone to use, copy, and distribute under the terms of
the GPL copyright.</p>
</div>
<div class="paragraph">
<p>Rather than popup new windows for each thing that an operator might
want to do, Mini allows you to display these within the regular screen.
Parts of this chapter are copied from the instructions that were
written for that mill by Joe Martin and Ray Henry.
<sup class="footnote">[<a id="_footnoteref_2" class="footnote" href="#_footnote_2" title="View footnote.">2</a>]</sup></p>
</div>
</div>
<div class="sect2">
<h3 id="screen-layout">Screen layout</h3>
<div class="imageblock" style="text-align: center">
<div class="content">
<img src="../gui/images/mini02.png" alt="mini02">
</div>
<div class="title">Figure 34. Mini Display for a Running Machinekit<a id="fig:runmini"></a></div>
</div>
<div class="paragraph">
<p>The Mini screen is laid out in several sections. These include a menu
across the top, a set of main
control buttons just below the menu, and two rather large columns of
information that show the state of your machine and allow you to enter
commands or programs.</p>
</div>
<div class="paragraph">
<p>When you compare starting screen with run screen
you will see many differences. In the second figure</p>
</div>
<div class="ulist">
<ul>
<li>
<p>each axis has been homed&#8201;&#8212;&#8201;the display numbers are dark green</p>
</li>
<li>
<p>the Machinekit mode is auto&#8201;&#8212;&#8201;the auto button has a light green background</p>
</li>
<li>
<p>the backplotter has been turned on&#8201;&#8212;&#8201;backplot is
visible in the pop-in window</p>
</li>
<li>
<p>the tool path from the program is showing in the display.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Once you start working with Mini you will quickly discover how easily
it shows the conditions of the Machinekit and allows you to make changes to it.</p>
</div>
</div>
<div class="sect2">
<h3 id="menu-bar">Menu Bar</h3>
<div class="paragraph">
<p>The first row is the menu bar across the top. Here you can configure
the screen to display additional information. Some of the items in this
menu are very different from what you may be accustomed to with other
programs. You should take a few minutes and look under each menu item
in order to familiarize yourself with the features that are there.</p>
</div>
<div class="paragraph">
<p>The menu includes each of the following sections and subsections.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>'Program' - This menu includes both reset and exit functions. Reset will return
the Machinekit to the condition that it was in when it started. Some startup
configuration items like the normal program units can be specified in
the ini file.</p>
</li>
<li>
<p>'View' - This menu includes several screen elements that can be added so that
you can see additional information during a run. These include</p>
<div class="ulist">
<ul>
<li>
<p>'Position_Type' - This menu item adds a line above the main position displays that
shows whether the displays are in inches or metric and whether
they are Machine or Relative location and if they are
Actual positions or Commanded positions. These can be changed
using the Settings menu described below.</p>
</li>
<li>
<p>'Tool_Info' - This adds a line immediately below the main position displays that
shows which tool has been selected and the length of offset applied.</p>
</li>
<li>
<p>'Offset_Info' - adds a line immediately below the tool info that shows what offsets
have been applied. This is a total distance for each axis from
machine zero.</p>
</li>
<li>
<p>'Show_Restart' - adds a block of buttons to the right of the program display in auto
mode. These allow the operator to restart a program after an abort
or estop. These will pop in whenever estop or abort is pressed but
can be shows by the operator anytime auto mode is active by
selecting this menu item.</p>
</li>
<li>
<p>'Hide_Restart' - removes the block of buttons that control the restart of a program
that has been aborted or estopped.</p>
</li>
<li>
<p>'Show_Split_Right' - changes the nature of the right hand column so that it shows both
mode and pop-in information.</p>
</li>
<li>
<p>'Show_Mode_Full' - changes the right hand column so that the mode buttons or displays
fill the entire right side of the screen. In manual mode, running
with mode full you will see spindle and lube control buttons as well as
the motion buttons.</p>
</li>
<li>
<p>'Show_Popin_Full' - changes the right hand column so that the popin fills the entire
right side of the screen.</p>
</li>
</ul>
</div>
</li>
<li>
<p>'Settings' - These menu items allow the operator to control certain parameters
during a run.</p>
<div class="ulist">
<ul>
<li>
<p>'Actual_Position' - sets the main position displays to actual(machine based) values.</p>
</li>
<li>
<p>'Commanded_Position' - sets the main position displays to the values that they were
commanded to.</p>
</li>
<li>
<p>'Machine_Position' - sets the main position displays to the absolute distance from where
the machine was homed.</p>
</li>
<li>
<p>'Relative_Position' - sets the main position displays to show the current position
including any offsets like part zeros that are active. For more
information on offsets see the chapter on coordinate systems.</p>
</li>
</ul>
</div>
</li>
<li>
<p>'Info' - lets you see a number of active things by writing their values into
the MESSAGE pad.</p>
<div class="ulist">
<ul>
<li>
<p>'Program_File' - will write the currently active program file name.</p>
</li>
<li>
<p>'Editor_File' - will write the currently active file if the editor pop in is active
and a file has been selected for editing.</p>
</li>
<li>
<p>'Parameter_File' - will write the name of the file being used for program
parameters. You can find more on this in the chapters on offsets
and using variables for programming.</p>
</li>
<li>
<p>'Tool_File' - will write the name of the tool file that is being used during
this run.</p>
</li>
<li>
<p>'Active_G-Codes' - will write a list of all of the modal program codes that are active
whenever this item is selected. For more information about modal
codes see the introductory part programming chapter.</p>
</li>
</ul>
</div>
</li>
<li>
<p>'Help' - opens a text window pop in that displays the contents of the help file.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>You will notice between the info menu and the help menu there are a
set of four buttons. These are called check buttons because they have a
small box that shows red if they have been selected. These four
buttons, Editor, Backplot, Tools, and Offsets pop in each of these
screens. If more than one pop-in is active (button shown as red) you
can toggle between these pop-ins by right clicking your mouse.</p>
</div>
</div>
<div class="sect2">
<h3 id="control-button-bar">Control Button Bar</h3>
<div class="paragraph">
<p>Below the menu line is a horizontal line of control buttons. These are
the primary control buttons for the interface. Using these buttons you
can change mode from [MANUAL] to [AUTO] to [MDI] (Manual Data Input).
These buttons show a light green background whenever that mode is
active.</p>
</div>
<div class="paragraph">
<p>You can also use the [FEEDHOLD], [ABORT], and [ESTOP] buttons to
control a programmed move.</p>
</div>
<div class="sect3">
<h4 id="manual">MANUAL </h4>
<div class="paragraph">
<p>This button or pressing &lt;F3&gt; sets the Machinekit to Manual mode and displays
an abbreviated set of buttons the operator can use to issue manual
motion commands. The labels of the jog buttons change to match the
active axis. Whenever Show_Mode_Full is active in in manual mode, you
will see spindle and lube control buttons as well as the motion
buttons. A keyboard &lt;i&gt; or &lt;I&gt; will switch from continuous jog to
incremental jog. Pressing that key again will toggle the increment size
through the available sizes.</p>
</div>
<div class="imageblock" style="text-align: center">
<div class="content">
<img src="../gui/images/miniman.png" alt="miniman">
</div>
<div class="title">Figure 35. Manual Mode Buttons<a id="cap:Manual-Mode-Buttons"></a></div>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">From the Sherline CNC Operators Manual:</div>
<div class="paragraph">
<p>A button has been added to designate the present position as the home
position. We felt that a machine of this type (Sherline 5400) would
be simpler to operate if it didn&#8217;t use a machine home position.
This button will zero out any offsets and will home all axes right
where they are.</p>
</div>
<div class="paragraph">
<p>Axis focus is important here. Notice in <a href="#fig:startmini">startup figure</a>
that in manual mode you see a line or 'groove' around the X axis to
highlight its position display. This groove says that X is the active
axis. It will be the target for jog moves made with the 'plus' and
'minus' jog buttons. You can change axis focus by clicking on any
other axis display. You can also change axis focus in manual mode if
you press its name key on your keyboard. Case is not important here.
[Y] or [y] will shift the focus to the Y axis. [A] or [a] will shift
the focus to the A axis. To help you remember which axis will jog
when you press the jog buttons, the active axis name is displayed on
them.</p>
</div>
<div class="paragraph">
<p>Machinekit can jog (move a particular axis) as long as you hold the button
down when it is set for 'continuous', or it can jog for a preset
distance when it is set for 'incremental'. You can also jog the
active axis by pressing the plus [+] or minus [-] keys on the
keyboard. Again, case is not important for keyboard jogs. The two
small buttons between the large jog buttons let you set which kind
of jog you want. When you are in incremental mode, the distance
buttons come alive. You can set a distance by pressing it with the
mouse. You can toggle between distances by pressing [i] or [I] on the
keyboard. Incremental jog has an interesting and often unexpected
effect. If you press the jog button while a jog is in progress, it
will add the distance to the position it was at when the second jog
command was issued. Two one-inch jog presses in close succession will
not get you two inches of movement. You have to wait until the first
one is complete before jogging again.</p>
</div>
<div class="paragraph">
<p>Jog speed is displayed above the slider. It can be set using the
slider by clicking in the slider&#8217;s open slot on the side you want it
to move toward, or by clicking on the [Default] or [Rapid] buttons.
This setting only affects the jog move while in manual mode. Once a
jog move is initiated, jog speed has no effect on the jog. As an
example of this, say you set jog mode to 'incremental' and the
increment to 1 inch. Once you press the [Jog] button it will travel
that inch at the rate at which it started.</p>
</div>
</div>
</div>
</div>
<div class="sect3">
<h4 id="auto">AUTO </h4>
<div class="paragraph">
<p>When the Auto button is pressed, or &lt;F4&gt; on the keyboard, and Machinekit is
set to that mode, a set of the traditional auto operation buttons
is displayed, and a small text window opens to show a part program.
During run the active line will be displayed as white lettering on a
red background.</p>
</div>
<div class="paragraph">
<p>In the auto mode, many of the keyboard keys are bound to controls.
For example, the numbers above the qwerty keys are bound to feed rate
override. The 0 sets 100%, 9 sets 90% and such. Other keys work much
the same as they do with the tkMachinekit graphical interface.</p>
</div>
<div class="imageblock" style="text-align: center">
<div class="content">
<img src="../gui/images/miniauto.png" alt="miniauto">
</div>
<div class="title">Figure 36. Auto Mode<a id="cap:Auto-Mode"></a></div>
</div>
<div class="paragraph">
<p>Auto mode does not normally display the active or modal codes. If the
operator wishes to check these, use menu Info→Active_G-Codes. This
will write all modal codes onto the message scratch pad.</p>
</div>
<div class="paragraph">
<p>If abort or estop is pressed during a run, a set of buttons will
display to the right of the text that allow the operator to shift the
restart line forward or backward. If the restart line is not the last
active line, it will be highlighted as white letters on a blue
background. Caution, a very slow feed rate, and a finger poised over
the pause button is advised during any program restart.</p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">From the Sherline CNC Operators Manual:</div>
<div class="paragraph">
<p>The real heart of CNC machine tool work is the auto mode. Sherline&#8217;s
auto mode displays the typical functions that people have come to
expect from Machinekit. Along the top are a set of buttons which control
what is happening in auto mode. Below them is the window that shows
the part of the program currently being executed. As the program runs,
the active line shows in white letters on a red background. The first
three buttons, [Open], [Run], and [Pause] do about what you&#8217;d expect.
[Pause] will stop the run right where it is. The next button, [Resume],
will restart motion. They are like feedhold if used this way. Once
[Pause] is pressed and motion has stopped, [Step] will resume motion
and continue it to the end of the current block. Press [Step] again to
get the motion of the next block. Press [Resume] and the interpreter
goes back to reading ahead and running the program. The combination
of [Pause] and [Step] work a lot like single block mode on many
controllers. The difference is that [Pause] does not let motion
continue to the end of the current block. Feed rate Override &#8230;&#8203; can
be very handy as you approach a first cut. Move in quickly at 100
percent, throttle back to 10% and toggle between [Feedhold] and 10%
using the pause button. When you are satisfied that you&#8217;ve got it
right, hit the zero to the right of nine (feedrate=100%) and go.</p>
</div>
<div class="paragraph">
<p>The [Verify] button runs the interpreter through the code without
initiating any motion. If Verify finds a problem it will stop the
read near the problem block and put up some sort of message. Most of
the time you will be able to figure out the problem with your program
by reading the message and looking in the program window at the
highlighted line. Some of the messages are not very helpful.
Sometimes you will need to read a line or two ahead of the highlight
to see the problem. Occasionally the message will refer to something
well ahead of the highlight line. This often happens if you forget
to end your program with an acceptable code like %, M2, M30, or M60.</p>
</div>
</div>
</div>
</div>
<div class="sect3">
<h4 id="mdi-3">MDI</h4>
<div class="paragraph">
<p>The MDI button or &lt;F5&gt; sets the Manual Data Input mode. This mode
displays a single line of text for block entry and shows the currently
active modal codes for the interpreter.</p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">From the Sherline CNC Operators Manual:</div>
<div class="paragraph">
<p>MDI mode allows you to enter single blocks and have the interpreter
execute them as if they were part of a program (kind of like a one-line
program). You can execute circles, arcs, lines and such. You can even
test sets of program lines by entering one block, waiting for that
motion to end, and then enter the next block. Below the entry window,
there is a listing of all of the current modal codes. This listing can
be very handy. I often forget to enter a g00 before I command a motion.
If nothing happens I look down there to see if g80 is in effect. G80
stops any motion. If it&#8217;s there I remember to issue a block like g00 x0
y0 z0. In MDI you are entering text from the keyboard so none of the
main keys work for commands to the running machine. [F1] will Estop the
control.</p>
</div>
</div>
</div>
<div class="paragraph">
<p>Since many of the keyboard keys are needed for entry, most of the
bindings that were available in auto mode are not available here.</p>
</div>
</div>
<div class="sect3">
<h4 id="feedhold-continue">[FEEDHOLD]&#8201;&#8212;&#8201;[CONTINUE]</h4>
<div class="paragraph">
<p>Feedhold is a toggle. When the Machinekit is ready to handle or is handling a
motion command this button shows the feedhold label on a red
background. If feedhold has been pressed then it will show the
continue label. Using it to pause motion has the advantage of being
able to restart the program from where you stopped it. Feedhold will
toggle between zero speed and whatever feed rate override was active
before it was pressed. This button and the function that it activates
is also bound to the pause button on most keyboards.</p>
</div>
</div>
<div class="sect3">
<h4 id="abort">[ABORT]</h4>
<div class="paragraph">
<p>The abort button stops any motion when it is pressed. It also removes
the motion command from the Machinekit. No further motions are cued up after
this button is pressed. If you are in auto mode, this button removes
the rest of the program from the motion cue. It also records the number
of the line that was executing when it was pressed. You can use this
line number to restart the program after you have cleared up the
reasons for pressing it.</p>
</div>
</div>
<div class="sect3">
<h4 id="estop">[ESTOP]</h4>
<div class="paragraph">
<p>The estop button is also a toggle but it works in three possible
settings.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>When Mini starts up it will show a raised button with red background
with black letters that say 'ESTOP PUSH'. This is the correct state of
the machine when you want to run a program or jog an axis. Estop is
ready to work for you when it looks like this.</p>
</li>
<li>
<p>If you push the estop button while a motion is being executed, you
will see a recessed gray button that says 'ESTOPPED'. You will not be
able to move an axis or do any work from the Mini gui when the estop
button displays this way. Pressing it with your mouse will return Mini
to normal ready condition.</p>
</li>
<li>
<p>A third view is possible here. A recessed green button means that
estop has been take off but the machine has not been turned on.
Normally this only happens when &lt;F1&gt; estop has been pressed but &lt;F2&gt;
has not been pressed.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Joe Martin says, "When all else fails press a software [ESTOP]." This
does everything that abort does but adds in a reset so that the Machinekit
returns to the standard settings that it wakes up on. If you have an
external estop circuit that watches the relevant parallel port or DIO
pin, a software estop can turn off power to the motors.</p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="title">From the Sherline CNC Operators Manual:</div>
<div class="paragraph">
<p>Most of the time, when we abort or E-Stop it&#8217;s because something went
wrong. Perhaps we broke a tool and want to change it. We switch to
manual mode and raise the spindle, change tools, and assuming that we
got the length the same, get ready to go on. If we return the tool to
the same place where the abort was issued, Machinekit will work perfectly.
It is possible to move the restart line back or ahead of where the
abort happened. If you press the [Back] or [Ahead] buttons you will see
a blue highlight that shows the relationship between the abort line and
the one on which Machinekit will start up again. By thinking through what
is happening at the time of the restart you can place the tool tip
where it will resume work in an acceptable manner. You will need to
think through things like tool offsets, barriers to motion along a
diagonal line, and such, before you press the [Restart] button.</p>
</div>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="left-column">Left Column</h3>
<div class="paragraph">
<p>There are two columns below the control line. The left side of the
screen displays information of interest to the operator. There are very
few buttons to press here.</p>
</div>
<div class="sect3">
<h4 id="axis-position-displays">Axis Position Displays</h4>
<div class="paragraph">
<p>The axis position displays work exactly like they do with tkMachinekit. The
color of the letters is important.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Red indicates that the machine is sitting on a limit switch or the
polarity of a min or max limit is set wrong in the ini file.</p>
</li>
<li>
<p>Yellow indicates that the machine is ready to be homed.</p>
</li>
<li>
<p>Green indicates that the machine has been homed.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The position can be changed to display any one of several values by
using the menu settings. The startup or default settings can be changed
in the ini file so these displays wake up just the way that you want
them.</p>
</div>
</div>
<div class="sect3">
<h4 id="feed-rate-override">Feed rate Override </h4>
<div class="paragraph">
<p>Immediately below the axis position displays is the feed rate override
slider. You can operate feed rate override and feedhold in any mode of
operation. Override will change the speed of jogs or feed rate in
manual or MDI modes. You can adjust feed rate override by grabbing the
slider with your mouse and dragging it along the groove. You can also
change feed rate a percent at a time by clicking in the slider&#8217;s
groove. In auto mode you can also set feed override in 10% increments
by pressing the top row of numbers. This slider is a handy visual
reference to how much override is being applied to programmed feed
rate.</p>
</div>
</div>
<div class="sect3">
<h4 id="messages">Messages</h4>
<div class="paragraph">
<p>The message display located under the axis positions is a sort of
scratch pad for Machinekit. If there are problems it will report them
there. If you try to home or move an axis when the [ESTOP] button is
pressed, you&#8217;ll get a message that says something about commanding
motion when Machinekit is not ready. If an axis faults out for something
like falling behind, the message pad will show what happened. If you
want to remind an operator to change a tool, for example, you can add a
line of code to your program that will display in the message box. An
example might be (msg, change to tool #3 and press resume). This line
of code, included in a program, will display 'change to tool #3 and
press resume' in the message box. The word msg, (with comma included)
is the command to make this happen; without 'msg,'  the message
wouldn&#8217;t be displayed. It will still show in the auto
modes' display of the program file.</p>
</div>
<div class="paragraph">
<p>To erase messages simply click the message button at the top of the
pad or, on the keyboard, hold down the [Alt] key and press the [m] key.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="right-column">Right Column</h3>
<div class="paragraph">
<p>The right column is a general purpose place to display and work. Here
you can see the modal buttons and text entry or displays. Here you can
view a plot of the tool path that will be commanded by your program.
You can also write programs and control tools and offsets here. The
modal screens have been described above. Each of the popin displays are
described in detail below.</p>
</div>
<div class="sect3">
<h4 id="program-editor">Program Editor</h4>
<div class="imageblock" style="text-align: center">
<div class="content">
<img src="../gui/images/miniedit.png" alt="miniedit">
</div>
<div class="title">Figure 37. Mini Text Editor<a id="cap:Mini-Text-Editor"></a></div>
</div>
<div class="paragraph">
<p>The editor is rather limited compared to many modern text editors. It
does not have 'undo' nor 'paste' between windows with the clipboard.
These were eliminated because of interaction with a running program.
Future releases will replace these functions so that it will work the
way you&#8217;ve come to expect from a text editor. It is included because
it has the rather nice feature of being able to number and renumber
lines in the way that the interpreter expects of a file.
It will also allow you to cut and paste from one part of a file to
another. In addition, it will allow you to save your changes and
submit them to the Machinekit interpreter with the same menu click.
You can work on a file in here for a while and then save and
load if the Machinekit is in Auto mode. If you have been running a file and
find that you need to edit it, that file will be placed in the editor
when you click on the editor button on the top menu.</p>
</div>
</div>
<div class="sect3">
<h4 id="backplot-display">Backplot Display</h4>
<div class="imageblock" style="text-align: center">
<div class="content">
<img src="../gui/images/minibkplot.png" alt="minibkplot">
</div>
<div class="title">Figure 38. Minis Backplotter<a id="cap:Minis-Backplotter"></a></div>
</div>
<div class="paragraph">
<p>Backplot [Backplot] will show the tool path that can be viewed from a
chosen direction. '3-D' is the default. Other choices and controls are
displayed along the top and right side of the pop-in. If you are in the
middle of a cut when you press one of these control buttons the machine
will pause long enough to re-compute the view.</p>
</div>
<div class="paragraph">
<p>Along the right side of the pop-in there is a small pyramid shaped
graphic that tries to show the angle you are viewing the tool path
from. Below it are a series of sliders that allow you to change the
angle of view and the size of the plot. You can rotate the little
position angle display with these. They take effect when you press the
[Refresh] button. The [Reset] button removes all of the paths from the
display and readies it for a new run of the program but retains your
settings for that session.</p>
</div>
<div class="paragraph">
<p>If backplot is started before a program is started, it will try to use
some color lines to indicate the kind of motion that was used to make
it. A green line is a rapid move. A black line is a feed rate move.
Blue and red indicate arcs in counterclockwise and clockwise
directions.</p>
</div>
<div class="paragraph">
<p>The backplotter with Mini allows you to zoom and rotate views after
you have run your program but it is not intended to store a tool path
for a long period of time.</p>
</div>
</div>
<div class="sect3">
<h4 id="tool-page">Tool Page</h4>
<div class="paragraph">
<p>The tool page is pretty much like the others. You can set length and
diameter values here and they become effective when you press the
[Enter] key. You will need to set up your tool information before you
begin to run a program. You can&#8217;t change tool offsets while the program
is running or when the program is paused.</p>
</div>
<div class="imageblock" style="text-align: center">
<div class="content">
<img src="../gui/images/minitool.png" alt="minitool">
</div>
<div class="title">Figure 39. Mini Tool Display<a id="cap:Mini-Tool-Display"></a></div>
</div>
<div class="paragraph">
<p>The [Add Tools] and [Remove Tools] buttons work on the bottom of the
tool list so you will want to fill in tool information in descending
order. Once a new tool has been added, you can use it in a program with
the usual G-code commands. There is a 32 tool limit in the current Machinekit
configuration files but you will run out of display space in Mini long
before you get there.</p>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<div class="title">Tip</div>
</td>
<td class="content">
You can use Menu &gt; View &gt; Show Popin Full to see more tools if you need.
</td>
</tr>
</table>
</div>
</div>
<div class="sect3">
<h4 id="offset-page">Offset Page</h4>
<div class="paragraph">
<p>The offset page can be used to display and setup work offsets. The
coordinate system is selected along the left hand side of the window.
Once you have selected a coordinate system you can enter values or move
an axis to a teach position.</p>
</div>
<div class="imageblock" style="text-align: center">
<div class="content">
<img src="../gui/images/minioffsets.png" alt="minioffsets">
</div>
<div class="title">Figure 40. Mini Offset Display<a id="cap:Mini-Offset-Display"></a></div>
</div>
<div class="paragraph">
<p>You can also teach using an edgefinder by adding the radius and length
to the offset_by widgets. When you do this you may need to add or
subtract the radius depending upon which surface you choose to touch
from. This is selected with the add or subtract radiobuttons below the
offset windows.</p>
</div>
<div class="paragraph">
<p>The zero all for the active coordinate system button will remove any
offsets that you have showing but they are not set to zero in the
variable file until you press the write and load file button as well.
This write and load file button is the one to use when you have set all
of the axis values that you want for a coordinate system.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="keyboard-bindings">Keyboard Bindings</h3>
<div class="paragraph">
<p>A number of the bindings used with tkMachinekit have been preserved with
mini. A few of the bindings have been changed to extend that set or to
ease the operation of a machine using this interface. Some keys operate
the same regradless of the mode. Others change with the mode that Machinekit
is operating in.</p>
</div>
<div class="sect3">
<h4 id="common-keys">Common Keys</h4>
<div class="ulist">
<ul>
<li>
<p>'Pause' - Toggle feedhold</p>
</li>
<li>
<p>'Escape' - abort motion</p>
</li>
<li>
<p>'F1' - toggle estop/estop reset state</p>
</li>
<li>
<p>'F2' - toggle machine off/machine on state</p>
</li>
<li>
<p>'F3' - manual mode</p>
</li>
<li>
<p>'F4' - auto mode</p>
</li>
<li>
<p>'F5' - MDI mode</p>
</li>
<li>
<p>'F6' - reset interpreter</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The following only work for machines using auxiliary I/O</p>
</div>
<div class="ulist">
<ul>
<li>
<p>'F7' - toggle mist on/mist off</p>
</li>
<li>
<p>'F8' - toggle flood on/flood off</p>
</li>
<li>
<p>'F9' - toggle spindle forward/off</p>
</li>
<li>
<p>'F10' - toggle spindle reverse/off</p>
</li>
<li>
<p>'F11' - decrease spindle speed</p>
</li>
<li>
<p>'F12' - increase spindle speed</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="manual-mode">Manual Mode </h4>
<div class="ulist">
<ul>
<li>
<p>'1-9 0' - set feed override to 10%-90%, 0 is 100%</p>
</li>
<li>
<p>'~' - set feed override to 0 or feedhold</p>
</li>
<li>
<p>'x' - select X axis</p>
</li>
<li>
<p>'y' - select Y axis</p>
</li>
<li>
<p>'z' - select Z axis</p>
</li>
<li>
<p>'a' - select A axis</p>
</li>
<li>
<p>'b' - select B axis</p>
</li>
<li>
<p>'c' - select C axis</p>
</li>
<li>
<p>'Left Right Arrow' - jog X axis</p>
</li>
<li>
<p>'Up Down Arrow' - jog Y axis</p>
</li>
<li>
<p>'Page Up Down' - jog Z axis</p>
</li>
<li>
<p>'- _' - jog the active axis in the minus direction</p>
</li>
<li>
<p>'+ =' - jog the active axis in the plus direction.</p>
</li>
<li>
<p>'Home' - home selected axis</p>
</li>
<li>
<p>'i I' - toggle through jog increments</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The following only work with a machine using auxiliary I/O</p>
</div>
<div class="ulist">
<ul>
<li>
<p>'b' - take spindle brake off</p>
</li>
<li>
<p>'Alt-b' - put spindle brake on</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="auto-mode">Auto Mode  </h4>
<div class="ulist">
<ul>
<li>
<p>'1-9,0' - set feed override to 10%-90%, 0 is 100%</p>
</li>
<li>
<p>'~' - set feed override to 0 or feedhold</p>
</li>
<li>
<p>'o/O' - open a program</p>
</li>
<li>
<p>'r/R' - run an opened program</p>
</li>
<li>
<p>'p/P' - pause an executing program</p>
</li>
<li>
<p>'s/S' - resume a paused program</p>
</li>
<li>
<p>'a/A' - step one line in a paused program</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect2">
<h3 id="misc">Misc</h3>
<div class="paragraph">
<p>One of the features of Mini is that it displays any axis above number
2 as a rotary and will display degree units for it. It also converts to
degree units for incremental jogs when a rotary axis has the focus.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="keystick-gui">KEYSTICK GUI</h2>
<div class="sectionbody">
<div class="paragraph">
<p><a id="cha:keystick-gui"></a> </p>
</div>
<div class="sect2">
<h3 id="introduction-5">Introduction</h3>
<div class="imageblock" style="text-align: center">
<div class="content">
<img src="../gui/images/keystick.png" alt="keystick">
</div>
<div class="title">Figure 41. The Mini Graphical Interface<a id="fig:keystick"></a></div>
</div>
<div class="paragraph">
<p>Keystick is a minimal text based interface.</p>
</div>
</div>
<div class="sect2">
<h3 id="installing">Installing</h3>
<div class="paragraph">
<p>To use keystick change the 'DISPLAY' setting in the ini file setting to:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>DISPLAY = keystick</pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="using">Using</h3>
<div class="paragraph">
<p>Keystick is very simple to use. In the MDI Mode you simply start
typing the g code and it shows up in the bottom text area. The '?' key
toggles help.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="using-machinekit">Using Machinekit</h2>
<div class="sectionbody">

</div>
</div>
<div class="sect1">
<h2 id="cnc-machine-overview">CNC Machine Overview</h2>
<div class="sectionbody">
<div class="paragraph">
<p><a id="cha:cnc-machine-overview"></a> </p>
</div>
<div class="paragraph">
<p>This section gives a brief description of how a CNC machine is viewed
from the input and output ends of the Interpreter.</p>
</div>
<div class="sect2">
<h3 id="mechanical-components">Mechanical Components</h3>
<div class="paragraph">
<p>A CNC machine has many mechanical components that may be controlled or
may affect the way in which control is exercised. This section
describes the subset of those components that interact with the
Interpreter. Mechanical components that do not interact directly with
the Interpreter, such as the jog buttons, are not described here, even
if they affect control.</p>
</div>
<div class="sect3">
<h4 id="axes">Axes</h4>
<div class="paragraph">
<p>Any CNC machine has one or more Axes. Different types of CNC machines
have different combinations. For instance, a '4-axis milling machine'
may have XYZA or XYZB axes. A lathe typically has XZ axes. A
foam-cutting machine may have XYUV axes. In Machinekit, the case of a XYYZ
'gantry' machine with two motors for one axis is better handled by
kinematics rather than by a second linear axis. <sup class="footnote">[<a id="_footnoteref_3" class="footnote" href="#_footnote_3" title="View footnote.">3</a>]</sup></p>
</div>
<div class="paragraph">
<div class="title">Primary Linear Axes </div>
<p>The X, Y, and Z axes produce linear motion in three mutually
orthogonal directions.</p>
</div>
<div class="paragraph">
<div class="title">Secondary Linear Axes </div>
<p>The U, V, and W axes produce linear motion in three mutually
orthogonal directions. Typically, X and U are parallel, Y and V are
parallel, and Z and W are parallel.</p>
</div>
<div class="paragraph">
<div class="title">Rotational Axes </div>
<p>The A, B and C axes produce angular motion (rotation). Typically, A
rotates around a line parallel to X, B rotates around a line parallel
to Y, and C rotates around a line parallel to Z.</p>
</div>
</div>
<div class="sect3">
<h4 id="spindle">Spindle </h4>
<div class="paragraph">
<p>A CNC machine typically has a spindle which holds one cutting tool,
probe, or the material in the case of a lathe. The spindle may or may
not be controlled by the CNC software.</p>
</div>
</div>
<div class="sect3">
<h4 id="coolant">Coolant </h4>
<div class="paragraph">
<p>If a CNC machine has components to provide mist coolant and/or flood
coolant they can be controlled by G codes.</p>
</div>
</div>
<div class="sect3">
<h4 id="sub:Feed-and-Speed">Feed and Speed Override</h4>
<div class="paragraph">
<p>
</p>
</div>
<div class="paragraph">
<p>A CNC machine can have separate feed and speed override controls,
which let the operator specify that the actual feed rate or spindle
speed used in machining at some percentage of the programmed rate.</p>
</div>
</div>
<div class="sect3">
<h4 id="sub:Block-Delete-Switch">Block Delete Switch</h4>
<div class="paragraph">
<p></p>
</div>
<div class="paragraph">
<p>A CNC machine can have a block delete switch. See the
<a href="#sub:Block-Delete-Switch-Interaction">Block Delete</a> Section.</p>
</div>
</div>
<div class="sect3">
<h4 id="sub:Optional-Program-Stop">Optional Program Stop Switch</h4>
<div class="paragraph">
<p></p>
</div>
<div class="paragraph">
<p>A CNC machine can have an optional program stop switch. See the
<a href="#sub:Optional-Program-Stop-Interaction">Optional Program Stop</a> Section.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="control-and-data-components">Control and Data Components</h3>
<div class="sect3">
<h4 id="linear-axes">Linear Axes</h4>
<div class="paragraph">
<p>The X, Y, and Z axes form a standard right-handed coordinate system of
orthogonal linear axes. Positions of the three linear motion mechanisms
are expressed using coordinates on these axes.</p>
</div>
<div class="paragraph">
<p>The U, V and W axes also form a standard right-handed coordinate
system. X and U are parallel, Y and V are parallel, and Z and W are
parallel (when A, B, and C are rotated to zero).</p>
</div>
</div>
<div class="sect3">
<h4 id="rotational-axes">Rotational Axes</h4>
<div class="paragraph">
<p>The rotational axes are measured in degrees as wrapped linear axes in
which the direction of positive rotation is counterclockwise when
viewed from the positive end of the corresponding X, Y, or Z-axis. By
'wrapped linear axis', we mean one on which the angular position
increases without limit (goes towards plus infinity) as the axis turns
counterclockwise and deceases without limit (goes towards minus
infinity) as the axis turns clockwise. Wrapped linear axes are used
regardless of whether or not there is a mechanical limit on rotation.</p>
</div>
<div class="paragraph">
<p>Clockwise or counterclockwise is from the point of view of the
workpiece. If the workpiece is fastened to a turntable which turns on a
rotational axis, a counterclockwise turn from the point of view of the
workpiece is accomplished by turning the turntable in a direction that
(for most common machine configurations) looks clockwise from the point
of view of someone standing next to the machine. <sup class="footnote">[<a id="_footnoteref_4" class="footnote" href="#_footnote_4" title="View footnote.">4</a>]</sup></p>
</div>
</div>
<div class="sect3">
<h4 id="sub:Controlled-Point">Controlled Point</h4>
<div class="paragraph">
<p></p>
</div>
<div class="paragraph">
<p>The controlled point is the point whose position and rate of motion
are controlled. When the tool length offset is zero (the default
value), this is a point on the spindle axis (often called the gauge
point) that is some fixed distance beyond the end of the spindle,
usually near the end of a tool holder that fits into the spindle. The
location of the controlled point can be moved out along the spindle
axis by specifying some positive amount for the tool length offset.
This amount is normally the length of the cutting tool in use, so that
the controlled point is at the end of the cutting tool. On a lathe,
tool length offsets can be specified for X and Z axes, and the
controlled point is either at the tool tip or slightly outside it
(where the perpendicular, axis-aligned lines touched by the 'front' and
'side' of the tool intersect).</p>
</div>
</div>
<div class="sect3">
<h4 id="sub:Coordinate-Linear-Motion">Coordinated Linear Motion</h4>
<div class="paragraph">
<p>To drive a tool along a specified path, a machining center must often
coordinate the motion of several axes. We use the term 'coordinated
linear motion' to describe the situation in which, nominally, each axis
moves at constant speed and all axes move from their starting positions
to their end positions at the same time. If only the X, Y, and Z axes
(or any one or two of them) move, this produces motion in a straight
line, hence the word 'linear' in the term. In actual motions, it is
often not possible to maintain constant speed because acceleration or
deceleration is required at the beginning and/or end of the motion. It
is feasible, however, to control the axes so that, at all times, each
axis has completed the same fraction of its required motion as the
other axes. This moves the tool along same path, and we also call this
kind of motion coordinated linear motion.</p>
</div>
<div class="paragraph">
<p>Coordinated linear motion can be performed either at the prevailing
feed rate, or at traverse rate, or it may be synchronized to the
spindle rotation. If physical limits on axis speed make the desired
rate unobtainable, all axes are slowed to maintain the desired path.</p>
</div>
</div>
<div class="sect3">
<h4 id="a-id-sub-feed-rate-a-feed-rate"><a id="sub:feed-rate"></a>Feed Rate</h4>
<div class="paragraph">
<p></p>
</div>
<div class="paragraph">
<p>The rate at which the controlled point or the axes move is nominally a
steady rate which may be set by the user. In the Interpreter, the
interpretation of the feed rate is as follows unless 'inverse time
feed' or 'feed per revolution' modes are being used see Section
<a href="#sec:G93-G94-G95-Mode">G93 G94 G95</a>.</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>If any of XYZ are moving, F is in units per minute in the XYZ
cartesian system, and all other axes (ABCUVW) move so as to start and
stop in coordinated fashion.</p>
</li>
<li>
<p>Otherwise, if any of UVW are moving, F is in units per minute in the
UVW cartesian system, and all other axes (ABC) move so as to start and
stop in coordinated fashion.</p>
</li>
<li>
<p>Otherwise, the move is pure rotary motion and the F word is in rotary
units in the ABC 'pseudo-cartesian' system.</p>
</li>
</ol>
</div>
</div>
<div class="sect3">
<h4 id="coolant-2">Coolant </h4>
<div class="paragraph">
<p>Flood coolant and mist coolant may each be turned on independently.
The RS274/NGC language turns them off together see Section
<a href="#sec:M7-M8-M9">M7 M8 M9</a>.</p>
</div>
</div>
<div class="sect3">
<h4 id="dwell">Dwell </h4>
<div class="paragraph">
<p>A machining center may be commanded to dwell (i.e., keep all axes
unmoving) for a specific amount of time. The most common use of dwell
is to break and clear chips, so the spindle is usually turning during a
dwell. Regardless of the Path Control Mode (see Section
<a href="#sec:Path-Control-Mode">Path Control</a>) the machine will stop exactly at the end of
the previous programmed move, as though it was in exact path mode.</p>
</div>
</div>
<div class="sect3">
<h4 id="units">Units </h4>
<div class="paragraph">
<p>Units used for distances along the X, Y, and Z axes may be measured in
millimeters or inches. Units for all other quantities involved in
machine control cannot be changed. Different quantities use different
specific units. Spindle speed is measured in revolutions per minute.
The positions of rotational axes are measured in degrees. Feed rates
are expressed in current length units per minute, or degrees per
minute, or length units per spindle revolution, as described in Section
<a href="#sec:G93-G94-G95-Mode">G93 G94 G95</a>.</p>
</div>
</div>
<div class="sect3">
<h4 id="current-position">Current Position</h4>
<div class="paragraph">
<p>The controlled point is always at some location called the 'current
position', and the controller always knows where that is. The numbers
representing the current position must be adjusted in the absence of
any axis motion if any of several events take place:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Length units are changed.</p>
</li>
<li>
<p>Tool length offset is changed.</p>
</li>
<li>
<p>Coordinate system offsets are changed.</p>
</li>
</ol>
</div>
</div>
<div class="sect3">
<h4 id="sub:Selected-Plane">Selected Plane</h4>
<div class="paragraph">
<p>There is always a 'selected plane', which must be the XY-plane, the
YZ-plane, or the XZ-plane of the machining center. The Z-axis is, of
course, perpendicular to the XY-plane, the X-axis to the YZ-plane, and
the Y-axis to the XZ-plane.</p>
</div>
</div>
<div class="sect3">
<h4 id="tool-carousel">Tool Carousel</h4>
<div class="paragraph">
<p>Zero or one tool is assigned to each slot in the tool carousel.</p>
</div>
</div>
<div class="sect3">
<h4 id="tool-change">Tool Change</h4>
<div class="paragraph">
<p>A machining center may be commanded to change tools.</p>
</div>
</div>
<div class="sect3">
<h4 id="pallet-shuttle">Pallet Shuttle</h4>
<div class="paragraph">
<p>The two pallets may be exchanged by command.</p>
</div>
</div>
<div class="sect3">
<h4 id="sec:Path-Control-Mode">Path Control Mode</h4>
<div class="paragraph">
<p></p>
</div>
<div class="paragraph">
<p>The machining center may be put into any one of three path control
modes: (1) exact stop mode, (2) exact path mode, or (3) continuous mode
with optional tolerance. In exact stop mode, the machine stops briefly
at the end of each programmed move. In exact path mode, the machine
follows the programmed path as exactly as possible, slowing or stopping
if necessary at sharp corners of the path. In continuous mode, sharp
corners of the path may be rounded slightly so that the feed rate may
be kept up (but by no more than the tolerance, if specified). See
Sections <a href="#sec:G61-G61_1">G61/G61.1</a> and <a href="#sec:G64">G64</a>.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="interpreter-interaction-with-switches">Interpreter Interaction with Switches</h3>
<div class="paragraph">
<p>The Interpreter interacts with several switches. This section
describes the interactions in more detail. In no case does the
Interpreter know what the setting of any of these switches is.</p>
</div>
<div class="sect3">
<h4 id="feed-and-speed-override-switches-a-id-feed-interaction-a">Feed and Speed Override Switches<a id="feed-interaction"></a></h4>
<div class="paragraph">
<p>The Interpreter will interpret RS274/NGC commands which enable 'M48'
or disable 'M49' the feed and speed override switches. For certain
moves, such as the
traverse out of the end of a thread during a threading cycle, the
switches are disabled automatically.</p>
</div>
<div class="paragraph">
<p>Machinekit reacts to the speed and feed override settings when these
switches are enabled.</p>
</div>
<div class="paragraph">
<p>See the <a href="#sec:M48-M49-Override">M48 M49 Override</a> section for more
information.</p>
</div>
</div>
<div class="sect3">
<h4 id="sub:Block-Delete-Switch-Interaction">Block Delete Switch</h4>
<div class="paragraph">
<p></p>
</div>
<div class="paragraph">
<p>If the block delete switch is on, lines of G code which start
with a slash (the block delete character) are not interpreted. If the
switch is off, such lines are interpreted. Normally the block delete
switch should be set before starting the NGC program.</p>
</div>
</div>
<div class="sect3">
<h4 id="sub:Optional-Program-Stop-Interaction">Optional Program Stop Switch</h4>
<div class="paragraph">
<p></p>
</div>
<div class="paragraph">
<p>If this switch is on and an M1 code is encountered, program execution
is paused.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="sub:Tool-Table">Tool Table</h3>
<div class="paragraph">
<p>A tool table is required to use the Interpreter. The file tells which
tools are in which tool changer slots and what the size and type of
each tool is. The name of the tool table is defined in the ini file:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>[EMCIO]

# tool table file
TOOL_TABLE = tooltable.tbl</pre>
</div>
</div>
<div class="paragraph">
<p>The default filename probably looks something like the above, but
you may prefer to give your machine its own tool table, using the
same name as your ini file, but with a tbl extension:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>TOOL_TABLE = acme_300.tbl</pre>
</div>
</div>
<div class="paragraph">
<p>or</p>
</div>
<div class="listingblock">
<div class="content">
<pre>TOOL_TABLE = EMC-AXIS-SIM.tbl</pre>
</div>
</div>
<div class="paragraph">
<p>For more information on the specifics of the tool table format,
see the <a href="#sec:tool-table">Tool Table Format</a> Section.</p>
</div>
</div>
<div class="sect2">
<h3 id="sec:Parameters">Parameters</h3>
<div class="paragraph">
<p></p>
</div>
<div class="paragraph">
<p>In the RS274/NGC language view, a machining center maintains an array
of numerical parameters defined by a system definition
(RS274NGC_MAX_PARAMETERS). Many of them have specific uses especially
in defining coordinate systems. The number of numerical parameters can
increase as development adds support for new parameters. The parameter
array persists over time, even if the machining center is powered down.
Machinekit uses a parameter file to ensure persistence and gives the
Interpreter the responsibility for maintaining the file. The
Interpreter reads the file when it starts up, and writes the file when
it exits.</p>
</div>
<div class="paragraph">
<p>All parameters are available for use in G code programs.</p>
</div>
<div class="paragraph">
<p>The format of a parameter file is shown in the following table.
The file consists of any number of
header lines, followed by one blank line, followed by any number of
lines of data. The Interpreter skips over the header lines. It is
important that there be exactly one blank line (with no spaces or tabs,
even) before the data. The header line shown in the following table
describes the data columns, so it is
suggested (but not required) that that line always be included in the
header.</p>
</div>
<div class="paragraph">
<p>The Interpreter reads only the first two columns of the table. The
third column, 'Comment', is not read by the Interpreter.</p>
</div>
<div class="paragraph">
<p>Each line of the file contains the index number of a parameter in the
first column and the value to which that parameter should be set in the
second column. The value is represented as a double-precision floating
point number inside the Interpreter, but a decimal point is not
required in the file. All of the parameters shown in the following table
are required parameters and must be
included in any parameter file, except that any parameter representing
a rotational axis value for an unused axis may be omitted. An error
will be signaled if any required parameter is missing. A parameter
file may include any other parameter, as long as its number is in the
range 1 to 5400. The parameter numbers must be arranged in ascending
order. An error will be signaled if not. Any parameter included in the
file read by the Interpreter will be included in the file it writes as
it exits. The original file is saved as a backup file when the new file
is written. Comments are not preserved when the file is written.</p>
</div>
<table class="tableblock frame-all grid-all" style="width: 75%;">
<caption class="title">Table 3. Parameter File Format<a id="cap:Parameter-File-Format"></a></caption>
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-center valign-top">Parameter Number</th>
<th class="tableblock halign-center valign-top">Parameter Value</th>
<th class="tableblock halign-left valign-top">Comment</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">5161</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">0.0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">G28 Home X</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">5162</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">0.0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">G28 Home Y</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>See the <a href="#sec:parameters">Parameters</a> section for more information.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="coordinate-system">Coordinate System</h2>
<div class="sectionbody">
<div class="paragraph">
<p><a id="cha:coordinate-system"></a> </p>
</div>
<div class="sect2">
<h3 id="introduction-6">Introduction</h3>
<div class="paragraph">
<p>You have seen how handy a tool length offset can be. Having this
allows the programmer to ignore the actual tool length when writing a
part program. In the same way, it is really nice to be able to find a
prominent part of a casting or block of material and work a program
from that point rather than having to take account of the location at
which the casting or block will be held during the machining.</p>
</div>
<div class="paragraph">
<p>This chapter introduces you to offsets as they are used by the Machinekit.
These include;</p>
</div>
<div class="ulist">
<ul>
<li>
<p>machine coordinates (G53)</p>
</li>
<li>
<p>nine fixture offsets (G54-G59.3)</p>
</li>
<li>
<p>global offsets (G92)</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="the-machine-position-command-g53">The Machine Position Command (G53)</h3>
<div class="paragraph">
<p>Regardless of any offsets that may be in effect, putting a G53 in a
block of code tells the interpreter to go to the real or absolute axis
positions commanded in the block. For example</p>
</div>
<div class="listingblock">
<div class="content">
<pre>G53 G0 X0 Y0 Z0</pre>
</div>
</div>
<div class="paragraph">
<p>will get you to the actual position where these three axes are zero.
You might use a command like this if you have a favorite position for
tool changes or if your machine has an auto tool changer. You might
also use this command to get the tool out of the way so that you can
rotate or change a part in a vice.</p>
</div>
<div class="paragraph">
<p>G53 is not a modal command. It must be used on each line where motion
based upon absolute machine position is desired.</p>
</div>
</div>
<div class="sect2">
<h3 id="fixture-offsets-g54-g59-3">Fixture Offsets (G54-G59.3)</h3>
<div class="imageblock">
<div class="content">
<img src="../gcode/images/offsets.png" alt="offsets">
</div>
</div>
<div class="paragraph">
<div class="title">Fixture Offsets<a id="cap:Fixture-Offsets"></a></div>
<p>Work or fixture offset are used to make a part home that is different
from the absolute, machine coordinate system. This allows the part
programmer to set up home positions for multiple parts. A typical
operation that uses fixture offsets would be to mill multiple copies of
parts on multiple part holders or vises.</p>
</div>
<div class="paragraph">
<p>The values for offsets are stored in the VAR file that is requested by
the INI file during the startup of an Machinekit. In our example below we&#8217;ll
use G55. The values for each axis for G55 are stored as
variable numbers.</p>
</div>
<table class="tableblock frame-all grid-all" style="width: 40%;">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-center valign-top">Variable</th>
<th class="tableblock halign-center valign-top">Value</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">5241</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">0.000000</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">5242</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">0.000000</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">5243</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">0.000000</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">5244</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">0.000000</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">5245</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">0.000000</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">5246</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">0.000000</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>In the VAR file scheme, the first variable number stores the X offset,
the second the Y offset and so on for all six axes. There are numbered
sets like this for each of the fixture offsets.</p>
</div>
<div class="paragraph">
<p>Each of the graphical interfaces has a way to set values for these
offsets. You can also set these values by editing the VAR file itself
and then restarting Machinekit so that the Machinekit reads the new values however
this is not the recommended way. G10, G92, G28.1, etc are better ways
to affect variables. For our example let&#8217;s directly edit the file so
that G55 takes on the following values.</p>
</div>
<table class="tableblock frame-all grid-all" style="width: 40%;">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-center valign-top">Variable</th>
<th class="tableblock halign-center valign-top">Value</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">5241</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">2.000000</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">5242</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">1.000000</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">5243</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">-2.000000</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">5244</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">0.000000</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">5245</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">0.000000</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">5246</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">0.000000</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>You should read this as moving the zero positions of G55 to X = 2
units, Y= 1 unit, and Z = -2 units away from the absolute zero
position.</p>
</div>
<div class="paragraph">
<p>Once there are values assigned, a call to G55 in a program block would
shift the zero reference by the values stored. The following line would
then move each axis to the new zero position. Unlike G53, G54 through
G59.3 are modal commands. They will act on all blocks of code after one
of them has been set. The program that might be run using
fixture offsets would require only a single coordinate
reference for each of the locations and all of the work to be done
there. The following code is offered as an example of making a square
using the G55 offsets that we set above.</p>
</div>
<div class="listingblock">
<div class="content">
<pre>G55 G0 X0 Y0 Z0
G1 F2 Z-0.2000
X1
Y1
X0
Y0
G0 Z0
G54 X0 Y0 Z0
M2</pre>
</div>
</div>
<div class="paragraph">
<p>But, you say, why is there a G54 in there near the end. Many
programmers leave the G54 coordinate system with all zero values so
that there is a modal code for the absolute machine based axis
positions. This program assumes that we have done that and use the
ending command as a command to machine zero. It would have been
possible to use g53 and arrive at the same place but that command would
not have been modal and any commands issued after it would have
returned to using the G55 offsets because that coordinate system would
still be in effect.</p>
</div>
<div class="listingblock">
<div class="content">
<pre>G54	use preset work coordinate system 1
G55	use preset work coordinate system 2
G56	use preset work coordinate system 3
G57	use preset work coordinate system 4
G58	use preset work coordinate system 5
G59	use preset work coordinate system 6
G59.1	use preset work coordinate system 7
G59.2	use preset work coordinate system 8
G59.3	use preset work coordinate system 9</pre>
</div>
</div>
<div class="sect3">
<h4 id="default-coordinate-system">Default coordinate system</h4>
<div class="paragraph">
<p>One other variable in the VAR file becomes important when we think
about offset systems. This variable is named 5220. In the default files
its value is set to 1.00000. This means that when the Machinekit starts up it
should use the first coordinate system as its default. If you set this
to 9.00000 it would use the ninth offset system as its default for
start up and reset. Any value other than an integer (decimal really)
between 1 and 9, or a missing 5220 variable will cause the Machinekit to
revert to the default value of 1.00000 on start up.</p>
</div>
</div>
<div class="sect3">
<h4 id="setting-coordinate-fixture-offsets-from-g-code">Setting coordinate (fixture) offsets from G code</h4>
<div class="paragraph">
<p>The G10 L2x command can be used to set coordinate (fixture) offsets:
  (these are just quick summaries, see the G code section for full details)</p>
</div>
<div class="ulist">
<ul>
<li>
<p>'G10 L2  P(fixture 1-9)' - Set offset(s) to a value. Current position irrelevant.
(see <a href="#sec:G10-L2_">G10 L2</a> for details)</p>
</li>
<li>
<p>'G10 L20 P(fixture 1-9)' - Set offset(s) so current position becomes a value.
(see <a href="#sec:G10-L20">G10 L20</a> for details)</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect2">
<h3 id="g92-offsets-a-id-sec-g92-offsets-a">G92 Offsets<a id="sec:G92-Offsets"></a></h3>
<div class="sect3">
<h4 id="the-g92-commands">The G92 commands</h4>
<div class="paragraph">
<p>This set of commands include;</p>
</div>
<div class="ulist">
<ul>
<li>
<p>'G92' - This command, when used with axis names, sets values to offset
variables.</p>
</li>
<li>
<p>'G92.1' - This command sets zero values to the G92 variables.</p>
</li>
<li>
<p>'G92.2' - This command suspends but does not zero out the G92
variables.</p>
</li>
<li>
<p>'G92.3' - This command applies offset values that have been suspended.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>When the commands are used as described above, they will work pretty
much as you would expect.</p>
</div>
<div class="paragraph">
<p>To make the  current point, what ever it is,
have the coordinates X0, Y0, and Z0 you would use G92 X0 Y0 Z0.
G92 <strong>does not</strong> work from absolute machine coordinates.
It works from <strong>current location</strong>.</p>
</div>
<div class="paragraph">
<p>G92 also works from current location as modified by any other offsets
that are in effect when the G92 command is invoked. While testing for
differences between work offsets and actual offsets it was found that a
G54 offset could cancel out a G92 and thus give the appearance that no
offsets were in effect. However, the G92 was still in effect for all
coordinates and did produce expected work offsets for the other
coordinate systems.</p>
</div>
<div class="paragraph">
<p>It is a good practice to clear the G92 offsets at the end of their
use with G92.1 or G92.2. When starting up Machinekit if any offsets are
in the G92 variables they will be applied when an axis is homed.</p>
</div>
</div>
<div class="sect3">
<h4 id="setting-g92-values">Setting G92 values</h4>
<div class="paragraph">
<p>There are at least two ways to set G92 values.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>right mouse click on position displays of tkMachinekit will popup a window
into which you can type a value.</p>
</li>
<li>
<p>the G92 command</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Both of these work from the current location of the axis to which the
offset is to be applied.</p>
</div>
<div class="paragraph">
<p>Issuing 'G92 X Y Z A B C U V W' does in fact set values to the G92 variables
such that each axis takes on the value associated with its name.
These values are assigned to the current position of the machine axis.
These results satisfy paragraphs one and two of the NIST document.</p>
</div>
<div class="paragraph">
<p>G92 commands work from current axis location and add and subtract
correctly to give the current axis position the value assigned by the
G92 command. The effects work even though previous offsets are in.</p>
</div>
<div class="paragraph">
<p>So if the X axis is currently showing 2.0000 as its position a 'G92 X0'
will set an offset of -2.0000 so that the current location of X becomes
zero. A 'G92 X2' will set an offset of 0.0000 and the displayed position
will not change. A 'G92 X5.0000' will set an offset of 3.0000 so that the
current displayed position becomes 5.0000.</p>
</div>
</div>
<div class="sect3">
<h4 id="g92-cautions">G92 Cautions</h4>
<div class="paragraph">
<p>Sometimes the values of a G92 offset will remain in the VAR file. This
can happen when a file is aborted during processing that has G92
offsets in effect. When this happens reset or a startup will cause them
to become active again.</p>
</div>
<div class="paragraph">
<p>The variables are named:</p>
</div>
<table class="tableblock frame-all grid-all" style="width: 40%;">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-center valign-top">Variable</th>
<th class="tableblock halign-center valign-top">Value</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">5211</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">0.000000</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">5212</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">0.000000</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">5213</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">0.000000</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">5214</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">0.000000</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">5215</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">0.000000</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">5216</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">0.000000</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>where 5211 is the X axis offset and so on. If you are seeing
unexpected positions as the result of a commanded move, as a result of
storing an offset in a previous program and not clearing them at the end
then issue a G92.1 in the MDI window to clear the stored offsets.</p>
</div>
<div class="paragraph">
<p>If G92 values exist in the VAR file when Machinekit starts up, the G92
values in the var file will be applied to the values of the current
location of each axis. If this is home position and home position is
set as machine zero everything will be correct. Once home has been
established using real machine switches, or by moving each axis to a known
home position and issuing an axis home command, any G92 offsets will be
applied. If you have a G92 X1 in effect when you home the X axis the
DRO will read 'X: 1.000' instead of the expected 'X: 0.000' because the
G92 was applied to the machine origin. If you issue a G92.1 and the DRO
now reads all zeros then you had a G92 offset in effect when you last
ran Machinekit.</p>
</div>
<div class="paragraph">
<p>Unless your intention is to use the same G92 offsets in the next
program, the best practice is to issue a G92.1 at the end of any G Code
files where you use G92 offsets.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="sample-program-using-offsets">Sample Program Using Offsets</h3>
<div class="paragraph">
<p>This sample engraving project mills a set of four .1 radius circles in
roughly a star shape around a center circle. We can setup the
individual circle pattern like this.</p>
</div>
<div class="listingblock">
<div class="content">
<pre>G10 L2 P1 X0 Y0 Z0 (ensure that G54 is set to machine zero)
G0 X-0.1 Y0 Z0
G1 F1 Z-0.25
G3 X-0.1 Y0 I0.1 J0
G0 Z0
M2</pre>
</div>
</div>
<div class="paragraph">
<p>We can issue a set of commands to create offsets for the four other
circles like this.</p>
</div>
<div class="listingblock">
<div class="content">
<pre>G10 L2 P2 X0.5 (offsets G55 X value by 0.5 inch)
G10 L2 P3 X-0.5 (offsets G56 X value by -0.5 inch)
G10 L2 P4 Y0.5 (offsets G57 Y value by 0.5 inch)
G10 L2 P5 Y-0.5 (offsets G58 Y value by -0.5 inch)</pre>
</div>
</div>
<div class="paragraph">
<p>We put these together in the following program:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>(a program for milling five small circles in a diamond shape)

G10 L2 P1 X0 Y0 Z0 (ensure that G54 is machine zero)
G10 L2 P2 X0.5 (offsets G55 X value by 0.5 inch)
G10 L2 P3 X-0.5 (offsets G56 X value by -0.5 inch)
G10 L2 P4 Y0.5 (offsets G57 Y value by 0.5 inch)
G10 L2 P5 Y-0.5 (offsets G58 Y value by -0.5 inch)

G54 G0 X-0.1 Y0 Z0 (center circle)
G1 F1 Z-0.25
G3 X-0.1 Y0 I0.1 J0
G0 Z0

G55 G0 X-0.1 Y0 Z0 (first offset circle)
G1 F1 Z-0.25
G3 X-0.1 Y0 I0.1 J0
G0 Z0

G56 G0 X-0.1 Y0 Z0 (second offset circle)
G1 F1 Z-0.25
G3 X-0.1 Y0 I0.1 J0
G0 Z0

G57 G0 X-0.1 Y0 Z0 (third offset circle)
G1 F1 Z-0.25
G3 X-0.1 Y0 I0.1 J0
G0 Z0

G58 G0 X-0.1 Y0 Z0 (fourth offset circle)
G1 F1 Z-0.25
G3 X-0.1 Y0 I0.1 J0
G54 G0 X0 Y0 Z0

M2</pre>
</div>
</div>
<div class="paragraph">
<p>Now comes the time when we might apply a set of G92 offsets to this
program. You&#8217;ll see that it is running in each case at Z0. If the mill
were at the zero position, a G92 Z1.0000 issued at the head of the
program would shift everything down an inch. You might also shift the
whole pattern around in the XY plane by adding some X and Y offsets
with G92. If you do this you should add a G92.1 command just before the
m2 that ends the program. If you do not, other programs that you might
run after this one will also use that G92 offset. Furthermore it would
save the G92 values when you shut down the Machinekit and they will be
recalled when you start up again.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="tool-compensation">Tool Compensation</h2>
<div class="sectionbody">
<div class="paragraph">
<p><a id="cha:tool-compensation"></a> </p>
</div>
<div class="sect2">
<h3 id="tool-length-offsets">Tool Length Offsets</h3>
<div class="sect3">
<h4 id="touch-off">Touch Off</h4>
<div class="paragraph">
<p>Using the Touch Off Screen in the AXIS interface you can update the
tool table automatically.</p>
</div>
<div class="paragraph">
<p>Typical steps for updating the tool table:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>After homing load a tool with 'Tn M6' where 'n' is the tool number.</p>
</li>
<li>
<p>Move tool to an established point using a gauge or take a test cut and
measure.</p>
</li>
<li>
<p>Click the "Touch Off" button in the Manual Control tab (or hit the
End button on your keyboard).</p>
</li>
<li>
<p>Select 'Tool Table' in the Coordinate System drop down box.</p>
</li>
<li>
<p>Enter the gauge or measured dimension and select OK.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The Tool Table will be changed with the correct Z length to make the
DRO display the correct Z position and a G43 command will be issued so
the new tool Z length will be in effect. Tool table touch off is only
available when a tool is loaded with 'Tn M6'.</p>
</div>
<div class="imageblock" style="text-align: center">
<div class="content">
<img src="../gcode/images/ToolTable-TouchOff.png" alt="ToolTable TouchOff">
</div>
<div class="title">Figure 42. Touch Off Tool Table<a id="cap:Touch-Off-Tool"></a></div>
</div>
</div>
<div class="sect3">
<h4 id="using-g10-l1-l10-l11">Using G10 L1/L10/L11</h4>
<div class="paragraph">
<p>The G10 L1/L10/L11 commands can be used to set tool table offsets:
  (these are just quick summaries, see the G code section for full details)</p>
</div>
<div class="ulist">
<ul>
<li>
<p>'G10 L1  Pn' - Set offset(s) to a value. Current position irrelevant.
(see <a href="#sec:G10-L1_">G10 L1</a> for details)</p>
</li>
<li>
<p>'G10 L10 Pn' - Set offset(s) so current position w/ fixture 1-8 becomes a value.
(see <a href="#sec:G10-L10">G10 L10</a> for details)</p>
</li>
<li>
<p>'G10 L11 Pn' - Set offset(s) so current position w/ fixture 9 becomes a value.
(see <a href="#sec:G10-L11">G10 L11</a> for details)</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect2">
<h3 id="sec:tool-table">Tool Table</h3>
<div class="paragraph">
<p>The 'Tool Table' is a text file that contains information about each
tool. The file is located in the same directory as your configuration
and is called 'tool.tbl'. The tools might be in a tool changer or just
changed manually. The file can be edited with a text editor or be
updated using G10 L1. See the <a href="#sec:lathe-tool-table">Lathe Tool Table</a>
Section for an example of the lathe tool table format.
The maximum number of entries in the tool table is 56.
The maximum tool and pocket number is 99999.</p>
</div>
<div class="paragraph">
<p>The <a href="#cha:tooledit-gui">Tool Editor</a> or a text editor can be used to edit the
tool table. If you use a text editor make sure you reload the tool table in
the GUI.</p>
</div>
<div class="sect3">
<h4 id="tool-table-format">Tool Table Format</h4>
<div class="paragraph">
<p></p>
</div>
<table class="tableblock frame-all grid-all spread">
<caption class="title">Table 4. Tool Table Format</caption>
<colgroup>
<col style="width: 6.25%;">
<col style="width: 6.25%;">
<col style="width: 6.25%;">
<col style="width: 6.25%;">
<col style="width: 6.25%;">
<col style="width: 6.25%;">
<col style="width: 6.25%;">
<col style="width: 6.25%;">
<col style="width: 6.25%;">
<col style="width: 6.25%;">
<col style="width: 6.25%;">
<col style="width: 6.25%;">
<col style="width: 6.25%;">
<col style="width: 6.25%;">
<col style="width: 6.25%;">
<col style="width: 6.25%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">T#</th>
<th class="tableblock halign-left valign-top">P#</th>
<th class="tableblock halign-left valign-top">X</th>
<th class="tableblock halign-left valign-top">Y</th>
<th class="tableblock halign-left valign-top">Z</th>
<th class="tableblock halign-left valign-top">A</th>
<th class="tableblock halign-left valign-top">B</th>
<th class="tableblock halign-left valign-top">C</th>
<th class="tableblock halign-left valign-top">U</th>
<th class="tableblock halign-left valign-top">V</th>
<th class="tableblock halign-left valign-top">W</th>
<th class="tableblock halign-left valign-top">Dia</th>
<th class="tableblock halign-left valign-top">FA</th>
<th class="tableblock halign-left valign-top">BA</th>
<th class="tableblock halign-left valign-top">Ori</th>
<th class="tableblock halign-left valign-top">Rem</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">;</p></td>
<td class="tableblock halign-center valign-top" colspan="15"><p class="tableblock">(no data after opening semicolon)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">T1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">P17</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">X0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Y0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Z0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">A0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">B0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">C0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">U0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">V0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">W0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">D0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">I0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">J0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Q0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">;rem</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">T2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">P5</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">X0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Y0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Z0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">A0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">B0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">C0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">U0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">V0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">W0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">D0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">I0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">J0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Q0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">;rem</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">T3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">P12</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">X0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Y0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Z0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">A0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">B0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">C0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">U0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">V0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">W0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">D0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">I0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">J0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Q0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">;rem</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>In general, the new tool table line format is:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>; - opening semicolon, no data</p>
</li>
<li>
<p>T - tool number, 0-99999 (tool numbers must be unique)</p>
</li>
<li>
<p>P - pocket number, 1-99999 (pocket numbers must be unique)</p>
</li>
<li>
<p>X..W - tool offset on specified axis - floating-point</p>
</li>
<li>
<p>D - tool diameter - floating-point, absolute value</p>
</li>
<li>
<p>I - front angle (lathe only) - floating-point</p>
</li>
<li>
<p>J - back angle (lathe only) - floating-point</p>
</li>
<li>
<p>Q - tool orientation (lathe only) - integer, 0-9</p>
</li>
<li>
<p>; - beginning of comment or remark - text</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The file consists of one opening semicolon on the first line,
followed by up to a maximum of 56 tool entries.
<sup class="footnote">[<a id="_footnoteref_5" class="footnote" href="#_footnote_5" title="View footnote.">5</a>]</sup></p>
</div>
<div class="paragraph">
<p>Earlier versions of Machinekit had two different tool table formats for
mills and lathes, but since the 2.4.x release, one tool table format
is used for all machines. Just ignore the parts of the tool table
that don&#8217;t pertain to your machine, or which you don&#8217;t need to use.</p>
</div>
<div class="paragraph">
<p>Each line of the tool table file after the opening semicolon contains
the data for one tool. One line may contain as many as 16 entries,
but will likely contain much fewer.</p>
</div>
<div class="paragraph">
<p>The units used for the length, diameter, etc., are in machine units.</p>
</div>
<div class="paragraph">
<p>You will probably want to keep the tool entries in ascending order,
especially if you are going to be using a randomizing tool changer.
Although the tool table does allow for tool numbers in any order.</p>
</div>
<div class="paragraph">
<p>Each line may have up to 16 entries. The first two entries are required.
The last entry (a remark or comment, preceded by a semicolon) is
optional. It makes reading easier if the entries are arranged in
columns, as shown in the table, but the only format requirement is
that there be at least one space or tab after each of the entries on
a line and a newline character at the end of each entry.</p>
</div>
<div class="paragraph">
<p>The meanings of the entries and the type of data to be put in each are
as follows.</p>
</div>
<div class="paragraph">
<div class="title">Tool Number (required)</div>
<p>The 'T' column contains the number (unsigned integer) which
represents a code number for the tool. The user may use any code for
any tool, as long as the codes are unsigned integers.</p>
</div>
<div class="paragraph">
<div class="title">Pocket Number (required)</div>
<p>The 'P' column contains the number (unsigned integer) which
represents the pocket number (slot number) of the tool changer slot
where the tool can be found. The entries in this column must all be
different.</p>
</div>
<div class="paragraph">
<p>The pocket numbers will typically start at 1 and go up to the highest
available pocket on your tool changer. But not all tool changers follow
this pattern. Your pocket numbers will be determined by the numbers
that your tool changer uses to refer to the pockets. So all this is to
say that the pocket numbers you use will be determined by the numbering
scheme used in your tool changer, and the pocket numbers you use must
make sense on your machine.</p>
</div>
<div class="paragraph">
<div class="title">Data Offset Numbers (optional)</div>
<p>The 'Data Offset' columns (XYZABCUVW) contain real numbers which
represent tool offsets in each axis. This number will be used if tool
length offsets are being used and this tool is selected.
These numbers can be positive, zero, or negative, and are in fact
completely optional. Although you will probably want to make at least
one entry here, otherwise there would be little point in making an
entry in the tool table to begin with.</p>
</div>
<div class="paragraph">
<p>In a typical mill, you probably want an entry for Z (tool length
offset). In a typical lathe, you probably want an entry for X
(X tool offset) and Z (Z tool offset). In a typical mill using
cutter diameter compensation (cutter comp), you probably also want
to add an entry for D (cutter diameter). In a typical lathe using
tool nose diameter compensation (tool comp), you probably also want
to add an entry for D (tool nose diameter).</p>
</div>
<div class="paragraph">
<p>A lathe also requires some additional information to describe the
shape and orientation of the tool. So you probably want to have entries
for I (tool front angle) and J (tool back angle).
You probably also want an entry for Q (tool orientation).</p>
</div>
<div class="paragraph">
<p>A complete description of the lathe entries can be found in the lathe
section of the user manual <a href="#cha:lathe-user-information">here</a>.</p>
</div>
<div class="paragraph">
<p>The 'Diameter' column contains a real number. This number is used only
if cutter compensation is turned on using this tool. If the
programmed path during compensation is the edge of the material being
cut, this should be a positive real number representing the measured
diameter of the tool. If the programmed path during compensation is the
path of a tool whose diameter is nominal, this should be a small number
(positive or negative, but near zero) representing only the difference
between the measured diameter of the tool and the nominal diameter.
If cutter compensation is not used with a tool, it does not
matter what number is in this column.</p>
</div>
<div class="paragraph">
<p>The 'Comment' column may optionally be used to describe the tool. Any
type of description is OK. This column is for the benefit of human
readers only. The comment must be preceded by a semicolon.</p>
</div>
</div>
<div class="sect3">
<h4 id="a-id-sec-tool-changers-a-tool-changers"><a id="sec:Tool-Changers"></a> Tool Changers</h4>
<div class="paragraph">
<p>Machinekit supports three types of tool changers: 'manual', 'random location'
and 'fixed location'. Information about configuring an Machinekit tool changer
is in the Integrator Manual.</p>
</div>
<div class="paragraph">
<div class="title">Manual Tool Changer</div>
<p>Manual tool changer (you change the tool by hand) is treated like a
fixed location tool changer and the P number is ignored. Using the
manual tool changer only makes sense if you have tool holders that
remain with the tool (Cat, NMTB, Kwik Switch etc.) when changed thus
preserving the location of the tool to the spindle. Machines with R-8
or router collet type tool holders do not preserve the location of the
tool and the manual tool changer should not be used.</p>
</div>
<div class="paragraph">
<div class="title">Fixed Location Tool Changers</div>
<p>Fixed location tool changers always return the tools to a
fixed position in the tool changer. This would also include
designs like lathe turrets. When Machinekit is configured for a fixed
location tool changer the 'P' number is ignored (but read, preserved
and rewritten) by Machinekit, so you can use P for any bookkeeping number you
want.</p>
</div>
<div class="paragraph">
<div class="title">Random Location Tool Changers</div>
<p>Random location tool changers swap the tool in the spindle with the
one in the changer. With this type of tool changer the tool will
always be in a different pocket after a tool change. When a tool is
changed Machinekit rewrites the pocket number to keep track of where the tools
are. T can be any number but P must be a number that makes sense for
the machine.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="sec:cutter-compensation">Cutter Compensation</h3>
<div class="paragraph">
<p>Cutter Compensation allows the programmer to program the tool
path without knowing the exact tool diameter. The only caveat is the
programmer must program the lead in move to be at least as long as the
largest tool radius that might be used.</p>
</div>
<div class="paragraph">
<p>There are two possible paths the cutter can take while cutter
compensation is on to the left or right side of a line when facing the
direction of cutter motion from behind the cutter. To visualize this
imagine you were standing on the part walking behind the tool as it
progresses across the part. G41 is your left side of the line and G42
is the right side of the line.</p>
</div>
<div class="paragraph">
<p>The end point of each move depends on the next move. If the next move
creates an outside corner the move will be to the end point of the
compensated cut line. If the next move creates in an inside corner the
move will stop short so to not gouge the part. The following figure
shows how the compensated move will stop at different points depending
on the next move.</p>
</div>
<div class="imageblock" style="text-align: center">
<div class="content">
<img src="../gcode/images/comp-path.png" alt="comp path">
</div>
<div class="title">Figure 43. Compensation End Point<a id="cap:Compensation-End-Point"></a></div>
</div>
<div class="sect3">
<h4 id="overview-2">Overview</h4>
<div class="paragraph">
<div class="title">Tool Table</div>
<p>Cutter compensation uses the data from the tool table to
determine the offset needed. The data can be set at run time with G10
L1.</p>
</div>
<div class="paragraph">
<div class="title">Programming Entry Moves</div>
<p>Any move that is long enough to perform the compensation will work as
the entry move. The minimum length is the cutter radius. This can be a
rapid move above the work piece. If several rapid moves are issued
after a G41/42 only the last one will move the tool to the compensated
position.</p>
</div>
<div class="paragraph">
<p>In the following figure you can see that the entry move is compensated
to the right of the line. This puts the center of the tool to the right
of X0 in this case. If you were to program a profile and the end is at
X0 the resulting profile would leave a bump due to the offset of the
entry move.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../gcode/images/comp02.png" alt="comp02">
</div>
<div class="title">Figure 44. Entry Move<a id="cap:Entry-Move"></a></div>
</div>
<div class="paragraph">
<div class="title">Z Motion</div>
<p>Z axis motion may take place while the contour is being followed in
the XY plane. Portions of the contour may be skipped by retracting the
Z axis above the part and by extending the Z-axis at the next start
point.</p>
</div>
<div class="paragraph">
<div class="title">Rapid Moves</div>
<p>Rapid moves may be programed while compensation is turned on.</p>
</div>
<div class="ulist">
<div class="title">Good Practices</div>
<ul>
<li>
<p>Start a program with G40 to make sure compensation is off.</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="examples">Examples</h4>
<div class="imageblock">
<div class="content">
<img src="../gcode/images/outside-comp.png" alt="outside comp">
</div>
<div class="title">Figure 45. Outside Profile<a id="cap:Outside-Profile"></a></div>
</div>
<div class="imageblock">
<div class="content">
<img src="../gcode/images/inside-comp.png" alt="inside comp">
</div>
<div class="title">Figure 46. Inside Profile<a id="cap:Inside-Profile"></a></div>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="g-code-overview">G Code Overview</h2>
<div class="sectionbody">
<div class="paragraph">
<p><a id="cha:g-code-overview"></a> </p>
</div>
<div class="sect2">
<h3 id="overview-3">Overview</h3>
<div class="paragraph">
<p>The Machinekit G Code language is based on the RS274/NGC language. The G
Code language is based on lines of code. Each line (also called a
'block') may include commands to do several different things. Lines of
code may be collected in a file to make a program.</p>
</div>
<div class="paragraph">
<p>A typical line of code consists of an optional line number at the
beginning followed by one or more 'words'. A word consists of a letter
followed by a number (or something that evaluates to a number). A word
may either give a command or provide an argument to a command. For
example, 'G1 X3' is a valid line of code with two words. 'G1' is a
command meaning 'move in a straight line at the programmed feed
rate to the programmed end point', and 'X3' provides an argument
value (the value of X should be 3 at the end of the move).
Most Machinekit G Code commands start with either G or M (for
General and Miscellaneous). The words for these commands are called 'G
codes' and 'M codes.'</p>
</div>
<div class="paragraph">
<p>The Machinekit language has no indicator for the start of a program. The
Interpreter, however, deals with files. A single program may be in a
single file, or a program may be spread across several files. A file
may demarcated with percents in the following way. The first non-blank
line of a file may contain nothing but a percent sign, '%', possibly
surrounded by white space, and later in the file (normally at the end
of the file) there may be a similar line. Demarcating a file with
percents is optional if the file has an 'M2' or 'M30' in it, but is
required if not. An error will be signaled if a file
has a percent line at the beginning but not at the end. The useful
contents of a file demarcated by percents stop after the second percent
line. Anything after that is ignored.</p>
</div>
<div class="paragraph">
<p>The Machinekit G Code language has two commands ('M2' or 'M30'), either of
which ends a program. A program may end before the end of
a file. Lines of a file that occur after the end of a program are not
to be executed. The interpreter does not even read them.</p>
</div>
</div>
<div class="sect2">
<h3 id="format-of-a-line">Format of a line</h3>
<div class="paragraph">
<p>A permissible line of input code consists of the following, in order,
with the restriction that there is a maximum (currently 256) to the
number of characters allowed on a line.</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>an optional block delete character, which is a slash '/'.</p>
</li>
<li>
<p>an optional line number.</p>
</li>
<li>
<p>any number of words, parameter settings, and comments.</p>
</li>
<li>
<p>an end of line marker (carriage return or line feed or both).</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>Any input not explicitly allowed is illegal and will cause the
Interpreter to signal an error.</p>
</div>
<div class="paragraph">
<p>Spaces and tabs are allowed anywhere on a line of code and do not
change the meaning of the line, except inside comments. This makes some
strange-looking input legal. The line 'G0X +0. 12 34Y 7' is
equivalent to 'G0 x+0.1234 Y7', for example.</p>
</div>
<div class="paragraph">
<p>Blank lines are allowed in the input. They are to be ignored.</p>
</div>
<div class="paragraph">
<p>Input is case insensitive, except in comments, i.e., any letter
outside a comment may be in upper or lower case without changing the
meaning of a line.</p>
</div>
</div>
<div class="sect2">
<h3 id="block-delete-a-id-sub-block-delete-a">Block Delete <a id="sub:block-delete"></a> </h3>
<div class="paragraph">
<p>The optional block delete character the slash '/' when placed first on a line
can be used by some user interfaces to skip lines of code when needed. In Axis
the key combination Alt-m-/ toggles block delete on and off. When block delete
is on any lines starting with the slash '/' are skipped.</p>
</div>
</div>
<div class="sect2">
<h3 id="line-number">Line Number</h3>
<div class="paragraph">
<p></p>
</div>
<div class="paragraph">
<p>A line number is the letter N followed by an unsigned integer,
optionally followed by a period and another unsigned integer. For
example, <code>N1234</code> and <code>N56.78</code> are valid line numbers. They may be
repeated or used out of order, although normal practice is to avoid
such usage. Line numbers may also be skipped, and that is normal
practice. A line number is not required to be used, but must be in the
proper place if used.</p>
</div>
</div>
<div class="sect2">
<h3 id="word">Word</h3>
<div class="paragraph">
<p></p>
</div>
<div class="paragraph">
<p>A word is a letter other than N followed by a real value.</p>
</div>
<div class="paragraph">
<p>Words may begin with any of the letters shown in the following Table.
The table includes N for completeness, even
though, as defined above, line numbers are not words. Several letters
(I, J, K, L, P, R) may have different meanings in different contexts.
Letters which refer to axis names are not valid on a machine which does
not have the corresponding axis.</p>
</div>
<table class="tableblock frame-all grid-all" style="width: 75%;">
<caption class="title">Table 5. Words and their meanings<a id="cap:Words-and-their"></a></caption>
<colgroup>
<col style="width: 16.6666%;">
<col style="width: 83.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-center valign-top">Letter</th>
<th class="tableblock halign-left valign-top">Meaning</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">A</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">A axis of machine</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">B</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">B axis of machine</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">C</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">C axis of machine</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">D</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Tool radius compensation number</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">F</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Feed rate</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">G</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">General function (See table  <a href="#cap:Modal-Groups">Modal Groups</a>)</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">H</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Tool length offset index</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">I</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">X offset for arcs and G87 canned cycles</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">J</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Y offset for arcs and G87 canned cycles</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" rowspan="2"><p class="tableblock">K</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Z offset for arcs and G87 canned cycles.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Spindle-Motion Ratio for G33 synchronized movements.</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">L</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">generic parameter word for G10, M66 and others</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">M</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Miscellaneous function (See table  <a href="#cap:Modal-Groups">Modal Groups</a>)</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">N</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Line number</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top" rowspan="2"><p class="tableblock">P</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Dwell time in canned cycles and with G4.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Key used with G10.</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">Q</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Feed increment in G73, G83 canned cycles</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">R</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Arc radius or canned cycle plane</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">S</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Spindle speed</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">T</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Tool selection</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">U</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">U axis of machine</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">V</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">V axis of machine</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">W</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">W axis of machine</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">X</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">X axis of machine</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">Y</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Y axis of machine</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">Z</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Z axis of machine</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="sub:Number">Number</h3>
<div class="paragraph">
<p>The following rules are used for (explicit) numbers. In these rules a
digit is a single character between 0 and 9.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>A number consists of (1) an optional plus or minus sign, followed by
(2) zero to many digits, followed, possibly, by (3) one decimal point,
followed by (4) zero to many digits - provided that there is at least
one digit somewhere in the number.</p>
</li>
<li>
<p>There are two kinds of numbers: integers and decimals. An integer does
not have a decimal point in it; a decimal does.</p>
</li>
<li>
<p>Numbers may have any number of digits, subject to the limitation on
line length. Only about seventeen significant figures will be retained,
however (enough for all known applications).</p>
</li>
<li>
<p>A non-zero number with no sign as the first character is assumed to be
positive.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Notice that initial (before the decimal point and the first non-zero
digit) and trailing (after the decimal point and the last non-zero
digit) zeros are allowed but not required. A number written with
initial or trailing zeros will have the same value when it is read as
if the extra zeros were not there.</p>
</div>
<div class="paragraph">
<p>Numbers used for specific purposes in RS274/NGC are often restricted
to some finite set of values or some to some range of values. In many
uses, decimal numbers must be close to integers; this includes the
values of indexes (for parameters and carousel slot numbers, for
example), M codes, and G codes multiplied by ten. A decimal number
which is supposed be close to an integer is considered close enough if
it is within 0.0001 of an integer.</p>
</div>
</div>
<div class="sect2">
<h3 id="sec:parameters">Parameters</h3>
<div class="paragraph">
<p>(Variables)
</p>
</div>
<div class="paragraph">
<p>The RS274/NGC language supports 'parameters' - what in other
programming languages would be called 'variables'. There are several
types of parameter of different purpose and appearance, each described
in the following sections. The only value type supported by parameters
is floating-point; there are no string, boolean or integer types in
G-code like in other programming languages. However, logic expressions
can be formulated with <a href="#sec:Binary-Operators">boolean operators</a>
( 'AND', 'OR', 'XOR', and the comparison operators
'EQ','NE','GT','GE','LT','LE'), and the 'MOD', 'ROUND', 'FUP' and
'FIX' <a href="#cap:Functions">operators</a> support integer arithmetic.</p>
</div>
<div class="paragraph">
<p>Parameters differ in syntax, scope, behavior when not yet
initialized, mode, persistence and intended use.</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">Syntax</dt>
<dd>
<p>There are three kinds of syntactic appearance:</p>
<div class="ulist">
<ul>
<li>
<p>'numbered' -  #4711</p>
</li>
<li>
<p>'named local' -  #&lt;localvalue&gt;</p>
</li>
<li>
<p>'named global' - #&lt;_globalvalue&gt;</p>
</li>
</ul>
</div>
</dd>
<dt class="hdlist1">Scope</dt>
<dd>
<p>The scope of a parameter is either global, or local within a
subroutine. Subroutine parameters and local named variables have local
scope. Global named parameters and numbered parameters starting from
number 31 are global in scope. RS274/NGC uses 'lexical scoping' -
in a subroutine only the local variables defined therein, and any
global variables are visible. The local variables of a
calling procedure are not visible in a called procedure.</p>
</dd>
<dt class="hdlist1">Behavior of uninitialized parameters</dt>
<dd>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>unitialized global parameters, and unused subroutine parameters
return the value zero when used in an expression.</p>
</li>
<li>
<p>unitialized named parameters signal an error when used in an expression.</p>
</li>
</ol>
</div>
</dd>
<dt class="hdlist1">Mode</dt>
<dd>
<p>Most parameters are read/write and may be assigned to
within an assignment statement.  However, for many predefined
parameters this does not make sense, so they are are read-only - they
may appear in expressions, but not on the left-hand side of an
assignment statement.</p>
</dd>
<dt class="hdlist1">Persistence</dt>
<dd>
<p>When Machinekit is shut down, volatile parameters lose their
values. All parameters except numbered parameters in the current
persistent range <sup class="footnote" id="_footnote_persistent_range">[<a id="_footnoteref_6" class="footnote" href="#_footnote_6" title="View footnote.">6</a>]</sup>  are volatile.
Persistent parameters are saved in the .var file and
restored to their previous values when Machinekit is started again. Volatile
numbered parameters are reset to zero.</p>
</dd>
<dt class="hdlist1">Intended Use</dt>
<dt class="hdlist1">. user parameters</dt>
<dd>
<p>numbered parameters in the range 31..5000, and named
global and local parameters except predefined parameters. These are
available for general-purpose storage of floating-point values, like
intermediate results, flags etc, throughout program execution.  They
are read/write (can be assigned a value).</p>
<div class="olist arabic">
<ol class="arabic">
<li>
<p><a href="#sub:subroutine-parameters">subroutine parameters</a> - these are used to hold the actual parameters
passed to a subroutine.</p>
</li>
<li>
<p><a href="#sub:numbered-parameters">numbered parameters</a> - most of these are used to access offsets of
coordinate systems.</p>
</li>
<li>
<p><a href="#sub:system-parameters">system parameters</a> - used to determine the current
running version. They are read-only.</p>
</li>
</ol>
</div>
</dd>
</dl>
</div>
<div class="sect3">
<h4 id="sub:numbered-parameters">Numbered Parameters</h4>
<div class="paragraph">
<p>A numbered parameter is the pound character '#' followed by an
integer between 1 and (currently) 5602 <sup class="footnote">[<a id="_footnoteref_7" class="footnote" href="#_footnote_7" title="View footnote.">7</a>]</sup>.  The parameter is referred
to by this integer, and its value is whatever number is stored in the
parameter.</p>
</div>
<div class="paragraph">
<p>A value is stored in a parameter with the = operator; for example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>#3 = 15 (set parameter 3 to 15)</pre>
</div>
</div>
<div class="paragraph">
<p>A parameter setting does not take
effect until after all parameter values on the same line have been
found. For example, if parameter 3 has been previously set to 15 and
 the line '#3=6 G1 X#3' is interpreted, a straight move to a point
where X equals 15 will
occur and the value of parameter 3 will be 6.</p>
</div>
<div class="paragraph">
<p>The '#'  character takes precedence over other operations, so that, for
 example, '\#1+2' means the number found by adding 2 to the value of
parameter 1, not
 the value found in parameter 3. Of course, '\#[1+2]' does mean the
value found in parameter 3. The '#' character may be repeated; for
example '##2'  means the value of the parameter whose index is the
(integer) value of parameter 2.</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">31-5000</dt>
<dd>
<p>G-Code user parameters. These parameters are global in the G Code file,
and available for general use. Volatile.</p>
</dd>
<dt class="hdlist1">5061-5069</dt>
<dd>
<p>Coordinates of a "G38.2" Probe result - X, Y, Z, A, B, C, U, V &amp; W.
Volatile.</p>
</dd>
<dt class="hdlist1">5070</dt>
<dd>
<p>"G38" probe result - 1 if success, 0 if probe failed to close.
Used with G38.3 and G38.5. Volatile.</p>
</dd>
<dt class="hdlist1">5161-5169</dt>
<dd>
<p>"G28" Home for X, Y, Z, A, B, C, U, V &amp; W. Persistent.</p>
</dd>
<dt class="hdlist1">5181-5189</dt>
<dd>
<p>"G30" Home for X, Y, Z, A, B, C, U, V &amp; W. Persistent.</p>
</dd>
<dt class="hdlist1">5211-5219</dt>
<dd>
<p>"G92" offset for X, Y, Z, A, B, C, U, V &amp; W. Persistent.</p>
</dd>
<dt class="hdlist1">5210</dt>
<dd>
<p>1 if "G92" offset is currently applied, 0 otherwise. Persistent.</p>
</dd>
<dt class="hdlist1">5211-5219</dt>
<dd>
<p>'G92' offset (X Y Z A B C U V W).</p>
</dd>
<dt class="hdlist1">5220</dt>
<dd>
<p>Coordinate System number 1 - 9 for G54 - G59.3. Persistent.</p>
</dd>
<dt class="hdlist1">5221-5230</dt>
<dd>
<p>Coordinate System 1, G54 for X, Y, Z, A, B, C, U, V, W &amp; R. R denotes the XY rotation angle around the Z axis. Persistent.</p>
</dd>
<dt class="hdlist1">5241-5250</dt>
<dd>
<p>Coordinate System 2, G55 for X, Y, Z, A, B, C, U, V, W &amp; R. Persistent.</p>
</dd>
<dt class="hdlist1">5261-5270</dt>
<dd>
<p>Coordinate System 3, G56 for X, Y, Z, A, B, C, U, V, W &amp; R. Persistent.</p>
</dd>
<dt class="hdlist1">5281-5290</dt>
<dd>
<p>Coordinate System 4, G57 for X, Y, Z, A, B, C, U, V, W &amp; R. Persistent.</p>
</dd>
<dt class="hdlist1">5301-5310</dt>
<dd>
<p>Coordinate System 5, G58 for X, Y, Z, A, B, C, U, V, W &amp; R. Persistent.</p>
</dd>
<dt class="hdlist1">5321-5330</dt>
<dd>
<p>Coordinate System 6, G59 for X, Y, Z, A, B, C, U, V, W &amp; R. Persistent.</p>
</dd>
<dt class="hdlist1">5341-5350</dt>
<dd>
<p>Coordinate System 7, G59.1 for X, Y, Z, A, B, C, U, V, W &amp; R. Persistent.</p>
</dd>
<dt class="hdlist1">5361-5370</dt>
<dd>
<p>Coordinate System 8, G59.2 for X, Y, Z, A, B, C, U, V, W &amp; R. Persistent.</p>
</dd>
<dt class="hdlist1">5381-5390</dt>
<dd>
<p>Coordinate System 9, G59.3 for X, Y, Z, A, B, C, U, V, W &amp; R. Persistent.</p>
</dd>
<dt class="hdlist1">5399</dt>
<dd>
<p>Result of M66 - Check or wait for input. Volatile.</p>
</dd>
<dt class="hdlist1">5400</dt>
<dd>
<p>Tool Number. Volatile.</p>
</dd>
<dt class="hdlist1">5401-5409</dt>
<dd>
<p>Tool Offsets for X, Y, Z, A, B, C, U, V &amp; W. Volatile.</p>
</dd>
<dt class="hdlist1">5410</dt>
<dd>
<p>Tool Diameter. Volatile.</p>
</dd>
<dt class="hdlist1">5411</dt>
<dd>
<p>Tool Front Angle. Volatile.</p>
</dd>
<dt class="hdlist1">5412</dt>
<dd>
<p>Tool Back Angle. Volatile.</p>
</dd>
<dt class="hdlist1">5413</dt>
<dd>
<p>Tool Orientation. Volatile.</p>
</dd>
<dt class="hdlist1">5420-5428</dt>
<dd>
<p> Current Position including all offsets and in the current program
units for X, Y, Z, A, B, C, U, V &amp; W, volatile.</p>
</dd>
<dt class="hdlist1">5599</dt>
<dd>
<p>flag for controlling the output of (DEBUG,) statements.
1=output, 0=no output; default=1. Volatile.</p>
</dd>
<dt class="hdlist1">5600</dt>
<dd>
<p>toolchanger fault indicator. Used with the iocontrol-v2 component.
1: toolchanger faulted, 0: normal. Volatile.</p>
</dd>
<dt class="hdlist1">5601</dt>
<dd>
<p>toolchanger fault code. Used with the iocontrol-v2 component.
Reflects the value of the <code>toolchanger-reason</code> HAL pin if a fault occured.
Volatile.</p>
</dd>
</dl>
</div>
</div>
<div class="sect3">
<h4 id="sub:subroutine-parameters">Subroutine Parameters</h4>
<div class="dlist">
<dl>
<dt class="hdlist1">1-30</dt>
<dd>
<p> Subroutine local parameters of call arguments. These parameters are
local to the subroutine. Volatile. See also the chapter on <a href="#cha:O-Codes">O-Codes</a>.</p>
</dd>
</dl>
</div>
</div>
<div class="sect3">
<h4 id="sub:Named-Parameters">Named Parameters</h4>
<div class="paragraph">
<p>Named parameters work like numbered parameters but are easier to read.
All parameter names are converted to lower case and have spaces and
tabs removed, so '<mark>&lt;param&gt;' and '</mark>&lt;P a R am &gt;' refer to the same
parameter. Named parameters must be enclosed with <code>&lt; &gt;</code> marks.</p>
</div>
<div class="paragraph">
<p>'#&lt;named parameter here&gt;'  is a local named parameter. By default, a
named parameter is local to
the scope in which it is assigned. You can&#8217;t access a local parameter
outside of its subroutine - this is so that two subroutines can use the
same parameter names without fear of one subroutine overwriting the
values in another.</p>
</div>
<div class="paragraph">
<p>'#&lt;_global named parameter here&gt;'  is a global named parameter. They
are accessible from within called
subroutines and may set values within subroutines that are accessible
to the caller. As far as scope is concerned, they act just like regular
numeric parameters. They are not stored in files.</p>
</div>
<div class="paragraph">
<p>Examples:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Declaration of named global variable</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre>#&lt;_endmill_dia&gt; = 0.049</pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>Reference to previously declared global variable</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre>#&lt;_endmill_rad&gt; = [#&lt;_endmill_dia&gt;/2.0]</pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>Mixed literal and named parameters</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre>o100 call [0.0] [0.0] [#&lt;_inside_cutout&gt;-#&lt;_endmill_dia&gt;] [#&lt;_Zcut&gt;] [#&lt;_feedrate&gt;]</pre>
</div>
</div>
<div class="paragraph">
<p>Named parameters spring into existence when they are assigned a value
for the first time. Local named parameters vanish when their scope is
left: when a subroutine returns, all its local parameters are deleted
and cannot be referred to anymore.</p>
</div>
<div class="paragraph">
<p>It is an error to use a non-existent named paramater within an
expression, or at the right-hand side of an assignment. Printing the
value of a non-existent named parameter with a DEBUG statement - like
'(DEBUG, #&lt;no_such_parameter&gt;)' will display the string ######.</p>
</div>
<div class="paragraph">
<p>Global parameters, as well as local parameters assigned to at the
global level, retain their value once assigned even when the program
ends, and have these  values when the program is run again.</p>
</div>
<div class="paragraph">
<p>The <a href="#EXISTS-Function">'EXISTS' function</a> tests whether a given named parameter exists.</p>
</div>
</div>
<div class="sect3">
<h4 id="sec:Predefined-Named-Parameters">Predefined Named Parameters</h4>
<div class="paragraph">
<p>The following global read only named parameters are available to
access internal state of the interpreter and machine state. They can
be used in arbitrary expressions, for instance to control flow of the
program with if-then-else statements. Note that <a href="#sec:Adding-Predefined-Named-Parameters">new predefined named
parameters</a> can be added easily without changes to the source code.</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>#&lt;_vmajor&gt;</code> - Major package version. If current version was 2.5.2 would return 2.5.</p>
</li>
<li>
<p><code>#&lt;_vminor&gt;</code> - Minor package version. If current version was 2.6.2 it would return 0.2.</p>
</li>
<li>
<p><code>#&lt;_line&gt;</code> -
Sequence number. If running a G-Code file, this returns the current line number.</p>
</li>
<li>
<p><code>#&lt;_motion_mode&gt;</code> -
Return the interpreter&#8217;s current motion mode:</p>
</li>
</ul>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Motion mode</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">return value</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">G1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">10</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">G2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">20</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">G3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">30</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">G33</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">330</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">G38.2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">382</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">G38.3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">383</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">G38.4</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">384</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">G38.5</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">385</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">G5.2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">52</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">G73</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">730</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">G76</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">760</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">G80</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">800</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">G81</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">810</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">G82</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">820</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">G83</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">830</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">G84</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">840</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">G85</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">850</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">G86</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">860</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">G87</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">870</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">G88</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">880</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">G89</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">890</p></td>
</tr>
</tbody>
</table>
<div class="ulist">
<ul>
<li>
<p><code>#&lt;_plane&gt;</code> -
returns the value designating the current plane:</p>
</li>
</ul>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Plane</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">return value</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">G17</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">170</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">G18</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">180</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">G19</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">190</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">G17.1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">171</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">G18.1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">181</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">G19.1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">191</p></td>
</tr>
</tbody>
</table>
<div class="ulist">
<ul>
<li>
<p><code>#&lt;_ccomp&gt;</code> -
Status of cutter compensation. Return values:</p>
</li>
</ul>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Mode</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">return value</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">G40</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">400</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">G41</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">410</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">G41.1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">411</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">G41</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">410</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">G42</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">420</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">G42.1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">421</p></td>
</tr>
</tbody>
</table>
<div class="ulist">
<ul>
<li>
<p><code>#&lt;_metric&gt;</code> -
Return 1 if G21 is on, else 0.</p>
</li>
<li>
<p><code>#&lt;_imperial&gt;</code> -
Return 1 if G20 is on, else 0.</p>
</li>
<li>
<p><code>#&lt;_absolute&gt;</code> -
Return 1 if G90 is on, else 0.</p>
</li>
<li>
<p><code>#&lt;_incremental&gt;</code> -
Return 1 if G91 is on, else 0.</p>
</li>
<li>
<p><code>#&lt;_inverse_time&gt;</code> -
Return 1 if inverse feed mode (G93) is on, else 0.</p>
</li>
<li>
<p><code>#&lt;_units_per_minute&gt;</code> -
Return 1 if Units/minute feed mode (G94) is on, else 0.</p>
</li>
<li>
<p><code>#&lt;_units_per_rev&gt;</code> -
Return 1 if Units/revolution mode (G95) is on, else 0.</p>
</li>
<li>
<p><code>#&lt;_coord_system&gt;</code> -
Return index of the current coordinate system (G54..G59.3)</p>
</li>
</ul>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Mode</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">return value</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">G54</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">G55</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">G56</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">2</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">G57</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">3</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">G58</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">4</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">G59</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">5</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">G59.1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">6</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">G59.2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">7</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">G59.3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">8</p></td>
</tr>
</tbody>
</table>
<div class="ulist">
<ul>
<li>
<p><code>#&lt;_tool_offset&gt;</code> -
Return 1 if tool offset (G43) is on, else 0.</p>
</li>
<li>
<p><code>#&lt;_retract_r_plane&gt;</code> -
Return 1 if G98 is set, else 0.</p>
</li>
<li>
<p><code>#&lt;_retract_old_z&gt;</code> -
Return 1 if G99 is on, else 0.</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="sub:system-parameters">System Parameters</h4>
<div class="ulist">
<ul>
<li>
<p><code>#&lt;_spindle_rpm_mode&gt;</code> -
Return 1 if spindle rpm mode (G97) is on, else 0.</p>
</li>
<li>
<p><code>#&lt;_spindle_css_mode&gt;</code> -
Return 1 if constant surface speed mode (G96) is on, else 0.</p>
</li>
<li>
<p><code>#&lt;_ijk_absolute_mode&gt;</code> -
Return 1 if Absolute Arc distance mode (G90.1) is on, else 0.</p>
</li>
<li>
<p><code>#&lt;_lathe_diameter_mode&gt;</code> -
Return 1 if this is a lathe configuration and diameter (G7) mode is on, else 0.</p>
</li>
<li>
<p><code>#&lt;_lathe_radius_mode&gt;</code> -
Return 1 if this is a lathe configuration and radius (G8) mode is on, else 0.</p>
</li>
<li>
<p><code>#&lt;_spindle_on&gt;</code> -
Return 1 if spindle currently running (M3 or M4) else 0.</p>
</li>
<li>
<p><code>#&lt;_spindle_cw&gt;</code> -
Return 1 if spindle direction is clockwise (M3) else 0.</p>
</li>
<li>
<p><code>#&lt;_mist&gt;</code> -
Return 1 if mist (M7) is on.</p>
</li>
<li>
<p><code>#&lt;_flood&gt;</code> -
Return 1 if flood (M8) is on.</p>
</li>
<li>
<p><code>#&lt;_speed_override&gt;</code> -
Return 1 if feed override (M48 or M50 P1) is on, else 0.</p>
</li>
<li>
<p><code>#&lt;_feed_override&gt;</code> -
Return 1 if feed override (M48 or M51 P1) is on, else 0.</p>
</li>
<li>
<p><code>#&lt;_adaptive_feed&gt;</code> -
Return 1 if adaptive feed (M52 or M52 P1) is on, else 0.</p>
</li>
<li>
<p><code>#&lt;_feed_hold&gt;</code> -
Return 1 if feed hold switch is enabled (M53 P1), else 0.</p>
</li>
<li>
<p><code>#&lt;_feed&gt;</code> -
Return the current feed value (F).</p>
</li>
<li>
<p><code>#&lt;_rpm&gt;</code> -
Return the current spindle speed (S).</p>
</li>
<li>
<p><code>#&lt;_x&gt;</code> -
Return current machine X coordinate. Same as #5420.</p>
</li>
<li>
<p><code>#&lt;_y&gt;</code> -
Return current machine Y coordinate. Same as #5421.</p>
</li>
<li>
<p><code>#&lt;_z&gt;</code> -
Return current machine Z coordinate. Same as #5422.</p>
</li>
<li>
<p><code>#&lt;_a&gt;</code> -
Return current machine A coordinate. Same as #5423.</p>
</li>
<li>
<p><code>#&lt;_b&gt;</code> -
Return current machine B coordinate. Same as #5424.</p>
</li>
<li>
<p><code>#&lt;_c&gt;</code> -
Return current machine C coordinate. Same as #5425.</p>
</li>
<li>
<p><code>#&lt;_u&gt;</code> -
Return current machine U coordinate. Same as #5426.</p>
</li>
<li>
<p><code>#&lt;_v&gt;</code> -
Return current machine V coordinate. Same as #5427.</p>
</li>
<li>
<p><code>#&lt;_w&gt;</code> -
Return current machine W coordinate. Same as #5428.</p>
</li>
<li>
<p><code>#&lt;_current_tool&gt;</code> -
Return number of the current tool in spindle. Same as #5400.</p>
</li>
<li>
<p><code>#&lt;_current_pocket&gt;</code> -
Return pocket number of the current tool.</p>
</li>
<li>
<p><code>#&lt;_selected_tool&gt;</code> -
Return number of the selected tool post a T code. Default -1.</p>
</li>
<li>
<p><code>#&lt;_selected_pocket&gt;</code> -
Return number of the selected pocket post a T code. Default -1
(no pocket selected).</p>
</li>
<li>
<p><code>#&lt;_value&gt;</code> -  <a id="param:_value"></a>
Return value from the last O-word <code>return</code> or <code>endsub</code>.  Default
value 0 if no expression after <code>return</code> or <code>endsub</code>.  Initialized
to 0 on program start.</p>
</li>
<li>
<p><code>#&lt;_value_returned&gt;</code> -
1.0 if the last O-word <code>return</code> or <code>endsub</code> returned a value, 0
otherwise. Cleared by the next O-word call.</p>
</li>
<li>
<p><code>#&lt;_task&gt;</code> -
1.0 if the executing interpreter instance is part of milltask, 0.0
otherwise. Sometimes it is necessary to treat this case specially
to retain proper preview, for instance when testing the success of
a probe (G38.x) by inspecting #5070, which will always fail in the
preview interpreter (e.g. Axis).</p>
</li>
<li>
<p><code>#&lt;_call_level&gt;</code> -
current nesting level of O-word procedures. For debugging.</p>
</li>
<li>
<p><code>#&lt;_remap_level&gt;</code> -
current level of the remap stack. Each remap in a block adds one
to the remap level. For debugging.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect2">
<h3 id="sec:Expressions">Expressions</h3>
<div class="paragraph">
<p>An expression is a set of characters starting with a left bracket '['
and ending with a balancing right bracket ']' . In between the brackets
are numbers, parameter values, mathematical
operations, and other expressions. An expression is evaluated to
produce a number. The expressions on a line are evaluated when the line
is read, before anything on the line is executed. An example of an
expression is '[1 + acos[0] - [#3 ** [4.0/2]]]'.</p>
</div>
</div>
<div class="sect2">
<h3 id="sec:Binary-Operators">Binary Operators</h3>
<div class="paragraph">
<p>Binary operators only appear inside expressions. There are four basic
mathematical operations: addition ('+'), subtraction ('-'),
multiplication ('*'), and division ('/'). There are three logical
operations: non-exclusive or ('OR'), exclusive or ('XOR'), and logical
and ('AND'). The eighth operation is the modulus operation ('MOD'). The
ninth operation is the 'power' operation ('**') of raising the number
on the left of the operation to the power on
 the right. The relational operators are equality ('EQ'), inequality
('NE'), strictly greater than ('GT'), greater than or equal to ('GE'),
strictly less than ('LT'), and less than or equal to ('LE').</p>
</div>
<div class="paragraph">
<p>The binary operations are divided into several groups according to
their precedence. (see table  <a href="#cap:Operator-Precedence">Operator-Precedence</a>) If
operations in different precedence groups are strung together (for
example in the expression '[2.0 / 3 * 1.5 - 5.5 / 11.0]'), operations
in a higher group are to be performed before operations
in a lower group. If an expression contains more than one operation
 from the same group (such as the first '/' and '*'  in the example),
the operation on the left is performed first. Thus,
 the example is equivalent to: '[ [ [2.0 / 3] * 1.5] - [5.5 / 11.0] ]' ,
which is equivalent to to '[1.0 - 0.5]' , which is '0.5'.</p>
</div>
<div class="paragraph">
<p>The logical operations and modulus are to be performed on any real
numbers, not just on integers. The number zero is equivalent to logical
false, and any non-zero number is equivalent to logical true.</p>
</div>
<table class="tableblock frame-all grid-all" style="width: 60%;">
<caption class="title">Table 6. Operator Precedence<a id="cap:Operator-Precedence"></a></caption>
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-center valign-top">Operators</th>
<th class="tableblock halign-center valign-top">Precedence</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">**</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">'highest'</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">* / MOD</p></td>
<td class="tableblock halign-center valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">+ -</p></td>
<td class="tableblock halign-center valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">EQ NE GT GE LT LE</p></td>
<td class="tableblock halign-center valign-top"></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">AND OR XOR</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">'lowest'</p></td>
</tr>
</tbody>
</table>
<div class="sect3">
<h4 id="equality-and-floating-point-values">Equality and floating-point values</h4>
<div class="paragraph">
<p>The RS274/NGC language only supports floating-point values of finite
precision.  Therefore, testing for equality or inequality of two
floating-point values is inherently problematic. The interpreter
solves this problem by considering values equal if their absolute
difference is less than 0.0001 (this value is defined as
<code>TOLERANCE_EQUAL</code> in src/emc/rs274ngc/interp_internal.hh).</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="sub:Unary-Operation-Value">Functions<a id="sub:functions"></a></h3>
<div class="paragraph">
<p>A function is either 'ATAN' followed by one expression divided by
another expression (for
 example 'ATAN[2]/[1+3]') or any other function name followed by an
expression (for example 'SIN[90]'). The available functions are
shown in table  <a href="#cap:Functions">Functions</a>.
 Arguments to unary operations which take angle measures ('COS', 'SIN',
and 'TAN' ) are in degrees. Values returned by unary operations which
return
angle measures ('ACOS', 'ASIN', and 'ATAN') are also in degrees.</p>
</div>
<table class="tableblock frame-all grid-all" style="width: 75%;">
<caption class="title">Table 7. Functions<a id="cap:Functions"></a></caption>
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-center valign-top">Function Name</th>
<th class="tableblock halign-left valign-top">Function result</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">ATAN[Y]/[X]</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Four quadrant inverse tangent</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">ABS[arg]</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Absolute value</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">ACOS[arg]</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Inverse cosine</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">ASIN[arg]</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Inverse sine</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">COS[arg]</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Cosine</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">EXP[arg]</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">e raised to the given power</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">FIX[arg]</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Round down to integer</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">FUP[arg]</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Round up to integer</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">ROUND[arg]</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Round to nearest integer</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">LN[arg]</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Base-e logarithm</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">SIN[arg]</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Sine</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">SQRT[arg]</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Square Root</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">TAN[arg]</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Tangent</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">EXISTS[arg]</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Check named Parameter</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>The 'FIX' function rounds towards the left (less positive or more
negative) on
a number line, so that 'FIX[2.8] =2' and 'FIX[-2.8] = -3', for
example. The 'FUP'  operation rounds towards the right (more positive
or less negative)
on a number line; 'FUP[2.8] = 3' and 'FUP[-2.8] = -2', for example.</p>
</div>
<div class="paragraph">
<p><a id="EXISTS-Function"></a>The <code>EXISTS</code> function checks for the existence of a single named
parameter. It takes only one named parameter and returns 1 if it
exists and 0 if it does not exist. It is an error if you use a
numbered parameter or an expression. Here is an example for the usage
of the EXISTS function:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-{basebackend@docbook:'':ngc}" data-lang="{basebackend@docbook:'':ngc}">o&lt;test&gt; sub
o10 if [EXISTS[#&lt;_global&gt;]]
    (debug, _global exists and has the value #&lt;_global&gt;)
o10 else
    (debug, _global does not exist)
o10 endif
o&lt;test&gt; endsub

o&lt;test&gt; call
#&lt;_global&gt; = 4711
o&lt;test&gt; call
m2</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="repeated-items">Repeated Items</h3>
<div class="paragraph">
<p>A line may have any number of G words, but two G words from the same
modal group may not appear on the
same line See the <a href="#sec:Modal-Groups">Modal Groups</a> Section for more information.</p>
</div>
<div class="paragraph">
<p>A line may have zero to four M words. Two M words from the same modal
group may not appear on the same line.</p>
</div>
<div class="paragraph">
<p>For all other legal letters, a line may have only one word beginning
with that letter.</p>
</div>
<div class="paragraph">
<p>If a parameter setting of the same parameter is repeated on a line,
'#3=15 #3=6', for example, only the last setting will take effect.
It is silly,
but not illegal, to set the same parameter twice on the same line.</p>
</div>
<div class="paragraph">
<p>If more than one comment appears on a line, only the last one will be
used; each of the other comments will be read and its format will be
checked, but it will be ignored thereafter. It is expected that putting
more than one comment on a line will be very rare.</p>
</div>
</div>
<div class="sect2">
<h3 id="item-order">Item order</h3>
<div class="paragraph">
<p>The three types of item whose order may vary on a line (as given at
the beginning of this section) are word, parameter setting, and
comment. Imagine that these three types of item are divided into three
groups by type.</p>
</div>
<div class="paragraph">
<p>The first group (the words) may be reordered in any way without
changing the meaning of the line.</p>
</div>
<div class="paragraph">
<p>If the second group (the parameter settings) is reordered, there will
be no change in the meaning of the line unless the same parameter is
set more than once. In this case, only the last setting of the
parameter will take effect. For example, after the line '#3=15 #3=6'
has been interpreted, the value of parameter 3 will be 6. If the
 order is reversed to '#3=6 #3=15' and the line is interpreted, the
value of parameter 3 will be 15.</p>
</div>
<div class="paragraph">
<p>If the third group (the comments) contains more than one comment and
is reordered, only the last comment will be used.</p>
</div>
<div class="paragraph">
<p>If each group is kept in order or reordered without changing the
meaning of the line, then the three groups may be interleaved in any
way without changing the meaning of the line. For example, the line
'g40 g1 #3=15 (foo) #4=-7.0' has five items and means exactly the
same thing in any of the 120
 possible orders (such as '#4=-7.0 g1 #3=15 g40 (foo)') for the five
items.</p>
</div>
</div>
<div class="sect2">
<h3 id="commands-and-machine-modes">Commands and Machine Modes</h3>
<div class="paragraph">
<p>Many commands cause the controller to change from one mode to another,
and the mode stays active until some other command changes it
implicitly or explicitly. Such commands are called 'modal'. For
example, if coolant is turned on, it stays on until it is explicitly
turned off. The G codes for motion are also modal. If a G1 (straight
move) command is given on one line, for example, it will be executed
again on the next line if one or more axis words is available on the
line, unless an explicit command is given on that next line using the
axis words or canceling motion.</p>
</div>
<div class="paragraph">
<p>'Non-modal' codes have effect only on the lines on which they occur.
For example, G4 (dwell) is non-modal.</p>
</div>
</div>
<div class="sect2">
<h3 id="polar-coordinates">Polar Coordinates</h3>
<div class="paragraph">
<p></p>
</div>
<div class="paragraph">
<p>Polar Coordinates can be used to specify the XY coordinate of a move.
The @n is the distance and ^n is the angle. The advantage of this is
for things like bolt hole circles which can be done very simply by
moving to a point in the center of the circle, setting the offset and
then moving out to the first hole then run the drill cycle.
Polar Coordinates always are from the current XY zero position.
To shift the Polar Coordinates from machine zero use an offset
or select a coordinate system.</p>
</div>
<div class="paragraph">
<p>In Absolute Mode the distance and angle is from the XY zero position
and the angle starts with 0 on the X Positive axis and increases in a CCW
direction about the Z axis. The code G1 @1^90 is the same as G1 Y1.</p>
</div>
<div class="paragraph">
<p>In Relative Mode the distance and angle is also from the XY zero
position but it is cumulative.
This can be confusing at first how this works in incremental mode.</p>
</div>
<div class="paragraph">
<p>For example if you have the following program you might expect it to
be a square pattern.</p>
</div>
<div class="listingblock">
<div class="content">
<pre>F100 G1 @.5 ^90
G91 @.5 ^90
@.5 ^90
@.5 ^90
@.5 ^90
G90 G0 X0 Y0 M2</pre>
</div>
</div>
<div class="paragraph">
<p>You can see from the following figure that the output is not what you
might expect. Because we added 0.5 to the distance each time the
distance from the XY zero position increased with each line.</p>
</div>
<div class="imageblock" style="text-align: center">
<div class="content">
<img src="../gcode/images/polar01.png" alt="polar01">
</div>
<div class="title">Figure 47. Polar Spiral<a id="fig:Polar-Spiral"></a></div>
</div>
<div class="paragraph">
<p>The following code will produce our square pattern.</p>
</div>
<div class="listingblock">
<div class="content">
<pre>F100 G1 @.5 ^90
G91 ^90
^90
^90
^90
G90 G0 X0 Y0 M2</pre>
</div>
</div>
<div class="paragraph">
<p>As you can see by only adding to the angle by 90 degrees each time the
end point distance is the same for each line.</p>
</div>
<div class="imageblock" style="text-align: center">
<div class="content">
<img src="../gcode/images/polar02.png" alt="polar02">
</div>
<div class="title">Figure 48. Polar Square<a id="fig:Polar-Square"></a></div>
</div>
<div class="paragraph">
<p>It is an error if:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>An incremental move is started at the origin</p>
</li>
<li>
<p>A mix of Polar and and X or Y words are used</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="sec:Modal-Groups">Modal Groups</h3>
<div class="paragraph">
<p></p>
</div>
<div class="paragraph">
<p>Modal commands are arranged in sets called 'modal groups', and only
one member of a modal group may be in force at any given time. In
general, a modal group contains commands for which it is logically
impossible for two members to be in effect at the same time - like
measure in inches vs. measure in millimeters. A machining center may be
in many modes at the same time, with one mode from each modal group
being in effect. The modal groups are shown in the following Table.</p>
</div>
<table class="tableblock frame-all grid-all spread">
<caption class="title">Table 8. G-Code Modal Groups<a id="cap:Modal-Groups"></a></caption>
<colgroup>
<col style="width: 40%;">
<col style="width: 60%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Modal Group Meaning</th>
<th class="tableblock halign-left valign-top">Member Words</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Non-modal codes (Group 0)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">G4, G10 G28, G30, G53 G92, G92.1, G92.2, G92.3,</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top" rowspan="2"><p class="tableblock">Motion (Group 1)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">G0, G1, G2, G3, G33, G38.x, G73, G76, G80, G81</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">G82, G83, G84, G85, G86, G87, G88, G89</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Plane selection (Group 2)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">G17, G18, G19, G17.1, G18.1, G19.1</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Distance Mode (Group 3)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">G90, G91</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Arc IJK Distance Mode (Group 4)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">G90.1, G91.1</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Feed Rate Mode (Group 5)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">G93, G94, G95</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Units (Group 6)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">G20, G21</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Cutter Diameter Compensation (Group 7)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">G40, G41, G42, G41.1, G42.1</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Tool Length Offset (Group 8)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">G43, G43.1, G49</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Canned Cycles Return Mode (Group 10)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">G98, G99</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Coordinate System (Group 12)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">G54, G55, G56, G57, G58, G59, G59.1, G59.2, G59.3</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Control Mode (Group 13)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">G61, G61.1, G64</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Spindle Speed Mode (Group 14)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">G96, G97</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Lathe Diameter Mode (Group 15)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">G7, G8</p></td>
</tr>
</tbody>
</table>
<table class="tableblock frame-all grid-all" style="width: 80%;">
<caption class="title">Table 9. M-Code Modal Groups<a id="tbl:m-modal-groups"></a></caption>
<colgroup>
<col style="width: 40%;">
<col style="width: 60%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Modal Group Meaning</th>
<th class="tableblock halign-left valign-top">Member Words</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Stopping (Group 4)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">M0, M1, M2, M30, M60</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">I/O on/off (Group 5)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">M6 Tn</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Tool Change (Group 6)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">M6 Tn</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Spindle (Group 7)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">M3, M4, M5</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Coolant (Group 8)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">(M7 M8 can both be on), M9</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Override Switches (Group 9)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">M48, M49</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">User Defined (Group 10)</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">M100-M199</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>For several modal groups, when a machining center is ready to accept
commands, one member of the group must be in effect. There are default
settings for these modal groups. When the machining center is turned on
or otherwise re-initialized, the default values are automatically in
effect.</p>
</div>
<div class="paragraph">
<p>Group 1, the first group on the table, is a group of G codes for
motion. One of these is always in effect. That one is called the
current motion mode.</p>
</div>
<div class="paragraph">
<p>It is an error to put a G-code from group 1 and a G-code from group 0
on the same line if both of them use axis words. If an axis word-using
G-code from group 1 is implicitly in effect on a line (by having been
activated on an earlier line), and a group 0 G-code that uses axis
words appears on the line, the activity of the group 1 G-code is
suspended for that line. The axis word-using G-codes from group 0 are
G10, G28, G30, and G92.</p>
</div>
<div class="paragraph">
<p>It is an error to include any unrelated words on a line with 'O-' flow
control.</p>
</div>
</div>
<div class="sect2">
<h3 id="sec:comments">Comments</h3>
<div class="paragraph">
<p>Comments can be added to lines of G code to help clear up the
intention of the programmer. Comments can be embedded in a line using
parentheses () or for the remainder of a line using a semi-colon. The
semi-colon is not treated as the start of a comment when enclosed in
parentheses.</p>
</div>
<div class="paragraph">
<p>Comments may appear between words, but not between words and their
corresponding parameter. So, 'S100(set speed)F200(feed)' is OK while
'S(speed)100F(feed)' is not.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-{basebackend@docbook:'':ngc}" data-lang="{basebackend@docbook:'':ngc}">G0 (Rapid to start) X1 Y1
G0 X1 Y1 (Rapid to start; but don't forget the coolant)
M2 ; End of program.</code></pre>
</div>
</div>
<div class="paragraph">
<p>There are several 'active' comments which look like comments but cause
some action, like '(debug,..)' or '(print,..)'. If there are
several comments on a line, only the last comment will be interpreted
according to these rules. Hence, a normal comment following an active
comment will in effect disable the active comment. For example, '(foo)
(debug,#1)' will print the value of parameter '#1', however
'(debug,#1)(foo)' will not.</p>
</div>
<div class="paragraph">
<p>A comment introduced by a semicolon is by definition the last comment
on that line, and will always be interpreted for active comment syntax.</p>
</div>
</div>
<div class="sect2">
<h3 id="sec:messages">Messages</h3>
<div class="paragraph">
<p></p>
</div>
<div class="ulist">
<ul>
<li>
<p>'(MSG,)' - displays message if 'MSG' appears after the left
parenthesis and before any other printing characters.
Variants of 'MSG' which include white space and lower case
characters are allowed. The rest of the characters before
the right parenthesis are considered to be a message.
Messages should be displayed on the message display device
of the user interface if provided.</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="title">Message Example</div>
<div class="content">
<pre>(MSG, This is a message)</pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="sec:probe-logging">Probe Logging</h3>
<div class="paragraph">
<p></p>
</div>
<div class="ulist">
<ul>
<li>
<p>'(PROBEOPEN filename.txt)' - will open filename.txt and store the 9-number
coordinate consisting of XYZABCUVW of each
successful straight probe in it.</p>
</li>
<li>
<p>'(PROBECLOSE)' - will close the open probelog file.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>For more information on probing see the <a href="#sec:G38-probe">G38</a> Section.</p>
</div>
</div>
<div class="sect2">
<h3 id="sec:log">Logging</h3>
<div class="paragraph">
<p></p>
</div>
<div class="ulist">
<ul>
<li>
<p>'(LOGOPEN,filename.txt)' - opens the named log file. If the file
already exists, it is truncated.</p>
</li>
<li>
<p>'(LOGAPPEND,filename)' - opens the named log file. If the file already
exists, the data is appended.</p>
</li>
<li>
<p>'(LOGCLOSE)' - closes an open log file.</p>
</li>
<li>
<p>'(LOG,)' - everything past the ',' is written to the log file if it is open.
Supports expansion of parameters as described below.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="sec:debug-messages">Debug Messages</h3>
<div class="paragraph">
<p></p>
</div>
<div class="ulist">
<ul>
<li>
<p>'(DEBUG,)' - displays a message like '(MSG,)' with the addition of
special handling for comment parameters as described below.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="sec:print-messages">Print Messages</h3>
<div class="paragraph">
<p></p>
</div>
<div class="ulist">
<ul>
<li>
<p>'(PRINT,)' - messages are output to 'stderr' with special handling
for comment parameters as described below.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="comment-parameters">Comment Parameters</h3>
<div class="paragraph">
<p>In the DEBUG, PRINT and LOG comments, the values of parameters in the
message are expanded.</p>
</div>
<div class="paragraph">
<p>For example: to print a named global variable to stderr (the default
console window) add a line to your G code like&#8230;&#8203;</p>
</div>
<div class="listingblock">
<div class="title">Parameters Example</div>
<div class="content">
<pre>(print,endmill dia = #&lt;_endmill_dia&gt;)
(print,value of variable 123 is: #123)</pre>
</div>
</div>
<div class="paragraph">
<p>Inside the above types of comments, sequences like '#123' are replaced
by the value of the parameter 123. Sequences like '\#&lt;named parameter&gt;'
are replaced by the value of the named parameter. Named parameters
will have white space removed from them. So, '#&lt;named parameter&gt;'
will be converted to '#&lt;namedparameter&gt;'.</p>
</div>
</div>
<div class="sect2">
<h3 id="file-requirements">File Requirements</h3>
<div class="paragraph">
<p>A G code file must contain one or more lines of G code and be terminated
with a <a href="#sec:M2-M30">Program End</a>. Any G code past the program end
is not evaluated.</p>
</div>
<div class="paragraph">
<p>If a program end code is not used a pair of percent signs '%' with the first
percent sign on the first line of the file followed by one or more lines of
G code and a second percent sign. Any code past the second percent sign is not
evaluated.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
The file must be created with a text editor like Gedit and not a word
processor like Open Office Word Processor.
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="file-size">File Size</h3>
<div class="paragraph">
<p>The interpreter and task are carefully written so that the only limit
on part program size is disk capacity. The TkMachinekit and Axis interface
both load the program text to display it to the user, though, so RAM
becomes a limiting factor. In Axis, because the preview plot is drawn
by default, the redraw time also becomes a practical limit on program
size. The preview can be turned off in Axis to speed up loading large
part programs. In Axis sections of the preview can be turned off using
<a href="#sub:axis-preview-control">preview control</a> comments.</p>
</div>
</div>
<div class="sect2">
<h3 id="sec:Order-of-Execution">G Code Order of Execution</h3>
<div class="paragraph">
<p></p>
</div>
<div class="paragraph">
<p>The order of execution of items on a line is defined not by the
position of each item on the line, but by the following list:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>O-word commands (optionally followed by a comment but no other words allowed on the same line)</p>
</li>
<li>
<p>Comment (including message)</p>
</li>
<li>
<p>Set feed rate mode (G93, G94).</p>
</li>
<li>
<p>Set feed rate (F).</p>
</li>
<li>
<p>Set spindle speed (S).</p>
</li>
<li>
<p>Select tool (T).</p>
</li>
<li>
<p>HAL pin I/O (M62-M68).</p>
</li>
<li>
<p>Change tool (M6) and Set Tool Number (M61).</p>
</li>
<li>
<p>Spindle on or off (M3, M4, M5).</p>
</li>
<li>
<p>Save State (M70, M73), Restore State (M72), Invalidate State (M71).</p>
</li>
<li>
<p>Coolant on or off (M7, M8, M9).</p>
</li>
<li>
<p>Enable or disable overrides (M48, M49,M50,M51,M52,M53).</p>
</li>
<li>
<p>User-defined Commands (M100-M199).</p>
</li>
<li>
<p>Dwell (G4).</p>
</li>
<li>
<p>Set active plane (G17, G18, G19).</p>
</li>
<li>
<p>Set length units (G20, G21).</p>
</li>
<li>
<p>Cutter radius compensation on or off (G40, G41, G42)</p>
</li>
<li>
<p>Cutter length compensation on or off (G43, G49)</p>
</li>
<li>
<p>Coordinate system selection (G54, G55, G56, G57, G58, G59, G59.1, G59.2, G59.3).</p>
</li>
<li>
<p>Set path control mode (G61, G61.1, G64)</p>
</li>
<li>
<p>Set distance mode (G90, G91).</p>
</li>
<li>
<p>Set retract mode (G98, G99).</p>
</li>
<li>
<p>Go to reference location (G28, G30) or change coordinate system
data (G10) or set axis offsets (G92, G92.1, G92.2, G94).</p>
</li>
<li>
<p>Perform motion (G0 to G3, G33, G38.x, G73, G76, G80 to G89), as modified (possibly) by G53.</p>
</li>
<li>
<p>Stop (M0, M1, M2, M30, M60).</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="g-code-best-practices">G Code Best Practices</h3>
<div class="paragraph">
<p></p>
</div>
<div class="sect3">
<h4 id="use-an-appropriate-decimal-precision">Use an appropriate decimal precision</h4>
<div class="paragraph">
<p>Use at least 3 digits after the decimal when milling in millimeters,
and at least 4 digits after the decimal when milling in inches.</p>
</div>
</div>
<div class="sect3">
<h4 id="use-consistent-white-space">Use consistent white space</h4>
<div class="paragraph">
<p>G-code is most legible when at least one space appears before words.
While it is permitted to insert white space in the middle of numbers,
there is no reason to do so.</p>
</div>
</div>
<div class="sect3">
<h4 id="use-center-format-arcs">Use Center-format arcs</h4>
<div class="paragraph">
<p>Center-format arcs (which use 'I- J- K-' instead of 'R-' ) behave more
consistently than R-format arcs, particularly for
included angles near 180 or 360 degrees.</p>
</div>
</div>
<div class="sect3">
<h4 id="put-important-modal-settings-at-the-top-of-the-file">Put important modal settings at the top of the file</h4>
<div class="paragraph">
<p>When correct execution of your program depends on modal settings, be
sure to set them at the beginning of the part program. Modes can carry
over from previous programs and from the MDI commands.</p>
</div>
<div class="paragraph">
<p>As a good preventative measure, put a line similar to the following at
the top of all your programs:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-{basebackend@docbook:'':ngc}" data-lang="{basebackend@docbook:'':ngc}">    G17 G20 G40 G49 G54 G80 G90 G94</code></pre>
</div>
</div>
<div class="paragraph">
<p>(XY plane, inch mode, cancel diameter compensation, cancel length
offset, coordinate system 1, cancel motion, non-incremental motion,
feed/minute mode)</p>
</div>
<div class="paragraph">
<p>Perhaps the most critical modal setting is the distance units&#8212;&#8203;If you
do not include G20 or G21, then different machines will mill the
program at different scales. Other settings, such as the return mode in
canned cycles may also be important.</p>
</div>
</div>
<div class="sect3">
<h4 id="don-t-put-too-many-things-on-one-line">Don&#8217;t put too many things on one line</h4>
<div class="paragraph">
<p>Ignore everything in Section <a href="#sec:Order-of-Execution">Order of Execution</a>, and instead
write no line of code that is the slightest bit ambiguous.</p>
</div>
</div>
<div class="sect3">
<h4 id="don-t-set-use-a-parameter-on-the-same-line">Don&#8217;t set &amp; use a parameter on the same line</h4>
<div class="paragraph">
<p>Don&#8217;t use and set a parameter on the same line, even though the
semantics are well defined. Updating a variable to a new value, such as
'#1=[#1+#2]' is OK.</p>
</div>
</div>
<div class="sect3">
<h4 id="don-t-use-line-numbers">Don&#8217;t use line numbers</h4>
<div class="paragraph">
<p>Line numbers offer no benefits. When line numbers are reported in
error messages, the numbers refer to the line number in the file, not
the N-word value.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="linear-and-rotary-axis">Linear and Rotary Axis</h3>
<div class="paragraph">
<p>Because the meaning of an F-word in feed-per-minute mode varies
depending on which axes are commanded to move, and because the amount
of material removed does not depend only on the feed rate, it may be
easier to use G93 inverse time feed mode to achieve the desired
material removal rate.</p>
</div>
</div>
<div class="sect2">
<h3 id="common-error-messages">Common Error Messages</h3>
<div class="ulist">
<ul>
<li>
<p>'G code out of range' - A G code greater than G99 was used, the scope of G
codes in Machinekit is 0 - 99. Not every number between 0 and 99 is a valid
G code.</p>
</li>
<li>
<p>'Unknown g code used' - A G code was used that is not part of the Machinekit
G code language.</p>
</li>
<li>
<p>'i,j,k word with no Gx to use it' - i, j and k words must be used on the same
line as the G code.</p>
</li>
<li>
<p>'Cannot use axis values without a g code that uses them' - Axis values can
not be used on a line without either a modal G code in effect or a G code
on the same line.</p>
</li>
<li>
<p>'File ended with no percent sign or program end' - Every G code file must
end in a M2 or M30 or be wrapped with the percent sign %.</p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="numbered-parameters-persistence">Appendix A: Numbered Parameters persistence</h2>
<div class="sectionbody">
<div id="var_file_format" class="paragraph">
<p>The values of parameters in the persistent range are retained over
time, even if the machining center is powered down.  Machinekit uses a
parameter file to ensure persistence. It is managed by the
Interpreter. The Interpreter reads the file when it starts up, and
writes the file when it exits.</p>
</div>
<div class="paragraph">
<p>The format of a parameter file is shown in Table
<a href="#sec:format-parameter-file">Parameter File Format</a>.</p>
</div>
<div class="paragraph">
<p>The Interpreter expects the file to have two columns. It skips any
lines which do not contain exactly two numeric values. The first
column is expected to contain an integer value (the parameter&#8217;s
number). The second column contains a floating point number (this
parameter&#8217;s last value). The value is represented as a
double-precision floating point number inside the Interpreter, but a
decimal point is not required in the file.</p>
</div>
<div class="paragraph">
<p>Parameters in the user-defined range (31-5000) may be added to this
file. Such parameters will be read by the Interpreter and written to
the file as it exits.</p>
</div>
<div class="paragraph">
<p>Missing Parameters in the persistent range will be initialized to zero
and written with their current values on the next save operation.</p>
</div>
<div class="paragraph">
<p>The parameter numbers must be arranged in ascending order. An
<code>Parameter file out of order</code> error  will be signaled if they are  not in
ascending order.</p>
</div>
<div class="paragraph">
<p>The original file is saved as a backup file when the new file
is written.</p>
</div>
<table class="tableblock frame-all grid-all" style="width: 90%;">
<caption class="title">Table 10. Parameter File Format<a id="sec:format-parameter-file"></a></caption>
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Parameter Number</th>
<th class="tableblock halign-left valign-top">Parameter Value</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">5161</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.0</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">5162</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0.0</p></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="sect1">
<h2 id="g-codes">G Codes</h2>
<div class="sectionbody">
<div class="paragraph">
<p><a id="cha:g-codes"></a> </p>
</div>
<div class="sect2">
<h3 id="conventions">Conventions</h3>
<div class="paragraph">
<p>Conventions used in this section</p>
</div>
<div class="paragraph">
<p>In the G code prototypes the hyphen ('-') stands for a real value
and ('&lt;&gt;') denotes an optional item.</p>
</div>
<div class="paragraph">
<p>If 'L-' is written in a prototype the '-' will often be referred to
as the 'L number', and so on for any other letter.</p>
</div>
<div class="paragraph">
<p>In the G code prototypes the word 'axes' stands for any axis as defined
in your configuration.</p>
</div>
<div class="paragraph">
<p>An optional value will be written like this '&lt;L&#8594;'.</p>
</div>
<div class="paragraph">
<p>A real value may be:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>An explicit number, '4'</p>
</li>
<li>
<p>An expression, '[2+2]'</p>
</li>
<li>
<p>A parameter value, '#88'</p>
</li>
<li>
<p>A unary function value, 'acos[0]'</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>In most cases, if 'axis' words are given
(any or all of 'X Y Z A B C U V W'),
they specify a destination point.</p>
</div>
<div class="paragraph">
<p>Axis numbers are in the currently active coordinate system,
unless explicitly described as being
in the absolute coordinate system.</p>
</div>
<div class="paragraph">
<p>Where axis words are optional, any omitted axes will retain their original value.</p>
</div>
<div class="paragraph">
<p>Any items in the G code prototypes not explicitly described as
optional are required.</p>
</div>
<div class="paragraph">
<p>The values following letters are often given as explicit numbers.
Unless stated otherwise, the explicit numbers can be real values. For
example, 'G10 L2' could equally well be written 'G[2*5] L[1+1]'. If the
value of parameter 100 were 2, 'G10 L#100' would also mean the same.</p>
</div>
<div class="paragraph">
<p>If 'L-' is written in a prototype the '-' will often be referred to
as the 'L number', and so on for any other letter.</p>
</div>
</div>
<div class="sect2">
<h3 id="g-code-quick-reference-table-a-id-quick-reference-table-a">G Code Quick Reference Table<a id="quick-reference-table"></a></h3>
<div class="paragraph">
<p></p>
</div>
<table class="tableblock frame-all grid-all" style="width: 75%;">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Code</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#sec:G0">G0</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Coordinated Straight Motion Rapid Rate</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#sec:G1">G1</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Coordinated Straight Motion Feed Rate</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#sec:G2-G3-Arc">G2 G3</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Coordinated Helical Motion Feed Rate</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#sec:G4-Dwell">G4</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Dwell</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#sec:G5_1-B-spline">G5.1</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Quadratic B-Spline</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#sec:G5_2-G5_3-NURBs">G5.2 G5.3</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">NURBs Block</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#sec:G7-Diameter-Mode">G7</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Diameter Mode (lathe)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#sec:G8-Radius-Mode">G8</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Radius Mode (lathe)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#sec:G10-L1_">G10 L1</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Set Tool Table Entry</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#sec:G10-L10">G10 L10</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Set Tool Table, Calculated, Workpiece</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#sec:G10-L11">G10 L11</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Set Tool Table, Calculated, Fixture</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#sec:G10-L2_">G10 L2</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Coordinate System Origin Setting</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#sec:G10-L20">G10 L20</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Coordinate System Origin Setting Calculated</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#sec:G17-G18-G19">G17 - G19.1</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Plane Select</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#sec:G20-G21-Units">G20 G21</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Units of Measure</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#sec:G28-G28_1">G28 - G28.1</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Go to Predefined Position</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#sec:G30-G30_1">G30 - G30.1</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Go to Predefined Position</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#sec:G33-Spindle-Sync">G33</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Spindle Synchronized Motion</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#sec:G33_1-Rigid-Tapping">G33.1</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Rigid Tapping</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#sec:G38-probe">G38.2 - G38.5</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Probing</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#sec:G40">G40</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Cancel Cutter Compensation</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#sec:G41-G42">G41 G42</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Cutter Compensation</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#sec:G41_1-G42_1">G41.1 G42.1</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Dynamic Cutter Compensation</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#sec:G43">G43</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Use Tool Length Offset from Tool Table</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#sec:G43_1">G43.1</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Dynamic Tool Length Offset</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#sec:G49-Tool">G49</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Cancel Tool Length Offset</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#sec:G53-Move-in">G53</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Motion in Machine Coordinate System</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#sec:G54-G59_3">G54-G59</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Select Coordinate System (1 - 6)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#sec:G54-G59_3">G59.1-G59.3</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Select Coordinate System (7 - 9)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#sec:G61-G61_1">G61 G61.1</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Path Control Mode</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#sec:G64">G64</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Path Control Mode with Optional Tolerance</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#sec:G73-Drilling-Cycle">G73</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Drilling Cycle with Chip Breaking</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#sec:G76-Threading-Canned">G76</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Multi-pass Threading Cycle (Lathe)</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#sec:G80-Cancel-Modal">G80</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Cancel Motion Modes</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#sec:G81-Drilling-Cycle">G81</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Drilling Cycle</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#sec:G82-Drilling-Dwell">G82</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Drilling Cycle with Dwell</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#sec:G83-Drilling-Peck">G83</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Drilling Cycle with Peck</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#sec:G85-Boring-Feed-Out">G85</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Boring Cycle, No Dwell, Feed Out</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#sec:G86-Boring-Rapid-Out">G86</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Boring Cycle, Stop, Rapid Out</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#sec:G89-Boring-Dwell">G89</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Boring Cycle, Dwell, Feed Out</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#sec:G90-G91">G90 G91</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Distance Mode</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#sec:G90_1-G91_1">G90.1 G91.1</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Arc Distance Mode</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#sec:G92">G92</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Coordinate System Offset</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#sec:G92_1-G92_2">G92.1 G92.2</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Cancel Coordinate System Offsets</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#sec:G92_3">G92.3</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Restore Axis Offsets</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#sec:G93-G94-G95-Mode">G93 G94 G95</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Feed Modes</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#sec:G96-G97-Spindle">G96</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Constant Surface Speed</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#sec:G96-G97-Spindle">G97</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">RPM Mode</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#sec:G98-G99-Set">G98 G99</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Canned Cycle Z Retract Mode</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="sec:G0">G0 Rapid Move</h3>
<div class="paragraph">
<p></p>
</div>
<div class="listingblock">
<div class="content">
<pre>G0 axes</pre>
</div>
</div>
<div class="paragraph">
<p>For rapid linear (straight line) motion, program 'G0 'axes'', where
all the axis words are optional. The 'G0' is optional if the current
motion mode is 'G0'. This will produce coordinated linear motion to
the destination point at the maximum rapid rate (or slower).
It is expected that cutting will not take place when a 'G0' command is
executing.</p>
</div>
<div class="sect3">
<h4 id="sub:rapid-velocity">Rapid Velocity Rate</h4>
<div class="paragraph">
<p>The MAX_VELOCITY setting in the ini file [TRAJ] section defines the maximum
rapid traverse rate. The maximum rapid traverse rate can be higher than the
individual axes MAX_VELOCITY setting during a coordinated move. The maximum
rapid traverse rate can be slower than the MAX_VELOCITY setting in the [TRAJ]
section if an axis MAX_VELOCITY or trajectory constraints limit it.</p>
</div>
<div class="listingblock">
<div class="title">G0 Example</div>
<div class="content">
<pre>G90 (set absolute distance mode)
G0 X1 Y-2.3 (Rapid linear move from current location to X1 Y-2.3)
M2 (end program)</pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>See <a href="#sec:G90-G91">G90</a> &amp; <a href="#sec:M2-M30">M2</a> sections for more information.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>If cutter compensation is active, the motion will differ from
the above; see the <a href="#sec:cutter-compensation">Cutter Compensation</a> Section.</p>
</div>
<div class="paragraph">
<p>If 'G53' is programmed on the same line, the motion will also differ;
see the <a href="#sec:G53-Move-in">G53</a> Section for more information.</p>
</div>
<div class="paragraph">
<p>The path of a G0 rapid motion can be rounded at direction changes and depends
on the <a href="#sec:trajectory-control">trajectory control</a> settings and maximum
acceleration of the axes.</p>
</div>
<div class="paragraph">
<p>It is an error if:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>An axis letter is without a real value.</p>
</li>
<li>
<p>An axis letter is used that is not configured</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect2">
<h3 id="sec:G1">G1 Linear Move</h3>
<div class="paragraph">
<p></p>
</div>
<div class="listingblock">
<div class="content">
<pre>G1 axes</pre>
</div>
</div>
<div class="paragraph">
<p>For linear (straight line) motion at programed <a href="#sec:F-feed-rate">feed rate</a>
(for cutting or not), program 'G1 'axes'', where all the axis words are
optional. The 'G1' is optional if the current motion mode is 'G1'. This will
produce coordinated linear motion to the destination point at the current feed
rate (or slower if the machine will not go that fast).</p>
</div>
<div class="listingblock">
<div class="title">G1 Example</div>
<div class="content">
<pre>G90 (set absolute distance mode)
G1 X1.2 Y-3 F10 (linear move at a feed rate of 10 from current position to X1.2 Y-3)
Z-2.3 (linear move at same feed rate from current position to Z-2.3)
Z1 F25 (linear move at a feed rate of 25 from current position to Z1)
M2 (end program)</pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>See <a href="#sec:G90-G91">G90</a> &amp; <a href="#sec:F-feed-rate">F</a> &amp; <a href="#sec:M2-M30">M2</a> sections
for more information.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>If cutter compensation is active, the motion will differ from
the above; see the <a href="#sec:cutter-compensation">Cutter Compensation</a> Section.</p>
</div>
<div class="paragraph">
<p>If 'G53' is programmed on the same line, the motion will also differ;
see the <a href="#sec:G53-Move-in">G53</a> Section for more information.</p>
</div>
<div class="paragraph">
<p>It is an error if:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>No feed rate has been set.</p>
</li>
<li>
<p>An axis letter is without a real value.</p>
</li>
<li>
<p>An axis letter is used that is not configured</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="sec:G2-G3-Arc">G2, G3 Arc Move</h3>
<div class="paragraph">
<p></p>
</div>
<div class="listingblock">
<div class="content">
<pre>G2 or G3 axes offsets (center format)
G2 or G3 axes R- (radius format)
G2 or G3 offsets &lt;P-&gt; (full circles)</pre>
</div>
</div>
<div class="paragraph">
<p>A circular or helical arc is specified using either 'G2' (clockwise
arc) or 'G3' (counterclockwise arc) at the current
<a href="#sec:F-feed-rate">feed rate</a>. The direction (CW, CCW) is as viewed from the
positive end of the axis about which the circular motion occurs.</p>
</div>
<div class="paragraph">
<p>The axis of the circle or helix must be parallel to the
X, Y, or Z axis of the machine coordinate system.
The axis (or, equivalently, the plane perpendicular to the axis)
is selected with 'G17' (Z-axis, XY-plane),
'G18' (Y-axis, XZ-plane), or 'G19' (X-axis, YZ-plane).
Planes '17.1', '18.1', and '19.1' are not currently supported.
If the arc is circular,
it lies in a plane parallel to the selected plane.</p>
</div>
<div class="paragraph">
<p>To program a helix, include the axis word perpendicular to the arc
plane: for example, if in the 'G17' plane, include a 'Z' word. This
will cause the 'Z' axis to move to the programmed value during the
circular 'XY' motion.</p>
</div>
<div class="paragraph">
<p>To program an arc that gives more than one full turn, use the 'P' word
specifying the number of full turns plus the programmed arc. The 'P' word
must be an integer. If 'P' is unspecified, the behavior is as if 'P1' was
given: that is, only one full or partial turn will result. For example, if a
180 degree arc is programmed with a P2, the resulting motion will be 1 1/2
rotations. For each P increment above 1 an extra full circle is added to the
programmed arc. Multi turn helical arcs are supported and give motion useful
for milling holes or threads.</p>
</div>
<div class="paragraph">
<p>If a line of code makes an arc and includes rotary axis motion,
the rotary axes turn at a constant rate so that the rotary
motion starts and finishes when the XYZ motion starts and finishes.
Lines of this sort are hardly ever programmed.</p>
</div>
<div class="paragraph">
<p>If cutter compensation is active, the motion will differ from
the above; see the <a href="#sec:cutter-compensation">Cutter Compensation</a> Section.</p>
</div>
<div class="paragraph">
<p>The arc center is absolute or relative as set by <a href="#sec:G90_1-G91_1">G90.1
or G91.1</a> respectively.</p>
</div>
<div class="paragraph">
<p>Two formats are allowed for specifying an arc:
Center Format and Radius Format.</p>
</div>
<div class="paragraph">
<p>It is an error if:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>No feed rate has been set.</p>
</li>
<li>
<p>The P word is not an integer.</p>
</li>
</ul>
</div>
<div class="sect3">
<h4 id="center-format-arcs">Center Format Arcs</h4>
<div class="paragraph">
<p>Center format arcs are more accurate than radius format arcs and are
the preferred format to use.</p>
</div>
<div class="paragraph">
<p>The end point of the arc along with the offset to the center of the
arc from the current location are used to program arcs that are less
than a full circle. It is OK if the end point of the arc is the same
as the current location.</p>
</div>
<div class="paragraph">
<p>The offset to the center of the arc from the current location and
optionally the number of turns are used to program full circles.</p>
</div>
<div class="paragraph">
<p>When programming arcs an error due to rounding can result from using a
precision of less than 4 decimal places (0.0000) for inch and less than
3 decimal places (0.000) for millimeters.</p>
</div>
<div class="paragraph">
<div class="title">Incremental Arc Distance Mode</div>
<p>Arc center offsets are a relative distance from the start location of the arc.
Incremental Arc Distance Mode is default.</p>
</div>
<div class="paragraph">
<p>One or more axis words and one or more offsets must be programmed for an
arc that is less than 360 degrees.</p>
</div>
<div class="paragraph">
<p>No axis words and one or more offsets must be programmed for full circles.
The 'P' word defaults to 1 and is optional.</p>
</div>
<div class="paragraph">
<p>For more information on 'Incremental Arc Distance Mode see the
<a href="#sec:G90_1-G91_1">G91.1</a> section.</p>
</div>
<div class="paragraph">
<div class="title">Absolute Arc Distance Mode</div>
<p>Arc center offsets are the absolute distance from the current 0 position of the axis.</p>
</div>
<div class="paragraph">
<p>One or more axis words and 'both' offsets must be programmed for arcs
less than 360 degrees.</p>
</div>
<div class="paragraph">
<p>No axis words and both offsets must be programmed for full circles.
The 'P' word defaults to 1 and is optional.</p>
</div>
<div class="paragraph">
<p>For more information on 'Absolute Arc Distance Mode see the
<a href="#sec:G90_1-G91_1">G90.1</a> section.</p>
</div>
<div class="listingblock">
<div class="title">XY-plane (G17)</div>
<div class="content">
<pre>G2 or G3 &lt;X- Y- Z- I- J- P-&gt;</pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>'Z' - helix</p>
</li>
<li>
<p>'I' - X offset</p>
</li>
<li>
<p>'J' - Y offset</p>
</li>
<li>
<p>'P' - number of turns</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="title">XZ-plane (G18)</div>
<div class="content">
<pre>G2 or G3 &lt;X- Z- Y- I- K- P-&gt;</pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>'Y' - helix</p>
</li>
<li>
<p>'I' - X offset</p>
</li>
<li>
<p>'K' - Z offset</p>
</li>
<li>
<p>'P' - number of turns</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="title">YZ-plane (G19)</div>
<div class="content">
<pre>G2 or G3 &lt;Y- Z- X- J- K- P-&gt;</pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>'X' - helix</p>
</li>
<li>
<p>'J' - Y offset</p>
</li>
<li>
<p>'K' - Z offset</p>
</li>
<li>
<p>'P' - number of turns</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>It is an error if:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>No feed rate is set with the <a href="#sec:F-feed-rate">F</a> word.</p>
</li>
<li>
<p>No offsets are programmed.</p>
</li>
<li>
<p>When the arc is projected on the selected plane, the distance from
the current point to the center differs from the distance from the end
point to the center by more than (.05 inch/.5 mm)
OR ((.0005 inch/.005mm) AND .1% of radius).</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Deciphering the Error message 'Radius to end of arc differs from radius to start:'</p>
</div>
<div class="ulist">
<ul>
<li>
<p>'start' - the current position</p>
</li>
<li>
<p>'center' - the center position as calculated using the i,j or k words</p>
</li>
<li>
<p>'end' - the programmed end point</p>
</li>
<li>
<p>'r1' - radius from the start position to the center</p>
</li>
<li>
<p>'r2' - radius from the end position to the center</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="center-format-examples">Center Format Examples</h4>
<div class="paragraph">
<p>Calculating arcs by hand can be difficult at times. One option is to
draw the arc with a cad program to get the coordinates and offsets.
Keep in mind the tolerance mentioned above, you may have to change the
precision of your cad program to get the desired results. Another
option is to calculate the coordinates and offset using formulas. As
you can see in the following figures a triangle can be formed from the
current position the end position and the arc center.</p>
</div>
<div class="paragraph">
<p>In the following figure you can see the start position is X0 Y0, the
end position is X1 Y1. The arc center position is at X1 Y0. This gives
us an offset from the start position of 1 in the X axis and 0 in the Y
axis. In this case only an I offset is needed.</p>
</div>
<div class="listingblock">
<div class="title">G2 Example Line</div>
<div class="content">
<pre class="highlight"><code class="language-{basebackend@docbook:'':ngc}" data-lang="{basebackend@docbook:'':ngc}">G0 X0 Y0
G2 X1 Y1 I1 F10 (clockwise arc in the XY plane)</code></pre>
</div>
</div>
<div class="imageblock" style="text-align: center">
<div class="content">
<img src="../gcode/images/g2.png" alt="g2">
</div>
<div class="title">Figure 49. G2 Example<a id="fig:G2-Example"></a></div>
</div>
<div class="paragraph">
<p>In the next example we see the difference between the offsets for Y if
we are doing a G2 or a G3 move. For the G2 move the start position is
X0 Y0, for the G3 move it is X0 Y1. The arc center is at X1 Y0.5 for
both moves. The G2 move the J offset is 0.5 and the G3 move the J
offset is -0.5.</p>
</div>
<div class="listingblock">
<div class="title">G2-G3 Example Line</div>
<div class="content">
<pre class="highlight"><code class="language-{basebackend@docbook:'':ngc}" data-lang="{basebackend@docbook:'':ngc}">G0 X0 Y0
G2 X0 Y1 I1 J0.5 F25 (clockwise arc in the XY plane)
G3 X0 Y0 I1 J-0.5 F25 (counterclockwise arc in the XY plane)</code></pre>
</div>
</div>
<div class="imageblock" style="text-align: center">
<div class="content">
<img src="../gcode/images/g2-3.png" alt="g2 3">
</div>
<div class="title">Figure 50. G2-G3 Example<a id="fig:G2-G3-Example"></a></div>
</div>
<div class="listingblock">
<div class="title">G2 Example Line</div>
<div class="content">
<pre class="highlight"><code class="language-{basebackend@docbook:'':ngc}" data-lang="{basebackend@docbook:'':ngc}">G0 X0 Y0 Z0
G17 G2 X10 Y16 I3 J4 Z-1 (helix arc with Z added)</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">P word Example</div>
<div class="content">
<pre>G0 X0 Y0 Z0
G2 X0 Y1 Z-1 I1 J0.5 P2 F25</pre>
</div>
</div>
<div class="paragraph">
<p>The above example line will make a clockwise (as viewed from the positive Z-axis)
circular or helical arc whose axis is parallel to the Z-axis, ending
where X=10, Y=16, and Z=9, with its center offset in the X direction by
3 units from the current X location and offset in the Y direction by 4
units from the current Y location. If the current location has X=7, Y=7
at the outset, the center will be at X=10, Y=11. If the starting value
of Z is 9, this is a circular arc; otherwise it is a helical arc. The
radius of this arc would be 5.</p>
</div>
<div class="paragraph">
<p>In the center format, the radius of the arc is not specified, but it
may be found easily as the distance from the center of the circle to
either the current point or the end point of the arc.</p>
</div>
</div>
<div class="sect3">
<h4 id="radius-format-arcs">Radius Format Arcs</h4>
<div class="listingblock">
<div class="content">
<pre>G2 or G3 axes R-</pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>'R' - radius from current position</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>It is not good practice to program radius format arcs that are nearly
full circles or nearly semicircles because a small change in the
location of the end point will produce a much larger change in the
location of the center of the circle (and, hence, the middle of the
arc). The magnification effect is large enough that rounding error in a
number can produce out-of-tolerance cuts. For instance, a 1%
displacement of the endpoint of a 180 degree arc produced a 7%
displacement of the point 90 degrees along the arc. Nearly full circles
are even worse. Other size arcs (in the range tiny to 165 degrees or
195 to 345 degrees) are OK.</p>
</div>
<div class="paragraph">
<p>In the radius format, the coordinates of the end point of the arc in
the selected plane are specified along with the radius of the arc.
Program 'G2' 'axes' 'R-' (or use 'G3' instead of 'G2' ). R is the
radius. The axis words are all optional except that at
least one of the two words for the axes in the selected plane must be
used. The R number is the radius. A positive radius indicates that the
arc turns through less than 180 degrees, while a negative radius
indicates a turn of more than 180 degrees. If the arc is helical, the
value of the end point of the arc on the coordinate axis parallel to
the axis of the helix is also specified.</p>
</div>
<div class="paragraph">
<p>It is an error if:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>both of the axis words for the axes of the selected plane are omitted</p>
</li>
<li>
<p>the end point of the arc is the same as the current point.</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="title">G2 Example Line</div>
<div class="content">
<pre class="highlight"><code class="language-{basebackend@docbook:'':ngc}" data-lang="{basebackend@docbook:'':ngc}">G17 G2 X10 Y15 R20 Z5 (radius format with arc)</code></pre>
</div>
</div>
<div class="paragraph">
<p>The above example makes a clockwise (as viewed from the positive Z-axis)
circular or helical arc whose axis is parallel to the Z-axis, ending
where X=10, Y=15, and Z=5, with a radius of 20. If the starting value
of Z is 5, this is an arc of a circle parallel to the XY-plane;
otherwise it is a helical arc.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="sec:G4-Dwell">G4 Dwell</h3>
<div class="paragraph">
<p></p>
</div>
<div class="listingblock">
<div class="content">
<pre>G4 P-</pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>'P' - seconds to dwell (floating point)</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The P number is the time in seconds that all axes will remain unmoving.
The P number is a floating point number so fractions of a second may be used.
G4 does not affect spindle, coolant and any I/O.</p>
</div>
<div class="listingblock">
<div class="title">G4 Example Line</div>
<div class="content">
<pre>G4 P0.5 (wait for 0.5 seconds before proceeding)</pre>
</div>
</div>
<div class="paragraph">
<p>It is an error if:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>the P number is negative or not specified.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="sec:G5_1-B-spline">G5.1 Quadratic B-spline</h3>
<div class="paragraph">
<p></p>
</div>
<div class="listingblock">
<div class="content">
<pre>G5.1 X- Y- I- J-</pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>'I' - X axis offset</p>
</li>
<li>
<p>'J' - Y axis offset</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>G5.1 creates a quadratic B-spline in the XY plane with the X and Y axis only.
The offsets are I for X axis and J for Y axis.</p>
</div>
<div class="paragraph">
<p>It is an error if:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>I and J offset is not specified</p>
</li>
<li>
<p>An axis other than X or Y is specified</p>
</li>
<li>
<p>The active plane is not G17</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="sec:G5_2-G5_3-NURBs">G5.2 G5.3 NURBs Block</h3>
<div class="paragraph">
<p></p>
</div>
<div class="listingblock">
<div class="content">
<pre>G5.2 X- Y- P- &lt;L-&gt;
X- Y- P- &lt;L-&gt;
...
G5.3</pre>
</div>
</div>
<div class="paragraph">
<p>Warning: G5.2, G5.3 is experimental and not fully tested.</p>
</div>
<div class="paragraph">
<p>G5.2 is for opening the data block defining a NURBs and G5.3 for
closing the data block. In the lines between these two codes the curve
control points are defined with both their related 'weights' (P) and
their parameter (L) which determines the order of the curve (k) and
subsequently its degree (k-1).</p>
</div>
<div class="paragraph">
<p>Using this curve definition the knots of the NURBs curve are not
defined by the user they are calculated by the inside algorithm, in the
same way as it happens in a great number of graphic applications, where
the curve shape can be modified only acting on either control points or
weights.</p>
</div>
<div class="listingblock">
<div class="title">G5.2 Example</div>
<div class="content">
<pre class="highlight"><code class="language-{basebackend@docbook:'':ngc}" data-lang="{basebackend@docbook:'':ngc}">G0 X0 Y0 (rapid move)
F10 (set feed rate)
G5.2 X0 Y1 P1 L3
     X2 Y2 P1
     X2 Y0 P1
     X0 Y0 P2
G5.3
; The rapid moves show the same path without the NURBs Block
G0 X0 Y1
   X2 Y2
   X2 Y0
   X0 Y0
M2</code></pre>
</div>
</div>
<div class="paragraph">
<div class="title">Sample NURBs Output</div>
<p><span class="image"><img src="../gcode/images/nurbs01.png" alt="nurbs01"></span></p>
</div>
<div class="paragraph">
<p>More information on NURBs can be found here:</p>
</div>
<div class="paragraph">
<p><a href="http://wiki.machinekit.org/cgi-bin/wiki.pl?NURBS">http://wiki.machinekit.org/cgi-bin/wiki.pl?NURBS</a></p>
</div>
</div>
<div class="sect2">
<h3 id="sec:G7-Diameter-Mode">G7 Lathe Diameter Mode</h3>
<div class="paragraph">
<p></p>
</div>
<div class="listingblock">
<div class="content">
<pre>G7</pre>
</div>
</div>
<div class="paragraph">
<p>Program G7 to enter the diameter mode for axis X on a lathe. When in
the diameter mode the X axis moves on a lathe will be 1/2 the distance
to the center of the lathe. For example X1 would move the cutter to
0.500” from the center of the lathe thus giving a 1” diameter part.</p>
</div>
</div>
<div class="sect2">
<h3 id="sec:G8-Radius-Mode">G8 Lathe Radius Mode</h3>
<div class="paragraph">
<p></p>
</div>
<div class="listingblock">
<div class="content">
<pre>G8</pre>
</div>
</div>
<div class="paragraph">
<p>Program G8 to enter the radius mode for axis X on a lathe. When in
Radius mode the X axis moves on a lathe will be the distance from the
center. Thus a cut at X1 would result in a part that is 2" in diameter.
G8 is default at power up.</p>
</div>
</div>
<div class="sect2">
<h3 id="sec:G10-L1_">G10 L1 Set Tool Table</h3>
<div class="paragraph">
<p></p>
</div>
<div class="listingblock">
<div class="content">
<pre>G10 L1 P- axes &lt;R- I- J- Q-&gt;</pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>'P' - tool number</p>
</li>
<li>
<p>'R' - radius of tool</p>
</li>
<li>
<p>'I' - front angle (lathe)</p>
</li>
<li>
<p>'J' - back angle (lathe)</p>
</li>
<li>
<p>'Q' - orientation (lathe)</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>G10 L1 sets the tool table for the 'P' tool number to the values of the words.</p>
</div>
<div class="paragraph">
<p>A valid G10 L1 rewrites and reloads the tool table.</p>
</div>
<div class="listingblock">
<div class="title">G10 L1 Example Line</div>
<div class="content">
<pre>G10 L1 P1 Z1.5 (set tool 1 Z offset from the machine origin to 1.5)
G10 L1 P2 R0.015 Q3 (lathe example setting tool 2 radius to 0.015 and orientation to 3)</pre>
</div>
</div>
<div class="paragraph">
<p>It is an error if:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Cutter Compensation is on</p>
</li>
<li>
<p>The P number is unspecified</p>
</li>
<li>
<p>The P number is not a valid tool number from the tool table</p>
</li>
<li>
<p>The P number is 0</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>For more information on cutter orientation used by the 'Q' word,
see the <a href="#lathe-tool-orientation">Lathe Tool Orientation</a> diagram.</p>
</div>
</div>
<div class="sect2">
<h3 id="sec:G10-L2_">G10 L2 Set Coordinate System</h3>
<div class="paragraph">
<p></p>
</div>
<div class="listingblock">
<div class="content">
<pre>G10 L2 P- &lt;axes R-&gt;</pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>'P' - coordinate system (0-9)</p>
</li>
<li>
<p>'R' - rotation about the Z axis</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>G10 L2 offsets the origin of the axes in the coordinate system specified to
the value of the axis word. The offset is from the machine origin established
during homing. The offset value will replace any current offsets in effect for
the coordinate system specified. Axis words not used will not be changed.</p>
</div>
<div class="paragraph">
<p>Program P0 to P9 to specify which coordinate system to change.</p>
</div>
<table class="tableblock frame-all grid-all" style="width: 50%;">
<caption class="title">Table 11. Coordinate System<a id="cap:Set-Coordinate-System"></a></caption>
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-center valign-top">P Value</th>
<th class="tableblock halign-center valign-top">Coordinate System</th>
<th class="tableblock halign-center valign-top">G code</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">0</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">Active</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">n/a</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">G54</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">G55</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">3</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">3</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">G56</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">4</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">4</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">G57</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">5</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">5</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">G58</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">6</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">6</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">G59</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">7</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">7</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">G59.1</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">8</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">8</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">G59.2</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">9</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">9</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">G59.3</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Optionally program R to indicate the rotation of the XY axis around the Z axis.
The direction of rotation is CCW as viewed from the positive end of the Z axis.</p>
</div>
<div class="paragraph">
<p>All axis words are optional.</p>
</div>
<div class="paragraph">
<p>Being in incremental distance mode (<a href="#sec:G90-G91">'G91'</a>) has no effect on 'G10 L2'.</p>
</div>
<div class="paragraph">
<p>Important Concepts:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>G10 L2 Pn does not change from the current coordinate system to the one specified by P,
you have to use G54-59.3 to select a coordinate system.</p>
</li>
<li>
<p>When a rotation is in effect jogging an axis will only move that axis
in a positive or negative direction and not along the rotated axis.</p>
</li>
<li>
<p>If a 'G92' origin offset was in effect before 'G10 L2',
it will continue to be in effect afterwards.</p>
</li>
<li>
<p>The coordinate system whose origin is set by a 'G10' command may be
active or inactive at the time the 'G10' is executed.
If it is currently active, the new coordinates take effect immediately.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>It is an error if:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>The P number does not evaluate to an integer in the range 0 to 9.</p>
</li>
<li>
<p>An axis is programmed that is not defined in the configuration.</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="title">G10 L2 Example Line</div>
<div class="content">
<pre class="highlight"><code class="language-{basebackend@docbook:'':ngc}" data-lang="{basebackend@docbook:'':ngc}">G10 L2 P1 X3.5 Y17.2</code></pre>
</div>
</div>
<div class="paragraph">
<p>In the above example the origin of the first coordinate system
(the one selected by 'G54') is set to be X=3.5 and Y=17.2.
Because only X and Y are specified, the origin point is only moved in X and Y;
the other coordinates are not changed.</p>
</div>
<div class="listingblock">
<div class="title">G10 L2 Example Line</div>
<div class="content">
<pre class="highlight"><code class="language-{basebackend@docbook:'':ngc}" data-lang="{basebackend@docbook:'':ngc}">G10 L2 P1 X0 Y0 Z0 (clear offsets for X,Y &amp; Z axes in coordinate system 1)</code></pre>
</div>
</div>
<div class="paragraph">
<p>The above example sets the XYZ coordinates of the coordinate system 1 to the machine origin.</p>
</div>
<div class="paragraph">
<p>The coordinate system is described in the <a href="#cha:coordinate-system">Coordinate System</a> Section.</p>
</div>
</div>
<div class="sect2">
<h3 id="sec:G10-L10">G10 L10 Set Tool Table</h3>
<div class="paragraph">
<p></p>
</div>
<div class="listingblock">
<div class="content">
<pre>G10 L10 P- axes &lt;R- I- J- Q-&gt;</pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>'P' - tool number</p>
</li>
<li>
<p>'R' - radius of tool</p>
</li>
<li>
<p>'I' - front angle (lathe)</p>
</li>
<li>
<p>'J' - back angle (lathe)</p>
</li>
<li>
<p>'Q' - orientation (lathe)</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>G10 L10 changes the tool table entry for tool P so that if the
tool offset is reloaded, with the machine in its current position
and with the current G5x and G92 offsets active, the current coordinates
for the given axes will become the given values. The axes that are
not specified in the G10 L10 command will not be changed. This could be
useful with a probe move as described in the <a href="#sec:G38-probe">G38</a> section.</p>
</div>
<div class="listingblock">
<div class="title">G10 L10 Example</div>
<div class="content">
<pre>T1 M6 G43 (load tool 1 and tool length offsets)
G10 L10 P1 Z1.5 (set the current position for Z to be 1.5)
G43 (reload the tool length offsets from the changed tool table)
M2 (end program)</pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>See <a href="#sec:T-Select-Tool">T</a> &amp; <a href="#sec:M6-Tool-Change">M6</a>, and
<a href="#sec:G43">G43</a>/<a href="#sec:G43_1">G43.1</a> sections for more information.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>It is an error if:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Cutter Compensation is on</p>
</li>
<li>
<p>The P number is unspecified</p>
</li>
<li>
<p>The P number is not a valid tool number from the tool table</p>
</li>
<li>
<p>The P number is 0</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="sec:G10-L11">G10 L11 Set Tool Table</h3>
<div class="paragraph">
<p></p>
</div>
<div class="listingblock">
<div class="content">
<pre>G10 L11 P- axes &lt;R- I- J- Q-&gt;</pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>'P' - tool number</p>
</li>
<li>
<p>'R' - radius of tool</p>
</li>
<li>
<p>'I' - front angle (lathe)</p>
</li>
<li>
<p>'J' - back angle (lathe)</p>
</li>
<li>
<p>'Q' - orientation (lathe)</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>G10 L11 is just like G10 L10 except that instead of setting the entry
according to the current offsets, it is set so that the current
coordinates would become the given value if the new tool offset
is reloaded and the machine is placed in the G59.3 coordinate
system without any G92 offset active.</p>
</div>
<div class="paragraph">
<p>This allows the user to set the G59.3 coordinate system according to a
fixed point on the machine, and then use that fixture to measure tools
without regard to other currently-active offsets.</p>
</div>
<div class="paragraph">
<p>It is an error if:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Cutter Compensation is on</p>
</li>
<li>
<p>The P number is unspecified</p>
</li>
<li>
<p>The P number is not a valid tool number from the tool table</p>
</li>
<li>
<p>The P number is 0</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="sec:G10-L20">G10 L20 Set Coordinate System</h3>
<div class="paragraph">
<p></p>
</div>
<div class="listingblock">
<div class="content">
<pre>G10 L20 P- axes</pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>'P' - coordinate system (0-9)</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>G10 L20 is similar to G10 L2 except that instead of setting the
offset/entry to the given value, it is set to a calculated value that
makes the current coordinates become the given value.</p>
</div>
<div class="listingblock">
<div class="title">G10 L20 Example Line</div>
<div class="content">
<pre>G10 L20 P1 X1.5 (set the X axis current location in coordinate system 1 to 1.5)</pre>
</div>
</div>
<div class="paragraph">
<p>It is an error if:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>The P number does not evaluate to an integer in the range 0 to 9.</p>
</li>
<li>
<p>An axis is programmed that is not defined in the configuration.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="sec:G17-G18-G19">G17 - G19.1 Plane Selection</h3>
<div class="paragraph">
<p></p>
</div>
<div class="paragraph">
<p>These codes set the current plane as follows:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>'G17' - XY (default)</p>
</li>
<li>
<p>'G18' - ZX</p>
</li>
<li>
<p>'G19' - YZ</p>
</li>
<li>
<p>'G17.1' - UV</p>
</li>
<li>
<p>'G18.1' - WU</p>
</li>
<li>
<p>'G19.1' - VW</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The UV, WU and VW planes do not support arcs.</p>
</div>
<div class="paragraph">
<p>It is a good idea to include a plane selection in the preamble
of each G code file.</p>
</div>
<div class="paragraph">
<p>The effects of having a plane selected are discussed in Section
<a href="#sec:G2-G3-Arc">G2 G3</a> and Section <a href="#sec:G80-G89">G81 G89</a></p>
</div>
</div>
<div class="sect2">
<h3 id="sec:G20-G21-Units">G20, G21 Units</h3>
<div class="paragraph">
<p></p>
</div>
<div class="ulist">
<ul>
<li>
<p>'G20' - to use inches for length units.</p>
</li>
<li>
<p>'G21' - to use millimeters for length units.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>It is a good idea to include units in the preamble
of each G code file.</p>
</div>
</div>
<div class="sect2">
<h3 id="sec:G28-G28_1">G28, G28.1 Go to Predefined Position</h3>
<div class="paragraph">
<p></p>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<div class="title">Warning</div>
</td>
<td class="content">
Only use G28 when your machine is homed to a repeatable position and the
desired G28 position has been stored with G28.1.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>G28 uses the values stored in <a href="#sub:numbered-parameters">parameters</a>
5161-5166 as the X Y Z A B C U V W final point to move to. The parameter
values are 'absolute' machine coordinates in the native machine 'units' as
specifed in the ini file. All axes defined in the ini file will be moved when
a G28 is issued.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>'G28' - makes a <a href="#sec:G0">rapid move</a> from the current
position to the 'absolute' position of the values in parameters 5161-5166.</p>
</li>
<li>
<p>'G28 axes' - makes a <a href="#sec:G0">rapid move</a> to the
position specified by 'axes' including any offsets, then will make a rapid
move to the 'absolute' position of the values in parameters 5161-5166 for
'axes' specified. Any 'axis' not specified will not move.</p>
</li>
<li>
<p>'G28.1' - stores the current 'absolute' position into parameters 5161-5166.</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="title">G28 Example Line</div>
<div class="content">
<pre>G28 Z2.5 (rapid to Z2.5 then to location specified in the G28 stored parameters)</pre>
</div>
</div>
<div class="paragraph">
<p>It is an error if :</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Cutter Compensation is turned on</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="sec:G30-G30_1">G30, G30.1 Go to Predefined Position</h3>
<div class="paragraph">
<p></p>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<div class="title">Warning</div>
</td>
<td class="content">
Only use G30 when your machine is homed to a repeatable position and the
desired G30 position has been stored with G30.1.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>G30 functions the same as G28 but uses the values stored in
<a href="#sub:numbered-parameters">parameters</a> 5181-5186 as the X Y Z A B C U V W
final point to move to. The parameter values are 'absolute' machine
coordinates in the native machine 'units' as specifed in the ini file.
All axes defined in the ini file will be moved when a G30 is issued.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
G30 parameters will be used to move the tool when a M6 is programmed
if [TOOL_CHANGE_AT_G30]=1 is in the [EMCIO] section of the ini file.
</td>
</tr>
</table>
</div>
<div class="ulist">
<ul>
<li>
<p>'G30' - makes a <a href="#sec:G0">rapid move</a> from the current
position to the 'absolute' position of the values in parameters 5181-5186.</p>
</li>
<li>
<p>'G30 axes' - makes a <a href="#sec:G0">rapid move</a> to the position specified
by 'axes' including any offsets, then will make a rapid move to the
'absolute' position of the values in parameters 5181-5186 for 'axes'
specified. Any 'axis' not specified will not move.</p>
</li>
<li>
<p>'G30.1' - stores the current absolute position into parameters 5181-5186.</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="title">G30 Example Line</div>
<div class="content">
<pre>G30 Z2.5 (rapid to Z2.5 then to the location specified in the G30 stored parameters)</pre>
</div>
</div>
<div class="paragraph">
<p>It is an error if :</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Cutter Compensation is turned on</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="sec:G33-Spindle-Sync">G33 Spindle Synchronized Motion</h3>
<div class="paragraph">
<p></p>
</div>
<div class="listingblock">
<div class="content">
<pre>G33 X- Y- Z- K-</pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>'K' - distance per revolution</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>For spindle-synchronized motion in one direction, code 'G33 X- Y- Z- K-'
where K gives the distance moved in XYZ for each revolution of the spindle.
For instance, if starting at 'Z=0', 'G33 Z-1 K.0625' produces
a 1 inch motion in Z over 16 revolutions of the spindle.
This command might be part of a program to produce a 16TPI thread.
Another example in metric, 'G33 Z-15 K1.5' produces
a movement of 15mm while the spindle rotates 10 times for a thread of 1.5mm.</p>
</div>
<div class="paragraph">
<p>Spindle-synchronized motion waits for the spindle index and spindle at speed
pins, so multiple passes line up. 'G33' moves end at the programmed endpoint.
G33 could be used to cut tapered threads or a fusee.</p>
</div>
<div class="paragraph">
<p>All the axis words are optional, except that at least one must be used.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
K follows the drive line described by 'X- Y- Z-'. K is not parallel to
the Z axis if X or Y endpoints are used for example when cutting tapered
threads.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<div class="title">Technical Info<a id="g33-tech-info"></a></div>
<p>At the beginning of each G33 pass, Machinekit uses the spindle speed and the
machine acceleration limits to calculate how long it will take Z to
accelerate after the index pulse, and determines how many degrees the
spindle will rotate during that time. It then adds that angle to the
index position and computes the Z position using the corrected spindle
angle. That means that Z will reach the correct position just as it
finishes accelerating to the proper speed, and can immediately begin
cutting a good thread.</p>
</div>
<div class="paragraph">
<div class="title">HAL Connections</div>
<p>The pins 'motion.spindle-at-speed' and the 'encoder.n.phase-Z' for the
spindle must be connected in your HAL file before G33 will work.
See the Integrators Manual for more information on spindle synchronized motion.</p>
</div>
<div class="listingblock">
<div class="title">G33 Example</div>
<div class="content">
<pre>G90 (absolute distance mode)
G0 X1 Z0.1 (rapid to position)
S100 M3 (start spindle turning)
G33 Z-2 K0.125 (move Z axis to -2 at a rate to equal 0.125 per revolution)
G0 X1.25 (rapid move tool away from work)
Z0.1 (rapid move to starting Z position)
M2 (end program)</pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>See <a href="#sec:G90-G91">G90</a> &amp; <a href="#sec:G0">G0</a> &amp; <a href="#sec:M2-M30">M2</a> sections for more information.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>It is an error if:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>All axis words are omitted.</p>
</li>
<li>
<p>The spindle is not turning when this command is executed</p>
</li>
<li>
<p>The requested linear motion exceeds machine velocity limits
due to the spindle speed</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="sec:G33_1-Rigid-Tapping">G33.1 Rigid Tapping</h3>
<div class="paragraph">
<p></p>
</div>
<div class="listingblock">
<div class="content">
<pre>G33.1 X- Y- Z- K-</pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>'K' - distance per revolution</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>For rigid tapping (spindle synchronized motion with return),
code 'G33.1 X- Y- Z- K-' where 'K-' gives the distance moved
for each revolution of the spindle.
A rigid tapping move consists of the following sequence:</p>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<div class="title">Warning</div>
</td>
<td class="content">
If the X Y coordinates specified are not the current coordinates when
calling G33.1 for tapping the move will not be along the Z axis
but will <a href="#sec:G0">rapid move</a> from the current location to
the X Y location specified.
</td>
</tr>
</table>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>A move to the specified coordinate, synchronized with the spindle at
the given ratio and starting with a spindle index pulse.</p>
</li>
<li>
<p>When reaching the endpoint, a command to reverse the spindle (e.g.,
from clockwise to counterclockwise).</p>
</li>
<li>
<p>Continued synchronized motion beyond the specified end coordinate
until the spindle actually stops and reverses.</p>
</li>
<li>
<p>Continued synchronized motion back to the original coordinate.</p>
</li>
<li>
<p>When reaching the original coordinate,
a command to reverse the spindle a second time
(e.g., from counterclockwise to clockwise).</p>
</li>
<li>
<p>Continued synchronized motion beyond the original coordinate
until the spindle actually stops and reverses.</p>
</li>
<li>
<p>An <strong>unsynchronized</strong> move back to the original coordinate.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>Spindle-synchronized motions wait for spindle index,
so multiple passes line up.
'G33.1' moves end at the original coordinate.</p>
</div>
<div class="paragraph">
<p>All the axis words are optional, except that at least one must be used.</p>
</div>
<div class="listingblock">
<div class="title">G33.1 Example</div>
<div class="content">
<pre class="highlight"><code class="language-{basebackend@docbook:'':ngc}" data-lang="{basebackend@docbook:'':ngc}">G90 (set absolute mode)
G0 X1.000 Y1.000 Z0.100 (rapid move to starting position)
G33.1 Z-0.750 K0.05 (rigid tap a 20 TPI thread 0.750 deep)
M2 (end program)</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>See <a href="#sec:G90-G91">G90</a> &amp; <a href="#sec:G0">G0</a> &amp; <a href="#sec:M2-M30">M2</a> sections for more information.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>It is an error if:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>All axis words are omitted.</p>
</li>
<li>
<p>The spindle is not turning when this command is executed</p>
</li>
<li>
<p>The requested linear motion exceeds machine velocity limits
due to the spindle speed</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="sec:G38-probe">G38.x Straight Probe</h3>
<div class="paragraph">
<p></p>
</div>
<div class="listingblock">
<div class="content">
<pre>G38.x axes</pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>'G38.2' - probe toward workpiece, stop on contact, signal error if failure</p>
</li>
<li>
<p>'G38.3' - probe toward workpiece, stop on contact</p>
</li>
<li>
<p>'G38.4' - probe away from workpiece, stop on loss of contact, signal error if failure</p>
</li>
<li>
<p>'G38.5' - probe away from workpiece, stop on loss of contact</p>
</li>
</ul>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<div class="title">Important</div>
</td>
<td class="content">
You will not be able to use a probe move until your
machine has been set up to provide a probe input signal.
The probe input signal must be connected to 'motion.probe-input' in a .hal file.
G38.x uses motion.probe-input to determine when the probe has made (or lost) contact.
TRUE for probe contact closed (touching), FALSE for probe contact open.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Program 'G38.x axes' to perform a straight probe operation.
The axis words are optional, except that at least one of them must be used.
The axis words together define the destination point that the probe will move towards,
starting from the current location. If the probe is not tripped before the destination
is reached G38.2 and G38.4 will signal an error.</p>
</div>
<div class="paragraph">
<p>The tool in the spindle must be a probe or contact a probe switch.</p>
</div>
<div class="paragraph">
<p>In response to this command, the machine moves the controlled point
(which should be at the center of the probe ball) in a straight line at the
current <a href="#sec:F-feed-rate">feed rate</a> toward the programmed point.
In inverse time feed mode, the feed rate is such that the whole motion
from the current point to the programmed point would take the specified time.
The move stops (within machine acceleration limits)
when the programmed point is reached,
or when the requested change in the probe input takes place,
whichever occurs first.</p>
</div>
<div class="paragraph">
<p>After successful probing, parameters 5061 to 5069 will be set to the
coordinates of X, Y, Z, A, B, C, U, V, W of the location of the controlled point
at the time the probe changed state.
After unsuccessful probing, they are set to the coordinates of the programmed point.
Parameter 5070 is set to 1 if the probe succeeded and 0 if the probe failed.
If the probing operation failed, G38.2 and G38.4 will signal an error
by posting an message on screen if the selected GUI supports that.
And by halting program execution.</p>
</div>
<div class="paragraph">
<p>A comment of the form '(PROBEOPEN filename.txt)' will open
'filename.txt' and store the 9-number coordinate consisting of
XYZABCUVW of each successful straight probe in it.
The file must be closed with '(PROBECLOSE)'. For more information
see the <a href="#sec:comments">Comments</a> Section.</p>
</div>
<div class="paragraph">
<p>An example file 'smartprobe.ngc' is included (in the examples directory)
to demonstrate using probe moves to log to a file the coordinates of a part.
The program 'smartprobe.ngc' could be used with 'ngcgui' with minimal changes.</p>
</div>
<div class="paragraph">
<p>It is an error if:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>the current point is the same as the programmed point.</p>
</li>
<li>
<p>no axis word is used</p>
</li>
<li>
<p>cutter compensation is enabled</p>
</li>
<li>
<p>the feed rate is zero</p>
</li>
<li>
<p>the probe is already in the target state</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="sec:G40">G40 Compensation Off</h3>
<div class="paragraph">
<p></p>
</div>
<div class="ulist">
<ul>
<li>
<p>'G40' - turn cutter compensation off. If tool compensation was on the
next move must be a linear move and longer than the tool diameter.
It is OK to turn compensation off when it is already off.</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="title">G40 Example</div>
<div class="content">
<pre>; current location is X1 after finishing cutter compensated move
G40 (turn compensation off)
G0 X1.6 (linear move longer than current cutter diameter)
M2 (end program)</pre>
</div>
</div>
<div class="paragraph">
<p>See <a href="#sec:G0">G0</a> &amp; <a href="#sec:M2-M30">M2</a> sections for more information.</p>
</div>
<div class="paragraph">
<p>It is an error if:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>A G2/G3 arc move is programmed next after a G40.</p>
</li>
<li>
<p>The linear move after turning compensation off is less than the tool diameter.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="sec:G41-G42">G41, G42 Cutter Compensation</h3>
<div class="paragraph">
<p></p>
</div>
<div class="listingblock">
<div class="content">
<pre>G41 &lt;D-&gt; (left of programmed path)
G42 &lt;D-&gt; (right of programmed path)</pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>'D' - tool number</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The D word is optional; if there is no D word the radius of the currently
loaded tool will be used (if no tool is loaded and no D word is given,
a radius of 0 will be used).</p>
</div>
<div class="paragraph">
<p>If supplied, the D word is the tool number to use.  This would normally
be the number of the tool in the spindle (in which case the D word is
redundant and need not be supplied), but it may be any valid tool number.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
'G41/G42 D0' is a little special.  Its behavior is different on
random tool changer machines and nonrandom tool changer machines
(see the <a href="#sec:Tool-Changers">Tool Changers</a> section).  On nonrandom
tool changer machines, 'G41/G42 D0' applies the TLO of the tool currently
in the spindle, or a TLO of 0 if no tool is in the spindle.  On random
tool changer machines, 'G41/G42 D0' applies the TLO of the tool T0 defined
in the tool table file (or causes an error if T0 is not defined in the
tool table).
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>To start cutter compensation to the left of the part profile, use G41.
G41 starts cutter compensation to the left of the programmed line
as viewed from the positive end of the axis perpendicular to the plane.</p>
</div>
<div class="paragraph">
<p>To start cutter compensation to the right of the part profile, use G42.
G42 starts cutter compensation to the right of the programmed line
as viewed from the positive end of the axis perpendicular to the plane.</p>
</div>
<div class="paragraph">
<p>The lead in move must be at least as long as the tool radius.
The lead in move can be a rapid move.</p>
</div>
<div class="paragraph">
<p>Cutter compensation may be performed if the XY-plane or XZ-plane is active.</p>
</div>
<div class="paragraph">
<p>User M100-M199 commands are allowed when Cutter Compensation is on.</p>
</div>
<div class="paragraph">
<p>The behavior of the machining center when cutter compensation
is on is described in the <a href="#sec:cutter-compensation">Cutter Compensation</a>
Section along with code examples.</p>
</div>
<div class="paragraph">
<p>It is an error if:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>The D number is not a valid tool number or 0.</p>
</li>
<li>
<p>The YZ plane is active.</p>
</li>
<li>
<p>Cutter compensation is commanded to turn on when it is already on.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="sec:G41_1-G42_1">G41.1, G42.1 Dynamic Cutter Compensation</h3>
<div class="paragraph">
<p></p>
</div>
<div class="listingblock">
<div class="content">
<pre>G41.1 D- &lt;L-&gt; (left of programmed path)
G42.1 D- &lt;L-&gt; (right of programmed path)</pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>'D' - cutter diameter</p>
</li>
<li>
<p>'L' - tool orientation (see <a href="#lathe-tool-orientation">lathe tool orientation</a>)</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>G41.1 &amp; G42.1 function the same as G41 &amp; G42 with the added scope of being able
to program the tool diameter. The L word defaults to 0 if unspecified.</p>
</div>
<div class="paragraph">
<p>It is an error if:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>The YZ plane is active.</p>
</li>
<li>
<p>The L number is not in the range from 0 to 9 inclusive.</p>
</li>
<li>
<p>The L number is used when the XZ plane is not active.</p>
</li>
<li>
<p>Cutter compensation is commanded to turn on when it is already on.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="sec:G43">G43 Tool Length Offset</h3>
<div class="paragraph">
<p></p>
</div>
<div class="listingblock">
<div class="content">
<pre>G43 &lt;H-&gt;</pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>'H' - tool number (optional)</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>G43 enables tool length compensation.  G43 changes subsequent motions
by offsetting the Z and/or X coordinates by the length of the tool. G43
does not cause any motion. The next time a compensated axis is moved,
that axis&#8217;s endpoint is the compensated location.</p>
</div>
<div class="paragraph">
<p>'G43' without an H word uses the currently loaded tool from the last
'Tn M6'.</p>
</div>
<div class="paragraph">
<p>'G43 Hn' uses the offset for tool n.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
'G43 H0' is a little special.  Its behavior is different on random
tool changer machines and nonrandom tool changer machines (see the
<a href="#sec:Tool-Changers">Tool Changers</a> section).  On nonrandom tool changer
machines, 'G43 H0' applies the TLO of the tool currently in the spindle,
or a TLO of 0 if no tool is in the spindle.  On random tool changer
machines, 'G43 H0' applies the TLO of the tool T0 defined in the tool
table file (or causes an error if T0 is not defined in the tool table).
</td>
</tr>
</table>
</div>
<div class="listingblock">
<div class="title">G43 H- Example Line</div>
<div class="content">
<pre>G43 H1 (set tool offsets using the values from tool 1 in the tool table)</pre>
</div>
</div>
<div class="paragraph">
<p>It is an error if:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>the H number is not an integer, or</p>
</li>
<li>
<p>the H number is negative, or</p>
</li>
<li>
<p>the H number is not a valid tool number (though note that 0 is a valid
tool number on nonrandom tool changer machines, it means "the tool
currently in the spindle")</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="sec:G43_1">G43.1: Dynamic Tool Length Offset</h3>
<div class="paragraph">
<p></p>
</div>
<div class="listingblock">
<div class="content">
<pre>G43.1 axes</pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>'G43.1 axes' - change subsequent motions by offsetting the Z and/or X
offsets stored in the tool table. G43.1 does not cause any
motion. The next time a compensated axis is moved, that axis&#8217;s
endpoint is the compensated location.</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="title">G43.1 Example</div>
<div class="content">
<pre>G90 (set absolute mode)
T1 M6 G43 (load tool 1 and tool length offsets, Z is at machine 0 and DRO shows Z1.500)
G43.1 Z0.250 (offset current tool offset by 0.250, DRO now shows Z1.250)
M2 (end program)</pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>See <a href="#sec:G90-G91">G90</a> &amp; <a href="#sec:T-Select-Tool">T</a> &amp; <a href="#sec:M6-Tool-Change">M6</a>
sections for more information.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>It is an error if:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>motion is commanded on the same line as 'G43.1'</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="sec:G49-Tool">G49: Cancel Tool Length Compensation</h3>
<div class="paragraph">
<p></p>
</div>
<div class="ulist">
<ul>
<li>
<p>'G49' - cancels tool length compensation</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>It is OK to program using the same offset already in use. It is also
OK to program using no tool length offset if none is currently being
used.</p>
</div>
</div>
<div class="sect2">
<h3 id="sec:G53-Move-in">G53 Move in Machine Coordinates</h3>
<div class="paragraph">
<p></p>
</div>
<div class="listingblock">
<div class="content">
<pre>G53 axes</pre>
</div>
</div>
<div class="paragraph">
<p>To move in the machine coordinate system, program 'G53'
on the same line as a linear move. 'G53' is not modal and must be
programmed on each line. 'G0' or 'G1' does not have to be programmed
on the same line if one is currently active.
For example 'G53 G0 X0 Y0 Z0' will move the axes to the home
position even if the currently
selected coordinate system has offsets in effect.</p>
</div>
<div class="listingblock">
<div class="title">G53 Example Line</div>
<div class="content">
<pre>G53 G0 X0 Y0 Z0 (rapid linear move to the machine origin)
G53 X2 (rapid linear move to absolute coordinate X2)</pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>See <a href="#sec:G0">G0</a> section for more information.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>It is an error if:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>G53 is used without G0 or G1 being active,</p>
</li>
<li>
<p>or G53 is used while cutter compensation is on.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="sec:G54-G59_3">G54-G59.3 Select Coordinate System</h3>
<div class="paragraph">
<p></p>
</div>
<div class="ulist">
<ul>
<li>
<p>'G54' - select coordinate system 1</p>
</li>
<li>
<p>'G55' - select coordinate system 2</p>
</li>
<li>
<p>'G56' - select coordinate system 3</p>
</li>
<li>
<p>'G57' - select coordinate system 4</p>
</li>
<li>
<p>'G58' - select coordinate system 5</p>
</li>
<li>
<p>'G59' - select coordinate system 6</p>
</li>
<li>
<p>'G59.1' - select coordinate system 7</p>
</li>
<li>
<p>'G59.2' - select coordinate system 8</p>
</li>
<li>
<p>'G59.3' - select coordinate system 9</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The coordinate systems store the axis values and the
XY rotation angle around the Z axis
in the parameters shown in the following table.</p>
</div>
<table class="tableblock frame-all grid-all" style="width: 80%;">
<caption class="title">Table 12. Coordinate System Parameters<a id="cap:Coordinate-Systems"></a></caption>
<colgroup>
<col style="width: 8.3333%;">
<col style="width: 8.3333%;">
<col style="width: 8.3333%;">
<col style="width: 8.3333%;">
<col style="width: 8.3333%;">
<col style="width: 8.3333%;">
<col style="width: 8.3333%;">
<col style="width: 8.3333%;">
<col style="width: 8.3333%;">
<col style="width: 8.3333%;">
<col style="width: 8.3333%;">
<col style="width: 8.3337%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Select</th>
<th class="tableblock halign-center valign-top">CS</th>
<th class="tableblock halign-center valign-top">X</th>
<th class="tableblock halign-center valign-top">Y</th>
<th class="tableblock halign-center valign-top">Z</th>
<th class="tableblock halign-center valign-top">A</th>
<th class="tableblock halign-center valign-top">B</th>
<th class="tableblock halign-center valign-top">C</th>
<th class="tableblock halign-center valign-top">U</th>
<th class="tableblock halign-center valign-top">V</th>
<th class="tableblock halign-center valign-top">W</th>
<th class="tableblock halign-center valign-top">R</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">G54</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">5221</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">5222</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">5223</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">5224</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">5225</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">5226</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">5227</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">5228</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">5229</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">5230</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">G55</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">5241</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">5242</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">5243</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">5244</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">5245</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">5246</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">5247</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">5248</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">5249</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">5250</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">G56</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">3</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">5261</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">5262</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">5263</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">5264</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">5265</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">5266</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">5267</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">5268</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">5269</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">5270</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">G57</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">4</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">5281</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">5282</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">5283</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">5284</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">5285</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">5286</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">5287</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">5288</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">5289</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">5290</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">G58</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">5</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">5301</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">5302</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">5303</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">5304</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">5305</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">5306</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">5307</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">5308</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">5309</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">5310</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">G59</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">6</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">5321</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">5322</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">5323</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">5324</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">5325</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">5326</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">5327</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">5328</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">5329</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">5330</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">G59.1</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">7</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">5341</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">5342</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">5343</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">5344</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">5345</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">5346</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">5347</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">5348</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">5349</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">5350</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">G59.2</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">8</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">5361</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">5362</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">5363</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">5364</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">5365</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">5366</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">5367</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">5368</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">5369</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">5370</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">G59.3</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">9</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">5381</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">5382</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">5383</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">5384</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">5385</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">5386</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">5387</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">5388</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">5389</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">5390</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>It is an error if:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>selecting a coordinate system is used while cutter compensation is on.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>See the <a href="#cha:coordinate-system">Coordinate System</a> Section for an overview of coordinate
systems.</p>
</div>
</div>
<div class="sect2">
<h3 id="sec:G61-G61_1">G61, G61.1 Exact Path Mode</h3>
<div class="paragraph">
<p></p>
</div>
<div class="ulist">
<ul>
<li>
<p>'G61' - exact path mode. G61 visits the programmed point exactly,
even though that means temporarily coming to a complete stop.</p>
</li>
<li>
<p>'G61.1' - exact stop mode. Same as G61</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="sec:G64">G64 Path Blending</h3>
<div class="paragraph">
<p></p>
</div>
<div class="listingblock">
<div class="content">
<pre>G64 &lt;P- &lt;Q-&gt;&gt;</pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>'P' - motion blending tolerance</p>
</li>
<li>
<p>'Q' - naive cam tolerance</p>
</li>
<li>
<p>'G64' - best possible speed.</p>
</li>
<li>
<p>'G64 P- &lt;Q- &gt;' blending with tolerance.</p>
</li>
<li>
<p>'G64' - without P means to keep the best speed possible, no matter how
far away from the programmed point you end up.</p>
</li>
<li>
<p>'G64 P- Q-' - is a way to fine tune your system for best compromise
between speed and accuracy. The P- tolerance means that the actual path
will be no more than P- away from the programmed endpoint. The velocity
will be reduced if needed to maintain the path. In addition, when you
activate G64 P- Q- it turns on the 'naive cam detector'; when there are
a series of linear XYZ feed moves at the same <a href="#sec:F-feed-rate">feed rate</a>
that are less than Q- away from being collinear, they are collapsed into a
single linear move. On G2/G3 moves in the G17 (XY) plane when the maximum
deviation of an arc from a straight line is less than the G64 P-
tolerance the arc is broken into two lines (from start of arc to
midpoint, and from midpoint to end). those lines are then subject to
the naive cam algorithm for lines. Thus, line-arc, arc-arc, and
arc-line cases as well as line-line benefit from the 'naive cam
detector'. This improves contouring performance by simplifying the
path. It is OK to program for the mode that is already active. See also
the <a href="#sec:trajectory-control">Trajectory Control</a> Section for more
information on these modes.
If Q is not specified then it will have the same behavior as before and
use the value of P-.</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="title">G64 P- Example Line</div>
<div class="content">
<pre>G64 P0.015 (set path following to be within 0.015 of the actual path)</pre>
</div>
</div>
<div class="paragraph">
<p>It is a good idea to include a path control specification in the preamble
of each G code file.</p>
</div>
</div>
<div class="sect2">
<h3 id="sec:G73-Drilling-Cycle">G73 Drilling Cycle with Chip Breaking</h3>
<div class="paragraph">
<p></p>
</div>
<div class="listingblock">
<div class="content">
<pre>G73 X- Y- Z- R- Q- &lt;L-&gt;</pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>'R' - retract position along the Z axis.</p>
</li>
<li>
<p>'Q' - delta increment along the Z axis.</p>
</li>
<li>
<p>'L' - repeat</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The 'G73' cycle is drilling or milling with chip breaking.
This cycle takes a Q number which represents a 'delta' increment along the Z axis.</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Preliminary motion.</p>
<div class="ulist">
<ul>
<li>
<p>If the current Z position is below the R position, The Z axis does a
<a href="#sec:G0">rapid move</a> to the R position.</p>
</li>
<li>
<p>Move to the X Y coordinates</p>
</li>
</ul>
</div>
</li>
<li>
<p>Move the Z-axis only at the current <a href="#sec:F-feed-rate">feed rate</a> downward
by delta or to the Z position, whichever is less deep.</p>
</li>
<li>
<p>Rapid up a bit.</p>
</li>
<li>
<p>Repeat steps 2 and 3 until the Z position is reached at step 2.</p>
</li>
<li>
<p>The Z axis does a rapid move to the R position.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>It is an error if:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>the Q number is negative or zero.</p>
</li>
<li>
<p>the R number is not specified</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="sec:G76-Threading-Canned">G76 Threading Cycle</h3>
<div class="paragraph">
<p></p>
</div>
<div class="listingblock">
<div class="content">
<pre>G76 P- Z- I- J- R- K- Q- H- E- L-</pre>
</div>
</div>
<div class="imageblock" style="text-align: center">
<div class="content">
<img src="../gcode/images/g76-threads.png" alt="g76 threads">
</div>
<div class="title">Figure 51. G76 Threading<a id="fig:G76-Threading"></a></div>
</div>
<div class="ulist">
<ul>
<li>
<p>'Drive Line' - A line through the initial X position parallel to the Z.</p>
</li>
<li>
<p>'P-' - The 'thread pitch' in distance per revolution.</p>
</li>
<li>
<p>'Z-' - The final position of threads. At the end of the cycle the tool will
be at this Z position.</p>
</li>
</ul>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
When G7 'Lathe Diameter Mode' is in force the values for 'I', 'J' and 'K' are
diameter measurements. When G8 'Lathe Radius Mode' is in force the values for
'I', 'J' and 'K' are radius measurements.
</td>
</tr>
</table>
</div>
<div class="ulist">
<ul>
<li>
<p>'I-' - The 'thread peak' offset from the 'drive line'. Negative 'I' values
are external threads, and positive 'I' values are internal threads.
Generally the material has been turned to this size before the 'G76' cycle.</p>
</li>
<li>
<p>'J-' - A positive value specifying the 'initial cut depth'. The first
threading cut will be 'J' beyond the 'thread peak' position.</p>
</li>
<li>
<p>'K-' - A positive value specifying the 'full thread depth'. The final
threading cut will be 'K' beyond the 'thread peak' position.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Optional settings</p>
</div>
<div class="ulist">
<ul>
<li>
<p>'R-' - The 'depth degression'. 'R1.0' selects constant depth on successive
threading passes. 'R2.0' selects constant area. Values between 1.0 and
2.0 select decreasing
depth but increasing area. Values above 2.0 select decreasing area.
Beware that unnecessarily high degression values will cause a large
number of passes to be used. (degression = a descent by stages or
steps.)</p>
</li>
<li>
<p>'Q-' - The 'compound slide angle' is the angle (in degrees) describing to
what extent successive passes should be offset along the drive line.
This is used to cause one side of the tool to remove more material than
the other. A positive 'Q' value causes the leading edge of the tool to
cut more heavily.
Typical values are 29, 29.5 or 30.</p>
</li>
<li>
<p>'H-' - The number of 'spring passes'. Spring passes are additional passes at
full thread depth. If no additional passes are desired, program 'H0'.</p>
</li>
<li>
<p>'E-' - Specifies the distance along the drive line used for the taper. The
angle of the taper will be so the last pass tapers to the thread crest
over the distance specified with E.' E0.2' will give a taper for the
first/last 0.2 length units along the
thread. For a 45 degree taper program E the same as K</p>
</li>
<li>
<p>'L-' - Specifies which ends of the thread get the taper. Program 'L0' for no
taper (the default), 'L1' for entry taper, 'L2' for exit taper, or 'L3'
for both entry and exit tapers. Entry tapers will pause at the drive line to
synchronize with the index pulse then move at the <a href="#sec:F-feed-rate">feed rate</a>
in to the beginning of the taper. No entry taper and the tool will rapid to the
cut depth then synchronize and begin the cut.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The tool is moved to the initial X and Z positions prior to issuing
the G76. The X position is the 'drive line' and the Z position is the
start of the threads.</p>
</div>
<div class="paragraph">
<p>The tool will pause briefly for synchronization before each threading
pass, so a relief groove will be required at the entry unless the
beginning of the thread is past the end of the material or an entry
taper is used.</p>
</div>
<div class="paragraph">
<p>Unless using an exit taper, the exit move is not synchronized to the spindle
speed and will be a <a href="#sec:G0">rapid move</a>. With a slow spindle, the
exit move might take only a small fraction of a revolution. If the spindle
speed is increased after several passes are complete, subsequent exit
moves will require a larger portion of a revolution, resulting in a
very heavy cut during the exit move. This can be avoided by providing a
relief groove at the exit, or by not changing the spindle speed while
threading.</p>
</div>
<div class="paragraph">
<p>The final position of the tool will be at the end of the 'drive line'.
A safe Z move will be needed with an internal thread to remove the tool
from the hole.</p>
</div>
<div class="paragraph">
<p>It is an error if:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>The active plane is not the ZX plane</p>
</li>
<li>
<p>Other axis words, such as X- or Y-, are specified</p>
</li>
<li>
<p>The 'R-' degression value is less than 1.0.</p>
</li>
<li>
<p>All the required words are not specified</p>
</li>
<li>
<p>'P-', 'J-', 'K-' or 'H-' is negative</p>
</li>
<li>
<p>'E-' is greater than half the drive line length</p>
</li>
</ul>
</div>
<div class="paragraph">
<div class="title">HAL Connections</div>
<p>The pins 'motion.spindle-at-speed' and the 'encoder.n.phase-Z' for the
spindle must be connected in your HAL file before G76 will work.
See the Integrators Manual for more information on spindle synchronized motion.</p>
</div>
<div class="paragraph">
<div class="title">Technical Info</div>
<p>The G76 canned cycle is based on the G33 Spindle Synchronized Motion. For more
information see the G33 <a href="#g33-tech-info">Technical Info</a>.</p>
</div>
<div class="paragraph">
<p>The sample program 'g76.ngc' shows the use of the G76 canned cycle,
and can be previewed and
executed on any machine using the 'sim/lathe.ini' configuration.</p>
</div>
<div class="listingblock">
<div class="title">G76 Example</div>
<div class="content">
<pre class="highlight"><code class="language-{basebackend@docbook:'':ngc}" data-lang="{basebackend@docbook:'':ngc}">G0 Z-0.5 X0.2
G76 P0.05 Z-1 I-.075 J0.008 K0.045 Q29.5 L2 E0.045</code></pre>
</div>
</div>
<div class="paragraph">
<p>In the figure the tool is in the final position after the G76 cycle
is completed. You can see the entry path on the right from the Q29.5
and the exit path on the left from the L2 E0.045. The white lines
are the cutting moves.</p>
</div>
<div class="imageblock" style="text-align: center">
<div class="content">
<img src="../gcode/images/g76-01.png" alt="g76 01">
</div>
<div class="title">Figure 52. G76 Example<a id="fig:G76-Threading-Example"></a></div>
</div>
</div>
<div class="sect2">
<h3 id="sec:G80-G89">Canned Cycles</h3>
<div class="paragraph">
<p></p>
</div>
<div class="paragraph">
<p>The canned cycles 'G81' through 'G89' and the canned cycle stop 'G80'
are described in this section.</p>
</div>
<div class="paragraph">
<p>All canned cycles are performed with respect to the currently-selected
plane. Any of the six planes may be selected. Throughout this section,
most of the descriptions assume the XY-plane has been selected. The
behavior is analogous if another plane is selected, and the correct
words must be used. For instance, in the 'G17.1' plane, the action of
the canned cycle is along W, and the locations
or increments are given with U and V. In this case substitute U,V,W for
X,Y,Z in the instructions below.</p>
</div>
<div class="paragraph">
<p>Rotary axis words are not allowed in canned cycles. When the
active plane is one of the XYZ family, the UVW axis words are not
allowed. Likewise, when the active plane is one of the UVW family, the
XYZ axis words are not allowed.</p>
</div>
<div class="sect3">
<h4 id="common-words">Common Words</h4>
<div class="paragraph">
<p>All canned cycles use X, Y, Z, or U, V, W groups depending on the
plane selected and R words. The R (usually meaning retract) position is
along the axis perpendicular to the currently selected plane (Z-axis
for XY-plane, etc.) Some canned cycles use additional arguments.</p>
</div>
</div>
<div class="sect3">
<h4 id="sticky-words-a-id-sec-cycle-sticky-words-a">Sticky Words<a id="sec:Cycle-Sticky-Words"></a></h4>
<div class="paragraph">
<p>For canned cycles, we will call a number 'sticky' if, when the same
cycle is used on several lines of code in a row, the number must be
used the first time, but is optional on the rest of the lines. Sticky
numbers keep their value on the rest of the lines if they are not
explicitly programmed to be different. The R number is always sticky.</p>
</div>
<div class="paragraph">
<p>In incremental distance mode X, Y, and R numbers are treated as
increments from the current position and Z as an increment from the
Z-axis position before the move involving Z takes place. In absolute
distance mode, the X, Y, R, and Z numbers are absolute positions in the
current coordinate system.</p>
</div>
</div>
<div class="sect3">
<h4 id="repeat-cycle">Repeat Cycle</h4>
<div class="paragraph">
<p>The L number is optional and represents the number of repeats.
L=0 is not allowed. If the repeat feature is used, it is
normally used in incremental distance mode, so that the same sequence
of motions is repeated in several equally spaced places along a
straight line. When L- is greater than 1 in incremental mode with the
XY-plane selected, the X and Y positions are determined by adding the
given X and Y numbers either to the current X and Y positions (on the
first go-around) or to the X and Y positions at the end of the previous
go-around (on the repetitions). Thus, if you program 'L10' , you will
get 10 cycles. The first cycle will be distance X,Y from
the original location. The R and Z positions do not change during the
repeats. The L number is not sticky. In absolute distance mode,
L&gt;1 means 'do the same cycle in the same place several
times', Omitting the L word is equivalent to specifying L=1.</p>
</div>
</div>
<div class="sect3">
<h4 id="retract-mode-a-id-sec-retract-mode-a">Retract Mode<a id="sec:Retract-Mode"></a></h4>
<div class="paragraph">
<p>The height of the retract move at the end of each repeat (called
'clear Z' in the descriptions below) is determined by the setting of
the retract mode: either to the original Z position (if that is above
the R position and the retract mode is 'G98', OLD_Z), or otherwise to
the R position. See the <a href="#sec:G98-G99-Set">G98 G99</a> Section.</p>
</div>
</div>
<div class="sect3">
<h4 id="canned-cycle-errors-a-id-sec-canned-cycle-errors-a">Canned Cycle Errors<a id="sec:Canned-Cycle-Errors"></a></h4>
<div class="paragraph">
<p>It is an error if:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>axis words are all missing during a canned cycle,</p>
</li>
<li>
<p>axis words from different groups (XYZ) (UVW) are used together,</p>
</li>
<li>
<p>a P number is required and a negative P number is used,</p>
</li>
<li>
<p>an L number is used that does not evaluate to a positive integer,</p>
</li>
<li>
<p>rotary axis motion is used during a canned cycle,</p>
</li>
<li>
<p>inverse time feed rate is active during a canned cycle,</p>
</li>
<li>
<p>or cutter compensation is active during a canned cycle.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>If the XY plane is active, the Z number is sticky, and it is an error
if:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>the Z number is missing and the same canned cycle was not already
active,</p>
</li>
<li>
<p>or the R number is less than the Z number.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>If other planes are active, the error conditions are analogous to the
XY conditions above.</p>
</div>
</div>
<div class="sect3">
<h4 id="section:preliminary-motion">Preliminary and In-Between Motion</h4>
<div class="paragraph">
<p>Preliminary motion is a set of motions that is common to all of the
milling canned cycles. If the current Z position is below the R position,
the Z axis does a <a href="#sec:G0">rapid move</a> to the R position. This happens only
once, regardless of the value of L.</p>
</div>
<div class="paragraph">
<p>In addition, at the beginning of the first cycle and each repeat, the
following one or two moves are made</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>A <a href="#sec:G0">rapid move</a> parallel to the XY-plane to
the given XY-position,</p>
</li>
<li>
<p>The Z-axis make a rapid move to the R position, if it is
not already at the R position.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>If another plane is active, the preliminary and in-between motions are
analogous.</p>
</div>
</div>
<div class="sect3">
<h4 id="why-use-a-canned-cycle">Why use a canned cycle?</h4>
<div class="paragraph">
<p>There are at least two reasons for using canned cycles. The first is
the economy of code. A single bore would take several lines of code to
execute.</p>
</div>
<div class="paragraph">
<p>The G81 <a href="#G81-example-1">Example 1</a> demonstrates how a canned cycle could be
used to produce 8 holes with ten lines of G code within the canned cycle mode.
The program below will produce the same set of 8 holes using five lines
for the canned cycle. It does not follow exactly the same path nor does
it drill in the same order as the earlier example. But the program
writing economy of a good canned cycle should be obvious.</p>
</div>
<div class="listingblock">
<div class="title">Eight Holes</div>
<div class="content">
<pre>G90 G0 X0 Y0 Z0 (move coordinate home)
G1 F10 X0 G4 P0.1
G91 G81 X1 Y0 Z-1 R1 L4(canned drill cycle)
G90 G0 X0 Y1
Z0
G91 G81 X1 Y0 Z-0.5 R1 L4(canned drill cycle)
G80 (turn off canned cycle)
M2 (program end)</pre>
</div>
</div>
<div class="paragraph">
<p>The G98 to the second line above means that the return move will be to
the value of Z in the first line since it is higher that the R value
specified.</p>
</div>
<div class="imageblock" style="text-align: center">
<div class="content">
<img src="../gcode/images/eight.png" alt="eight">
</div>
</div>
<div class="paragraph">
<div class="title">Twelve Holes in a Square</div>
<p>This example demonstrates the use of the L word to repeat a set of
incremental drill cycles for successive blocks of code within the same
G81 motion mode. Here we produce 12 holes using five lines of code in
the canned motion mode.</p>
</div>
<div class="listingblock">
<div class="content">
<pre>G90 G0 X0 Y0 Z0 (move coordinate home)
G1 F50 X0 G4 P0.1
G91 G81 X1 Y0 Z-0.5 R1 L4 (canned drill cycle)
X0 Y1 R0 L3 (repeat)
X-1 Y0 L3 (repeat)
X0 Y-1 L2 (repeat)
G80 (turn off canned cycle)
G90 G0 X0 (rapid move home)
Y0
Z0
M2 (program end)</pre>
</div>
</div>
<div class="imageblock" style="text-align: center">
<div class="content">
<img src="../gcode/images/twelve.png" alt="twelve">
</div>
</div>
<div class="paragraph">
<p>The second reason to use a canned cycle is that they all produce
preliminary moves and returns that you can anticipate and control
regardless of the start point of the canned cycle.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="sec:G80-Cancel-Modal">G80 Cancel Canned Cycle</h3>
<div class="paragraph">
<p></p>
</div>
<div class="ulist">
<ul>
<li>
<p>'G80' - cancel canned cycle modal motion. 'G80' is part of modal group 1,
so programming any other G code from modal group 1 will also
cancel the canned cycle.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>It is an error if:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Axis words are programmed when G80 is active.</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="title">G80 Example</div>
<div class="content">
<pre>G90 G81 X1 Y1 Z1.5 R2.8 (absolute distance canned cycle)
G80 (turn off canned cycle motion)
G0 X0 Y0 Z0 (rapid move to coordinate home)</pre>
</div>
</div>
<div class="paragraph">
<p>The following code produces the same final position and machine state as
the previous code.</p>
</div>
<div class="listingblock">
<div class="title">G0 Example</div>
<div class="content">
<pre>G90 G81 X1 Y1 Z1.5 R2.8 (absolute distance canned cycle)
G0 X0 Y0 Z0 (rapid move to coordinate home)</pre>
</div>
</div>
<div class="paragraph">
<p>The advantage of the first set is that, the G80 line clearly turns off the
G81 canned cycle. With the first set of blocks, the programmer must turn
motion back on with G0, as is done in the next line, or any other motion
mode G word.</p>
</div>
<div class="paragraph">
<p>If a canned cycle is not turned off with G80 or another motion word, the
canned cycle will attempt to repeat itself using the next block of code
that contains an X, Y, or Z word. The following file drills (G81) a set
of eight holes as shown in the following caption.</p>
</div>
<div class="listingblock">
<div class="title">G80 Example 1</div>
<div class="content">
<pre>N100 G90 G0 X0 Y0 Z0 (coordinate home)
N110 G1 X0 G4 P0.1
N120 G81 X1 Y0 Z0 R1 (canned drill cycle)
N130 X2
N140 X3
N150 X4
N160 Y1 Z0.5
N170 X3
N180 X2
N190 X1
N200 G80 (turn off canned cycle)
N210 G0 X0 (rapid move home)
N220 Y0
N230 Z0
N240 M2 (program end)</pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
Notice the z position change after the first four holes.
Also, this is one of the few places where line numbers have some value,
being able to point a reader to a specific line of code.
</td>
</tr>
</table>
</div>
<div class="imageblock" style="text-align: center">
<div class="content">
<img src="../gcode/images/G81mult.png" alt="G81mult">
</div>
<div class="title">Figure 53. G80 Cycle<a id="cap:G80-Cycle"></a></div>
</div>
<div class="paragraph">
<p>The use of G80 in line N200 is optional because the G0 on the next
line will turn off the G81 cycle. But using the G80 as shown in
Example 1, will provide for easier to read canned cycle. Without it, it
is not so obvious that all of the blocks between N120 and N200 belong
to the canned cycle.</p>
</div>
</div>
<div class="sect2">
<h3 id="sec:G81-Drilling-Cycle">G81 Drilling Cycle</h3>
<div class="paragraph">
<p></p>
</div>
<div class="listingblock">
<div class="content">
<pre>G81 (X- Y- Z-) or (U- V- W-) R- L-</pre>
</div>
</div>
<div class="paragraph">
<p>The 'G81' cycle is intended for drilling.</p>
</div>
<div class="paragraph">
<p>The cycle functions as follows:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Preliminary motion, as described in the
<a href="#section:preliminary-motion">Preliminary and In-Between Motion</a> section.</p>
</li>
<li>
<p>Move the Z-axis at the current <a href="#sec:F-feed-rate">feed rate</a> to the Z
position.</p>
</li>
<li>
<p>The Z-axis does a <a href="#sec:G0">rapid move</a> to clear Z.</p>
</li>
</ol>
</div>
<div class="paragraph">
<div class="title">Example 1 - Absolute Position G81<a id="G81-example-1"></a></div>
<p>Suppose the current position is (X1, Y2, Z3) and the following line of NC
code is interpreted.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-{basebackend@docbook:'':ngc}" data-lang="{basebackend@docbook:'':ngc}">G90 G98 G81 X4 Y5 Z1.5 R2.8</code></pre>
</div>
</div>
<div class="paragraph">
<p>This calls for absolute distance mode (G90) and OLD_Z retract mode
(G98) and calls for the G81 drilling cycle to be performed once.</p>
</div>
<div class="paragraph">
<p>The X value and X position are 4.</p>
</div>
<div class="paragraph">
<p>The Y value and Y position are 5.</p>
</div>
<div class="paragraph">
<p>The Z value and Z position are 1.5.</p>
</div>
<div class="paragraph">
<p>The R value and clear Z are 2.8. OLD_Z is 3.</p>
</div>
<div class="paragraph">
<p>The following moves take place:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>a <a href="#sec:G0">rapid move</a> parallel to the XY plane to (X4, Y5)</p>
</li>
<li>
<p>a rapid move move parallel to the Z-axis to (Z2.8).</p>
</li>
<li>
<p>move parallel to the Z-axis at the <a href="#sec:F-feed-rate">feed rate</a> to (Z1.5)</p>
</li>
<li>
<p>a rapid move parallel to the Z-axis to (Z3)</p>
</li>
</ol>
</div>
<div class="imageblock" style="text-align: center">
<div class="content">
<img src="../gcode/images/G81ex1.png" alt="G81ex1">
</div>
</div>
<div class="paragraph">
<div class="title">Example 2 - Relative Position G81</div>
<p>Suppose the current position is (X1, Y2, Z3) and the following line of NC
code is interpreted.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-{basebackend@docbook:'':ngc}" data-lang="{basebackend@docbook:'':ngc}">G91 G98 G81 X4 Y5 Z-0.6 R1.8 L3</code></pre>
</div>
</div>
<div class="paragraph">
<p>This calls for incremental distance mode (G91) and OLD_Z retract mode
(G98). It also calls for the G81 drilling cycle to be repeated three
times. The X value is 4, the Y value is 5, the Z value is -0.6 and the
R value is 1.8. The initial X position is 5 (=1+4), the initial Y
position is 7 (=2+5), the clear Z position is 4.8 (=1.8+3), and the Z
position is 4.2 (=4.8-0.6). OLD_Z is 3.</p>
</div>
<div class="paragraph">
<p>The first preliminary move is a maximum rapid move along the Z axis to
(X1,Y2,Z4.8), since OLD_Z &lt; clear Z.</p>
</div>
<div class="paragraph">
<p>The first repeat consists of 3 moves.</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>a <a href="#sec:G0">rapid move</a> parallel to the XY-plane to (X5, Y7)</p>
</li>
<li>
<p>move parallel to the Z-axis at the <a href="#sec:F-feed-rate">feed rate</a> to (Z4.2)</p>
</li>
<li>
<p>a rapid move parallel to the Z-axis to (X5, Y7, Z4.8)</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>The second repeat consists of 3 moves. The X position is reset to
 9 (=5+4) and the Y position to 12 (=7+5).</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>a <a href="#sec:G0">rapid move</a> parallel to the XY-plane to (X9, Y12, Z4.8)</p>
</li>
<li>
<p>move parallel to the Z-axis at the feed rate to (X9, Y12, Z4.2)</p>
</li>
<li>
<p>a rapid move parallel to the Z-axis to (X9, Y12, Z4.8)</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>The third repeat consists of 3 moves. The X position is reset to
 13 (=9+4) and the Y position to 17 (=12+5).</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>a <a href="#sec:G0">rapid move</a> parallel to the XY-plane to (X13, Y17, Z4.8)</p>
</li>
<li>
<p>move parallel to the Z-axis at the feed rate to (X13, Y17, Z4.2)</p>
</li>
<li>
<p>a rapid move parallel to the Z-axis to (X13, Y17, Z4.8)</p>
</li>
</ol>
</div>
<div class="imageblock" style="text-align: center">
<div class="content">
<img src="../gcode/images/G81ex2.png" alt="G81ex2">
</div>
</div>
<div class="paragraph">
<div class="title">Example 3 - Relative Position G81</div>
<p>Now suppose that you execute the first G81 block of code but from (X0,
Y0, Z0) rather than from (X1, Y2, Z3).</p>
</div>
<div class="listingblock">
<div class="content">
<pre>G90 G98 G81 X4 Y5 Z1.5 R2.8</pre>
</div>
</div>
<div class="paragraph">
<p>Since OLD_Z is below the R value, it adds
nothing for the motion but since the initial value of Z is less than
the value specified in R, there will be an initial Z move during the
preliminary moves.</p>
</div>
<div class="imageblock" style="text-align: center">
<div class="content">
<img src="../gcode/images/G81.png" alt="G81">
</div>
</div>
<div class="paragraph">
<div class="title">Example 4 - Absolute G81 R &gt; Z</div>
<p>This is a plot of the path of motion for the second g81 block of code.</p>
</div>
<div class="listingblock">
<div class="content">
<pre>G91 G98 G81 X4 Y5 Z-0.6 R1.8 L3</pre>
</div>
</div>
<div class="paragraph">
<p>Since this plot starts with (X0, Y0, Z0), the interpreter adds the
initial Z0 and R1.8 and rapid moves to that location. After that initial Z
move, the repeat feature works the same as it did in example 3 with the
final Z depth being 0.6 below the R value.</p>
</div>
<div class="imageblock" style="text-align: center">
<div class="content">
<img src="../gcode/images/G81a.png" alt="G81a">
</div>
</div>
<div class="listingblock">
<div class="title">Example 5 - Relative position R &gt; Z</div>
<div class="content">
<pre>G90 G98 G81 X4 Y5 Z-0.6 R1.8</pre>
</div>
</div>
<div class="paragraph">
<p>Since this plot starts with (X0, Y0, Z0), the interpreter adds the initial Z0
and R1.8 and rapid moves to that location as in 'Example 4'. After that initial Z
move, the <a href="#sec:G0">rapid move</a> to X4 Y5 is done. Then the final Z
depth being 0.6 below the R value. The repeat function would make the Z move
in the same location again.</p>
</div>
</div>
<div class="sect2">
<h3 id="sec:G82-Drilling-Dwell">G82 Drilling Cycle, Dwell</h3>
<div class="paragraph">
<p></p>
</div>
<div class="listingblock">
<div class="content">
<pre>G82 (X- Y- Z-) or (U- V- W-) R- L- P-</pre>
</div>
</div>
<div class="paragraph">
<p>The 'G82' cycle is intended for drilling with a dwell at the bottom of
the hole.</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Preliminary motion, as described in the
<a href="#section:preliminary-motion">Preliminary and In-Between Motion</a> section.</p>
</li>
<li>
<p>Move the Z-axis at the current <a href="#sec:F-feed-rate">feed rate</a> to the Z position.</p>
</li>
<li>
<p>Dwell for the P number of seconds.</p>
</li>
<li>
<p>The Z-axis does a <a href="#sec:G0">rapid move</a> to clear Z.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>The motion of a G82 canned cycle looks just like G81 with the
addition of a dwell at the bottom of the Z move. The length of
the dwell is specified by a 'P-' word in the G82 block.</p>
</div>
</div>
<div class="sect2">
<h3 id="sec:G83-Drilling-Peck">G83 Peck Drilling Cycle</h3>
<div class="paragraph">
<p></p>
</div>
<div class="listingblock">
<div class="content">
<pre>G83 (X- Y- Z-) or (U- V- W-) R- L- Q-</pre>
</div>
</div>
<div class="paragraph">
<p>The 'G83' cycle (often called peck drilling) is intended for deep
drilling or
milling with chip breaking. The retracts in this cycle clear the hole
of chips and cut off any long stringers (which are common when drilling
in aluminum). This cycle takes a Q number which represents a 'delta'
increment along the Z-axis. The retract before final depth will always
be to the 'retract' plane even if G98 is in effect. The final retract will
honor the G98/99 in effect. G83 functions the same as G81 with the addition
of retracts during the drilling operation.</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Preliminary motion, as described in the
<a href="#section:preliminary-motion">Preliminary and In-Between Motion</a> section.</p>
</li>
<li>
<p>Move the Z-axis at the current <a href="#sec:F-feed-rate">feed rate</a> downward by
delta or to the Z position, whichever is less deep.</p>
</li>
<li>
<p>Rapid move back out to the retract plane specified by the R word.</p>
</li>
<li>
<p>Rapid move back down to the current hole bottom, backed off a bit.</p>
</li>
<li>
<p>Repeat steps 2, 3, and 4 until the Z position is reached at step 2.</p>
</li>
<li>
<p>The Z-axis does a <a href="#sec:G0">rapid move</a> to clear Z.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>It is an error if:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>the Q number is negative or zero.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="sec:G84-Right-Hand-Tapping">G84 Right-Hand Tapping Cycle</h3>
<div class="paragraph">
<p></p>
</div>
<div class="paragraph">
<p>This code is currently unimplemented in Machinekit. It is accepted, but the
behavior is undefined. See section <a href="#sec:G33_1-Rigid-Tapping">G33.1</a></p>
</div>
</div>
<div class="sect2">
<h3 id="sec:G85-Boring-Feed-Out">G85 Boring Cycle, Feed Out</h3>
<div class="paragraph">
<p></p>
</div>
<div class="listingblock">
<div class="content">
<pre>G85 (X- Y- Z-) or (U- V- W-) R- L-</pre>
</div>
</div>
<div class="paragraph">
<p>The 'G85' cycle is intended for boring or reaming, but could be used
for drilling or milling.</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Preliminary motion, as described in the
<a href="#section:preliminary-motion">Preliminary and In-Between Motion</a> section.</p>
</li>
<li>
<p>Move the Z-axis only at the current <a href="#sec:F-feed-rate">feed rate</a> to the Z
position.</p>
</li>
<li>
<p>Retract the Z-axis at the current feed rate to the R plane if it is lower
than the initial Z.</p>
</li>
<li>
<p>Retract at the traverse rate to clear Z.</p>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="sec:G86-Boring-Rapid-Out">G86 Boring Cycle, Spindle Stop, Rapid Move Out</h3>
<div class="paragraph">
<p></p>
</div>
<div class="listingblock">
<div class="content">
<pre>G86 (X- Y- Z-) or (U- V- W-) R- L- P-</pre>
</div>
</div>
<div class="paragraph">
<p>The 'G86' cycle is intended for boring. This cycle uses a P number
for the number of seconds to dwell.</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Preliminary motion, as described in the
<a href="#section:preliminary-motion">Preliminary and In-Between Motion</a> section.</p>
</li>
<li>
<p>Move the Z-axis only at the current <a href="#sec:F-feed-rate">feed rate</a> to the Z
position.</p>
</li>
<li>
<p>Dwell for the P number of seconds.</p>
</li>
<li>
<p>Stop the spindle turning.</p>
</li>
<li>
<p>The Z-axis does a <a href="#sec:G0">rapid move</a> to clear Z.</p>
</li>
<li>
<p>Restart the spindle in the direction it was going.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>It is an error if:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>the spindle is not turning before this cycle is executed.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="sec:G87-Back-Boring">G87 Back Boring Cycle</h3>
<div class="paragraph">
<p></p>
</div>
<div class="paragraph">
<p>This code is currently unimplemented in Machinekit. It is accepted, but the
behavior is undefined.</p>
</div>
</div>
<div class="sect2">
<h3 id="sec:G88-Boring-Manual-Out">G88 Boring Cycle, Spindle Stop, Manual Out</h3>
<div class="paragraph">
<p></p>
</div>
<div class="paragraph">
<p>This code is currently unimplemented in Machinekit. It is accepted, but the
behavior is undefined.</p>
</div>
<div class="paragraph">
<p>[[sec:G89-Boring-Dwell,]]
== G89 Boring Cycle, Dwell, Feed Out
</p>
</div>
<div class="listingblock">
<div class="content">
<pre>G89 (X- Y- Z-) or (U- V- W-) R- L- P-</pre>
</div>
</div>
<div class="paragraph">
<p>The 'G89' cycle is intended for boring. This cycle uses a P number,
where P specifies the number of seconds to dwell.</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Preliminary motion, as described in the
<a href="#section:preliminary-motion">Preliminary and In-Between Motion</a> section.</p>
</li>
<li>
<p>Move the Z-axis only at the current <a href="#sec:F-feed-rate">feed rate</a> to the Z
position.</p>
</li>
<li>
<p>Dwell for the P number of seconds.</p>
</li>
<li>
<p>Retract the Z-axis at the current feed rate to clear Z.</p>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="sec:G90-G91">G90, G91 Distance Mode</h3>
<div class="paragraph">
<p></p>
</div>
<div class="ulist">
<ul>
<li>
<p>'G90' - absolute distance mode In absolute
distance mode, axis numbers (X, Y, Z, A, B, C, U, V, W)
usually represent positions in terms of the currently active
coordinate system. Any exceptions to that rule are described
explicitly in the <a href="#sec:G80-G89">G80 G89</a> Section.</p>
</li>
<li>
<p>'G91' - incremental distance mode In incremental
distance mode, axis numbers usually represent
increments from the current coordinate.</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="title">G90 Example</div>
<div class="content">
<pre>G90 (set absolute distance mode)
G0 X2.5 (rapid move to coordinate X2.5 including any offsets in effect)</pre>
</div>
</div>
<div class="listingblock">
<div class="title">G91 Example</div>
<div class="content">
<pre>G91 (set incremental distance mode)
G0 X2.5 (rapid move 2.5 from current position along the X axis)</pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>See <a href="#sec:G0">G0</a> section for more information.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="sec:G90_1-G91_1">G90.1, G91.1 Arc Distance Mode</h3>
<div class="paragraph">
<p></p>
</div>
<div class="ulist">
<ul>
<li>
<p>'G90.1' - absolute distance mode for I, J &amp; K offsets.
When G90.1 is in effect I and J both must be specified with G2/3
for the XY plane or J and K for the XZ plane or it is an error.</p>
</li>
<li>
<p>'G91.1' - incremental distance mode for I, J &amp; K offsets. G91.1 Returns
I, J &amp; K to their default behavior.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="sec:G92">G92 Coordinate System Offset</h3>
<div class="paragraph">
<p></p>
</div>
<div class="listingblock">
<div class="content">
<pre>G92 axes</pre>
</div>
</div>
<div class="paragraph">
<p>G92 makes the current point have the coordinates you want (without
motion), where the axis words contain the axis numbers you want.
All axis words are optional, except that at least one must be used.
If an axis word is not used for a given axis, the coordinate on
that axis of the current point is not changed.</p>
</div>
<div class="paragraph">
<p>When 'G92' is executed, the origins of all coordinate systems move.
They move such that the value of the current controlled point, in the currently
active coordinate system, becomes the specified value. All coordinate
system&#8217;s origins are offset this same distance.</p>
</div>
<div class="paragraph">
<p>For example, suppose the current point is at X=4 and there is
currently no 'G92' offset active. Then 'G92 x7' is programmed. This
moves all origins -3 in X, which causes the
current point to become X=7. This -3 is saved in parameter 5211.</p>
</div>
<div class="paragraph">
<p>Being in incremental distance mode has no effect on the action of 'G92'.</p>
</div>
<div class="paragraph">
<p>'G92' offsets may be already be in effect when the 'G92' is called.
If this is the case, the offset is replaced with a new
offset that makes the current point become the specified value.</p>
</div>
<div class="paragraph">
<p>It is an error if:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>all axis words are omitted.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Machinekit stores the G92 offsets and reuses them on the next run of a
program. To prevent this, one can program a G92.1 (to erase them), or
program a G92.2 (to remove them - they are still stored).</p>
</div>
<div class="paragraph">
<p>See the <a href="#cha:coordinate-system">Coordinate System</a> Section for an
overview of coordinate systems.</p>
</div>
<div class="paragraph">
<p>See the <a href="#sec:G92-Offsets">Offsets</a> Section for more information.</p>
</div>
<div class="paragraph">
<p>See the <a href="#sec:parameters">Parameters</a> Section for more information.</p>
</div>
</div>
<div class="sect2">
<h3 id="sec:G92_1-G92_2">G92.1, G92.2 Reset Coordinate System Offsets</h3>
<div class="ulist">
<ul>
<li>
<p>'G92.1' - reset axis offsets to zero and set <a href="#sub:numbered-parameters">parameters</a>
5211 - 5219 to zero.</p>
</li>
<li>
<p>'G92.2' - reset axis offsets to zero.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="sec:G92_3">G92.3 Restore Axis Offsets</h3>
<div class="ulist">
<ul>
<li>
<p>'G92.3' - set the axis offset to the values saved in parameters 5211 to 5219</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>You can set axis offsets in one program and use the same offsets in
another program. Program 'G92' in the first program. This will set
parameters 5211 to 5219. Do not use 'G92.1' in the remainder of the
first program. The parameter values will be saved when the first
program exits and restored when the second one starts up.
Use 'G92.3' near the beginning of the second program. That will restore
the offsets saved in the first program.</p>
</div>
</div>
<div class="sect2">
<h3 id="sec:G93-G94-G95-Mode">G93, G94, G95: Feed Rate Mode</h3>
<div class="paragraph">
<p></p>
</div>
<div class="ulist">
<ul>
<li>
<p>'G93' - is Inverse Time Mode. In inverse time feed rate mode, an F word
means the move should be completed in [one divided by the F number]
minutes. For example, if the F number is 2.0, the move should be
completed in half a minute.</p>
<div class="paragraph">
<p>When the inverse time feed rate mode is active, an F word must appear
on every line which has a G1, G2, or G3 motion, and an F word on a line
that does not have G1, G2, or G3 is ignored. Being in inverse time feed
rate mode does not affect G0 (<a href="#sec:G0">rapid move</a>) motions.</p>
</div>
</li>
<li>
<p>'G94' - is Units per Minute Mode.
In units per minute feed mode, an F word is interpreted to mean
the controlled point should move at a certain number of inches per
minute, millimeters per minute, or degrees per minute, depending upon
what length units are being used and which axis or axes are moving.</p>
</li>
<li>
<p>'G95' - is Units per Revolution Mode
In units per revolution mode, an F word is interpreted to mean the
controlled point should move a certain number of inches per revolution
of the spindle, depending on what length units are being used and which
axis or axes are moving. G95 is not suitable for threading, for
threading use G33 or G76.
G95 requires that motion.spindle-speed-in to be connected.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>It is an error if:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Inverse time feed mode is active and a line with G1, G2, or G3
(explicitly or implicitly) does not have an F word.</p>
</li>
<li>
<p>A new feed rate is not specified after switching to G94 or G95</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="sec:G96-G97-Spindle">G96, G97 Spindle Control Mode</h3>
<div class="paragraph">
<p></p>
</div>
<div class="listingblock">
<div class="content">
<pre>G96 &lt;D-&gt; S- (Constant Surface Speed)
G97 (RPM Mode)</pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>'D' - maximum spindle RPM</p>
</li>
<li>
<p>'S' - surface speed</p>
</li>
<li>
<p>'G96 D- S-' - selects constant surface speed of 'S' feet per minute
(if G20 is in effect) or meters per minute
(if G21 is in effect). D- is optional.</p>
<div class="paragraph">
<p>When using G96, ensure that X0 in
the current coordinate system (including offsets and tool lengths) is
the center of rotation or Machinekit will not give the desired spindle speed.
G96 is not affected by radius or diameter mode.</p>
</div>
</li>
<li>
<p>'G97' selects RPM mode.</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="title">G96 Example Line</div>
<div class="content">
<pre>G96 D2500 S250 (set CSS with a max rpm of 2500 and a surface speed of 250)</pre>
</div>
</div>
<div class="paragraph">
<p>It is an error if:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>S is not specified with G96</p>
</li>
<li>
<p>A feed move is specified in G96 mode while the spindle is not turning</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="sec:G98-G99-Set">G98, G99 Canned Cycle Return Level</h3>
<div class="paragraph">
<p></p>
</div>
<div class="ulist">
<ul>
<li>
<p>'G98' - retract to the position that axis was in just before this series
of one or more contiguous canned cycles was started.</p>
</li>
<li>
<p>'G99' - retract to the position specified by the R word of the canned cycle.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Program a 'G98' and the canned cycle will use the Z position prior to
the canned cycle as the Z return position if it is higher than the R
value specified in the cycle. If it is lower, the R value will be
used. The R word has different meanings in absolute distance mode and
incremental distance mode.</p>
</div>
<div class="listingblock">
<div class="title">G98 Retract to Origin</div>
<div class="content">
<pre>G0 X1 Y2 Z3
G90 G98 G81 X4 Y5 Z-0.6 R1.8 F10</pre>
</div>
</div>
<div class="paragraph">
<p>The G98 to the second line above means that the return move will be to
the value of Z in the first line since it is higher that the R value
specified.</p>
</div>
<div class="paragraph">
<p>The 'initial' (G98) plane is reset any time cycle motion mode is
abandoned, whether explicitly (G80) or implicitly (any motion code
that is not a cycle). Switching among cycle modes (say G81
to G83) does NOT reset the 'initial' plane. It is possible to switch
between G98 and G99 during a series of cycles.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="m-codes">M Codes</h2>
<div class="sectionbody">
<div class="paragraph">
<p><a id="cha:m-codes"></a> </p>
</div>
<div class="sect2">
<h3 id="m-code-quick-reference">M Code Quick Reference Table</h3>
<table class="tableblock frame-all grid-all" style="width: 60%;">
<colgroup>
<col style="width: 50%;">
<col style="width: 50%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Code</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#sec:M0-M1">M0 M1</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Program Pause</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#sec:M2-M30">M2 M30</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Program End</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#sec:M60">M60</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Pallet Change Pause</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#sec:M3-M4-M5">M3 M4 M5</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Spindle Control</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#sec:M6-Tool-Change">M6</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Tool Change</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#sec:M7-M8-M9">M7 M8 M9</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Coolant Control</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#sec:M19">M19</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Orient Spindle</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#sec:M48-M49-Override">M48 M49</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Feed &amp; Spindle Overrides Enable/Disable</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#sec:M50-Feed-Override">M50</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Feed Override Control</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#sec:M51-Spindle-Override">M51</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Spindle Override Control</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#sec:M52-Adaptive-Feed-Control">M52</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Adaptive Feed Control</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#sec:M53-Feed-Stop-Control">M53</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Feed Stop Control</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#sec:M61-Set-Current-Tool-Number">M61</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Set Current Tool Number</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#sec:M62-M65">M62-M65</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Output Control</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#sec:M66-Input-Control">M66</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Input Control</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#sec:M67-Analog-Output">M67</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Analog Output Control</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#sec:M68-Analog-Output">M68</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Analog Output Control</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#sec:M70-Save-Modal-State">M70</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Save Modal State</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#sec:M71-Invalidate-Stored-Modal-State">M71</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Invalidate Stored Modal State</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#sec:M72-Restore-Modal-State">M72</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Restore Modal State</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#sec:M73-Save-Autorestore-Modal-State">M73</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Save Autorestore Modal State</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><a href="#sec:M100-to-M199">M100-M199</a></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">User Defined M-Codes</p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="sec:M0-M1">M0, M1 Program Pause</h3>
<div class="paragraph">
<p></p>
</div>
<div class="ulist">
<ul>
<li>
<p>'M0' - pause a running program temporarily. Machinekit remains
in the Auto Mode so MDI and other manual actions
are not enabled. Pressing the cycle start button
will restart the program at the following line.</p>
</li>
<li>
<p>'M1' - pause a running program temporarily if the optional
stop switch is on. Machinekit remains in the Auto Mode
so MDI and other manual actions are not enabled.
Pressing the cycle start button
will restart the program at the following line.</p>
</li>
</ul>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
It is OK to program 'M0' and 'M1' in MDI mode,
but the effect will probably not be noticeable,
because normal behavior in MDI mode is
to stop after each line of input anyway.
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="sec:M2-M30">M2, M30 Program End</h3>
<div class="paragraph">
<p></p>
</div>
<div class="ulist">
<ul>
<li>
<p>'M2' - end the program. Pressing cycle start will
start the program at the beginning of the file.</p>
</li>
<li>
<p>'M30' - exchange pallet shuttles and end the program.
Pressing cycle start will start the program
at the beginning of the file.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Both of these commands have the following effects:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Change from Auto mode to MDI mode.</p>
</li>
<li>
<p>Origin offsets are set to the default (like 'G54').</p>
</li>
<li>
<p>Selected plane is set to XY plane (like 'G17').</p>
</li>
<li>
<p>Distance mode is set to absolute mode (like 'G90').</p>
</li>
<li>
<p>Feed rate mode is set to units per minute (like 'G94').</p>
</li>
<li>
<p>Feed and speed overrides are set to ON (like 'M48').</p>
</li>
<li>
<p>Cutter compensation is turned off (like 'G40').</p>
</li>
<li>
<p>The spindle is stopped (like 'M5').</p>
</li>
<li>
<p>The current motion mode is set to feed (like 'G1').</p>
</li>
<li>
<p>Coolant is turned off (like 'M9').</p>
</li>
</ol>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
Lines of code after M2/M30 will not be executed.
Pressing cycle start will start the program
at the beginning of the file.
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="sec:M60">M60 Pallet Change Pause</h3>
<div class="paragraph">
<p></p>
</div>
<div class="ulist">
<ul>
<li>
<p>'M60' - exchange pallet shuttles and then pause a running program
temporarily (regardless of the setting of the optional stop
switch). Pressing the cycle start button
will restart the program at the following line.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="sec:M3-M4-M5">M3, M4, M5 Spindle Control</h3>
<div class="paragraph">
<p></p>
</div>
<div class="ulist">
<ul>
<li>
<p>'M3' - start the spindle clockwise at the 'S' speed.</p>
</li>
<li>
<p>'M4' - start the spindle counterclockwise at the 'S' speed.</p>
</li>
<li>
<p>'M5' - stop the spindle.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>It is OK to use 'M3' or 'M4' if the <a href="#sec:S-spindle-speed">S</a>
spindle speed is set to zero. If this is done
(or if the speed override switch is enabled and set to zero),
the spindle will not start turning.
If, later, the spindle speed is set above zero
(or the override switch is turned up),
the spindle will start turning.
It is OK to use 'M3' or 'M4' when the spindle is already
turning or to use 'M5' when the spindle is already stopped.</p>
</div>
</div>
<div class="sect2">
<h3 id="sec:M6-Tool-Change">M6 Tool Change</h3>
<div class="paragraph">
<p></p>
</div>
<div class="sect3">
<h4 id="manual-tool-change">Manual Tool Change</h4>
<div class="paragraph">
<p>If the HAL component hal_manualtoolchange is loaded,
M6 will stop the spindle and prompt the user to change the tool
based on the last 'T-' number programmed.
For more information on hal_manualtoolchange see
the (<a href="#sec:Manual-Tool-Change">Manual Tool Change</a>) Section.</p>
</div>
</div>
<div class="sect3">
<h4 id="tool-changer">Tool Changer</h4>
<div class="paragraph">
<p>To change a tool in the spindle from the tool currently in the spindle
to the tool most recently selected (using a T word - see Section
<a href="#sec:T-Select-Tool">Select Tool</a>), program 'M6'.
When the tool change is complete:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>The spindle will be stopped.</p>
</li>
<li>
<p>The tool that was selected (by a T word on the same line or on any
line after the previous tool change) will be in the spindle.</p>
</li>
<li>
<p>If the selected tool was not in the spindle before the tool change,
the tool that was in the spindle (if there was one) will be placed
back into the tool changer magazine.</p>
</li>
<li>
<p>If configured in the .ini file some axis positions may move when a M6
is issued. See the EMCIO section of the Integrator&#8217;s Manual for more
information on tool change options.</p>
</li>
<li>
<p>No other changes will be made. For example, coolant will continue to
flow during the tool change unless it has been turned off by an 'M9'.</p>
</li>
</ul>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<div class="title">Warning</div>
</td>
<td class="content">
The tool length offset is not changed by 'M6', use 'G43' after the
'M6' to change the tool length offset.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>The tool change may include axis motion.
It is OK (but not useful) to program a change to the tool already in the spindle.
It is OK if there is no tool in the selected slot;
in that case, the spindle will be empty after the tool change.
If slot zero was last selected,
there will definitely be no tool in the spindle after a tool change. The tool
changer will have to be setup to perform the tool change in hal and possibly
classicladder.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="sec:M7-M8-M9">M7, M8, M9 Coolant Control</h3>
<div class="paragraph">
<p></p>
</div>
<div class="ulist">
<ul>
<li>
<p>'M7' - turn mist coolant on.</p>
</li>
<li>
<p>'M8' - turn flood coolant on.</p>
</li>
<li>
<p>'M9' - turn all coolant off.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>It is OK to use any of these commands, regardless of the current coolant
state.</p>
</div>
</div>
<div class="sect2">
<h3 id="sec:M19">M19 Orient Spindle</h3>
<div class="paragraph">
<p></p>
</div>
<div class="ulist">
<ul>
<li>
<p>'M19 R- Q- [P-]'</p>
</li>
<li>
<p>'R' Position to rotate to from 0, valid range is 0-360 degrees</p>
</li>
<li>
<p>'Q' Number of seconds to wait until orient completes. If
motion.spindle.is_oriented does not become true within Q timeout
an error occurs.</p>
</li>
<li>
<p>'P' Direction to rotate to position.</p>
<div class="ulist">
<ul>
<li>
<p>'0' rotate for smallest angular movement (default)</p>
</li>
<li>
<p>'1' always rotate clockwise (same as M3 direction)</p>
</li>
<li>
<p>'2' always rotate counterclockwise (same as M4 direction)</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
<div class="paragraph">
<p>M19 is cleared by any of M3,M4,M5.</p>
</div>
<div class="paragraph">
<p>Spindle orientation requires a differential encoder with an index to sense the
spindle shaft position and direction of rotation.</p>
</div>
<div class="paragraph">
<p>INI Settings in the [RS274NGC] section.</p>
</div>
<div class="paragraph">
<p>ORIENT_OFFSET = 0-360 (fixed offset in degrees added to M19 R word)</p>
</div>
<div class="paragraph">
<p>HAL Pins</p>
</div>
<div class="ulist">
<ul>
<li>
<p>'motion.spindle-orient-angle' (out float)
Desired spindle orientation for M19. Value of the M19 R word parameter
plus the value of the [RS274NGC]ORIENT_OFFSET ini parameter.</p>
</li>
<li>
<p>'motion.spindle-orient-mode' (out s32)
Desired spindle rotation mode. Reflects M19 P parameter word, Default = 0</p>
</li>
<li>
<p>'motion.spindle-orient' (out bit)
Indicates start of spindle orient cycle. Set by M19. Cleared by any of
M3,M4,M5.
  If spindle-orient-fault is not zero during spindle-orient true, the
M19 command fails with an error message.</p>
</li>
<li>
<p>'motion.spindle-is-oriented' (in bit)
Acknowledge pin for spindle-orient. Completes orient cycle. If
spindle-orient was true when spindle-is-oriented
  was asserted, the spindle-orient pin is cleared and the spindle-locked
pin is asserted. Also, the spindle-brake pin is asserted.</p>
</li>
<li>
<p>'motion.spindle-orient-fault' (in s32)
  Fault code input for orient cycle. Any value other than zero will
cause the orient cycle to abort.</p>
</li>
<li>
<p>'motion.spindle-locked' (out bit)
Spindle orient complete pin. Cleared by any of M3,M4,M5.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="sec:M48-M49-Override">M48, M49 Speed and Feed Override Control</h3>
<div class="paragraph">
<p></p>
</div>
<div class="ulist">
<ul>
<li>
<p>'M48' - enable the spindle speed and feed rate override controls.</p>
</li>
<li>
<p>'M49' - disable both controls.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>It is OK to enable or disable the controls when
they are already enabled or disabled.
See the <a href="#sub:feed-rate">Feed Rate</a> Section for more details.</p>
</div>
</div>
<div class="sect2">
<h3 id="sec:M50-Feed-Override">M50 Feed Override Control</h3>
<div class="paragraph">
<p></p>
</div>
<div class="ulist">
<ul>
<li>
<p>'M50 &lt;P1&gt;' - enable the feed rate override control. The P1
is optional.</p>
</li>
<li>
<p>'M50 P0' - disable the feed rate control.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>While disabled the feed override will have no influence,
and the motion will be executed at programmed feed rate.
(unless there is an adaptive feed rate override active).</p>
</div>
</div>
<div class="sect2">
<h3 id="sec:M51-Spindle-Override">M51 Spindle Speed Override Control</h3>
<div class="paragraph">
<p></p>
</div>
<div class="ulist">
<ul>
<li>
<p>'M51 &lt;P1&gt;' - enable the spindle speed override control. The P1
is optional.</p>
</li>
<li>
<p>'M51 P0' - disable the spindle speed override control program.
While disabled the spindle speed override will have
no influence, and the spindle speed will have the
exact program specified value of the S-word
(described in <a href="#sec:S-spindle-speed">Spindle Speed</a> Section).</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="sec:M52-Adaptive-Feed-Control">M52 Adaptive Feed Control</h3>
<div class="paragraph">
<p></p>
</div>
<div class="ulist">
<ul>
<li>
<p>'M52 &lt;P1&gt;' - use an adaptive feed. The P1 is optional.</p>
</li>
<li>
<p>'M52 P0' - stop using adaptive feed.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>When adaptive feed is enabled, some external input value is used together
with the user interface feed override value and the commanded feed rate
to set the actual feed rate. In Machinekit, the HAL pin 'motion.adaptive-feed'
is used for this purpose. Values on 'motion.adaptive-feed' should range
from 0 (feed hold) to 1 (full speed).</p>
</div>
</div>
<div class="sect2">
<h3 id="sec:M53-Feed-Stop-Control">M53 Feed Stop Control</h3>
<div class="paragraph">
<p></p>
</div>
<div class="ulist">
<ul>
<li>
<p>'M53 &lt;P1&gt;' - enable the feed stop switch. The P1 is optional.
Enabling the feed stop switch will allow motion to be
interrupted by means of the feed stop control. In Machinekit,
the HAL pin 'motion.feed-hold' is used for this purpose. A 'true'
value will cause the motion to stop when 'M53' is active.</p>
</li>
<li>
<p>'M53 P0' - disable the feed stop switch. The state of 'motion.feed-hold'
will have no effect on feed when M53 is not active.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="sec:M61-Set-Current-Tool-Number">M61 Set Current Tool Number</h3>
<div class="paragraph">
<p></p>
</div>
<div class="ulist">
<ul>
<li>
<p>'M61 Q-' - change the current tool number while in MDI or Manual mode.
One use is when you power up Machinekit with a tool currently in
the spindle you can set that tool number without doing a tool change.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>It is an error if:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Q- is not 0 or greater</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="sec:M62-M65">M62 to M65 Output Control</h3>
<div class="paragraph">
<p></p>
</div>
<div class="ulist">
<ul>
<li>
<p>'M62 P-' - turn on digital output synchronized with motion.
The P- word specifies the digital output number.</p>
</li>
<li>
<p>'M63 P-' - turn off digital output synchronized with motion.
The P- word specifies the digital output number.</p>
</li>
<li>
<p>'M64 P-' - turn on digital output immediately.
The P- word specifies the digital output number.</p>
</li>
<li>
<p>'M65 P-' - turn off digital output immediately.
The P- word specifies the digital output number.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The P-word ranges from 0 to a default value of 3. If needed the the
number of I/O can be increased by using the num_dio parameter when loading
the motion controller. See the Integrator&#8217;s Manual Configuration Section Machinekit and
HAL section for more information.</p>
</div>
<div class="paragraph">
<p>The M62 &amp; M63 commands will be queued. Subsequent commands referring
to the same output number will overwrite the older settings. More than
one output change can be specified by issuing more than one M62/M63
command.</p>
</div>
<div class="paragraph">
<p>The actual change of the specified outputs will happen at the
beginning of the next motion command. If there is no subsequent motion
command, the queued output changes won&#8217;t happen. It&#8217;s best to always
program a motion G code (G0, G1, etc) right after the M62/63.</p>
</div>
<div class="paragraph">
<p>M64 &amp; M65 happen immediately as they are received by the motion
controller. They are not synchronized with movement, and they will
break blending.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
M62-65 will not function unless the appropriate motion.digital-out-nn pins are
connected in your hal file to outputs.
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="sec:M66-Input-Control">M66 Wait on Input</h3>
<div class="paragraph">
<p></p>
</div>
<div class="listingblock">
<div class="content">
<pre>M66 P- | E- &lt;L-&gt;</pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>'P-' - specifies the digital input number from 0 to 3.</p>
</li>
<li>
<p>'E-' - specifies the analog input number from 0 to 3.</p>
</li>
<li>
<p>'L-' - specifies the wait mode type.</p>
<div class="ulist">
<ul>
<li>
<p>'Mode 0: IMMEDIATE' - no waiting, returns immediately.
The current value of the input is stored in parameter #5399</p>
</li>
<li>
<p>'Mode 1: RISE' - waits for the selected input to perform a rise event.</p>
</li>
<li>
<p>'Mode 2: FALL' - waits for the selected input to perform a fall event.</p>
</li>
<li>
<p>'Mode 3: HIGH' - waits for the selected input to go to the HIGH state.</p>
</li>
<li>
<p>'Mode 4: LOW' - waits for the selected input to go to the LOW state.</p>
</li>
</ul>
</div>
</li>
<li>
<p>'Q-' - specifies the timeout in seconds for waiting. If the timeout is
exceeded, the wait is interrupt, and the variable #5399 will be holding
the value -1. The Q value is ignored if the L-word is zero (IMMEDIATE).
A Q value of zero is an error if the L-word is non-zero.</p>
</li>
<li>
<p>Mode 0 is the only one permitted for an analog input.</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="title">M66 Example Lines</div>
<div class="content">
<pre>M66 P0 L3 Q5 (wait up to 5 seconds for digital input 0 to turn on)</pre>
</div>
</div>
<div class="paragraph">
<p>M66 wait on an input stops further execution of the program, until the
selected event (or the programmed timeout) occurs.</p>
</div>
<div class="paragraph">
<p>It is an error to program M66 with both a P-word and an E-word (thus
selecting both an analog and a digital input).  In Machinekit these
inputs are not monitored in real time and thus should not be used for
timing-critical applications.</p>
</div>
<div class="paragraph">
<p>The number of I/O can be increased by using the num_dio or num_aio parameter
when loading the motion controller. See the Integrator&#8217;s Manual, Core
Components Section, Motion subsection, for more information.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
M66 will not function unless the appropriate motion.digital-in-nn pins or
motion.analog-in-nn pins are connected in your hal file to an input.
</td>
</tr>
</table>
</div>
<div class="listingblock">
<div class="title">Example HAL Connection</div>
<div class="content">
<pre>net signal-name motion.digital-in-00 &lt;= parport.0.pin10-in</pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="sec:M67-Analog-Output">M67 Synchronized Analog Output</h3>
<div class="paragraph">
<p></p>
</div>
<div class="listingblock">
<div class="content">
<pre>M67 E- Q-</pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>'M67' - set an analog output synchronized with motion.</p>
</li>
<li>
<p>'E-' - output number ranging from 0 to 3.</p>
</li>
<li>
<p>'Q-' - is the value to set (set to 0 to turn off).</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The actual change of the specified outputs will happen at the
beginning of the next motion command. If there is no subsequent motion
command, the queued output changes won&#8217;t happen. It&#8217;s best to always
program a motion G code (G0, G1, etc) right after the M67. M67 functions
the same as M62-63.</p>
</div>
<div class="paragraph">
<p>The number of I/O can be increased by using the num_dio or num_aio parameter
when loading the motion controller. See the Integrator&#8217;s Manual, Core
Components Section, Motion subsection, for more information.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
M67 will not function unless the appropriate motion.analog-out-nn pins are
connected in your hal file to outputs.
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="sec:M68-Analog-Output">M68 Analog Output</h3>
<div class="paragraph">
<p></p>
</div>
<div class="listingblock">
<div class="content">
<pre>M68 E- Q-</pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>'M68' - set an analog output immediately.</p>
</li>
<li>
<p>'E-' - output number ranging from 0 to 3.</p>
</li>
<li>
<p>'Q-' - is the value to set (set to 0 to turn off).</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>M68 output happen immediately as they are received by the motion
controller. They are not synchronized with movement, and they will
break blending. M68 functions the same as M64-65.</p>
</div>
<div class="paragraph">
<p>The number of I/O can be increased by using the num_dio or num_aio parameter
when loading the motion controller. See the Integrator&#8217;s Manual, Core
Components Section, Motion subsection, for more information.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
M68 will not function unless the appropriate motion.analog-out-nn pins are
connected in your hal file to outputs.
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="m70-save-modal-state-a-id-sec-m70-save-modal-state-a">M70 Save Modal State<a id="sec:M70-Save-Modal-State"></a></h3>
<div class="paragraph">
<p></p>
</div>
<div class="paragraph">
<p>To explicitly save the modal state at the current call level, program
'M70'. Once modal state has been saved with 'M70', it can be restored
to exactly that state by executing an 'M72'.</p>
</div>
<div class="paragraph">
<p>A pair of 'M70' and 'M72' instructions will typically be used to
protect a program against inadvertant modal changes within
subroutines.</p>
</div>
<div id="saved_state_by_M70" class="paragraph">
<p>The state saved consists of:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>current G20/G21 settings (imperial/metric)</p>
</li>
<li>
<p>selected plane (G17/G18/G19 G17.1,G18.1,G19.1)</p>
</li>
<li>
<p>status of cutter compensation (G40,G41,G42,G41.1,G42,1)</p>
</li>
<li>
<p>distance mode - relative/absolute (G90/G91)</p>
</li>
<li>
<p>feed mode (G93/G94,G95)</p>
</li>
<li>
<p>current coordinate system (G54-G59.3)</p>
</li>
<li>
<p>tool length compensation status (G43,G43.1,G49)</p>
</li>
<li>
<p>retract mode (G98,G99)</p>
</li>
<li>
<p>spindle mode (G96-css or G97-RPM)</p>
</li>
<li>
<p>arc distance mode (G90.1, G91.1)</p>
</li>
<li>
<p>lathe radius/diameter mode (G7,G8)</p>
</li>
<li>
<p>path control mode (G61, G61.1, G64)</p>
</li>
<li>
<p>current feed and speed ('F' and 'S' values)</p>
</li>
<li>
<p>spindle status (M3,M4,M5) - on/off and direction</p>
</li>
<li>
<p>mist (M7) and flood (M8) status</p>
</li>
<li>
<p>speed override (M51) and feed override (M50) settings</p>
</li>
<li>
<p>adaptive feed setting (M52)</p>
</li>
<li>
<p>feed hold setting (M53)</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Note that in particular, the motion mode (G1 etc) is NOT restored.</p>
</div>
<div class="paragraph">
<p>'current call level' means either:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>executing in the main program. There is a single storage location
for state at the main program level; if several 'M70' instructions
are executed in turn, only the most recently saved state is restored
when an 'M72' is executed.</p>
</li>
<li>
<p>executing within a G-code subroutine. The state saved with 'M70'
within a subroutine behaves exactly like a local named parameter - it
can be referred to only within this subroutine invocation with an
'M72' and when the subroutine exits, the paramter goes away.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>A recursive invocation of a subroutine introduces a new call level.</p>
</div>
</div>
<div class="sect2">
<h3 id="m71-invalidate-stored-modal-state-a-id-sec-m71-invalidate-stored-modal-state-a">M71 Invalidate Stored Modal State<a id="sec:M71-Invalidate-Stored-Modal-State"></a></h3>
<div class="paragraph">
<p></p>
</div>
<div class="paragraph">
<p><a href="#saved_state_by_M70">Modal state saved with an 'M70'</a> or by an
<a href="#sec:M73-Save-Autorestore-Modal-State">'M73'</a> at the current call
level is invalidated (cannot be restored from anymore).</p>
</div>
<div class="paragraph">
<p>A subsequent 'M72' at the same call level will fail.</p>
</div>
<div class="paragraph">
<p>If executed in a subroutine which protects modal state by an 'M73', a
subsequent return or endsub will <strong>not</strong> restore modal state.</p>
</div>
<div class="paragraph">
<p>The usefulness of this feature is dubious. It should not be relied upon as it might
go away.</p>
</div>
</div>
<div class="sect2">
<h3 id="m72-restore-modal-state-a-id-sec-m72-restore-modal-state-a">M72 Restore Modal State<a id="sec:M72-Restore-Modal-State"></a></h3>
<div class="paragraph">
<p></p>
</div>
<div class="paragraph">
<p><a href="#saved_state_by_M70">Modal state saved with an 'M70'</a> code can be
restored by executing an 'M72'.</p>
</div>
<div class="paragraph">
<p>The handling of G20/G21 is specially treated as feeds are interpreted
differently depending on G20/G21: if length units (mm/in) are about to
be changed by the restore operation, 'M72 'will restore the distance
mode first, and then all other state including feed to make sure the
feed value is interpreted in the correct unit setting.</p>
</div>
<div class="paragraph">
<p>It is an error to execute an 'M72' with no previous 'M70' save
operation at that level.</p>
</div>
<div class="paragraph">
<p>The following example demonstrates saving and explicitely restoring
modal state around a subroutine call using 'M70' and 'M72'. Note that
the 'imperialsub' subroutine is not "aware" of the M7x features and can be
used unmodified:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-{basebackend@docbook:'':ngc}" data-lang="{basebackend@docbook:'':ngc}">O&lt;showstate&gt; sub
(DEBUG, imperial=#&lt;_imperial&gt; absolute=#&lt;_absolute&gt; feed=#&lt;_feed&gt; rpm=#&lt;_rpm&gt;)
O&lt;showstate&gt; endsub

O&lt;imperialsub&gt; sub
g20 (imperial)
g91 (relative mode)
F5 (low feed)
S300 (low rpm)
(debug, in subroutine, state now:)
o&lt;showstate&gt; call
O&lt;imperialsub&gt; endsub

; main program
g21 (metric)
g90 (absolute)
f200 (fast speed)
S2500 (high rpm)

(debug, in main, state now:)
o&lt;showstate&gt; call

M70 (save caller state in at global level)
O&lt;imperialsub&gt; call
M72 (explicitely restore state)

(debug, back in main, state now:)
o&lt;showstate&gt; call
m2</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="m73-save-and-autorestore-modal-state-a-id-sec-m73-save-autorestore-modal-state-a">M73 Save and Autorestore Modal State<a id="sec:M73-Save-Autorestore-Modal-State"></a></h3>
<div class="paragraph">
<p></p>
</div>
<div class="paragraph">
<p>To save modal state within a subroutine, and restore state on
subroutine 'endsub' or any 'return' path, program 'M73'.</p>
</div>
<div class="paragraph">
<p>Aborting a running program in a subroutine which has an 'M73'
operation will <strong>not</strong> restore state .</p>
</div>
<div class="paragraph">
<p>Also, the normal end ('M2') of a main program which contains an 'M73'
will <strong>not</strong> restore state.</p>
</div>
<div class="paragraph">
<p>The suggested use is at the beginning of a O-word subroutine as in the
following example. Using 'M73' this way enables designing subroutines
which need to modify modal state but will protect the calling program
against inadvertant modal changes. Note the use of
<a href="#sec:Predefined-Named-Parameters">predefined named parameters</a> in
the 'showstate' subroutine.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-{basebackend@docbook:'':ngc}" data-lang="{basebackend@docbook:'':ngc}">O&lt;showstate&gt; sub
(DEBUG, imperial=#&lt;_imperial&gt; absolute=#&lt;_absolute&gt; feed=#&lt;_feed&gt; rpm=#&lt;_rpm&gt;)
O&lt;showstate&gt; endsub

O&lt;imperialsub&gt; sub
M73 (save caller state in current call context, restore on return or endsub)
g20 (imperial)
g91 (relative mode)
F5 (low feed)
S300 (low rpm)
(debug, in subroutine, state now:)
o&lt;showstate&gt; call

; note - no M72 is needed here - the following endsub or an
; explicit 'return' will restore caller state
O&lt;imperialsub&gt; endsub

; main program
g21 (metric)
g90 (absolute)
f200 (fast speed)
S2500 (high rpm)
(debug, in main, state now:)
o&lt;showstate&gt; call
o&lt;imperialsub&gt; call
(debug, back in main, state now:)
o&lt;showstate&gt; call
m2</code></pre>
</div>
</div>
<div class="sect3">
<h4 id="sec:Selectively-restoring-modal-state">Selectively restoring modal state by testing predefined parameters</h4>
<div class="paragraph">
<p>Executing an 'M72' or returning from a subroutine which contains an
'M73' will restore <a href="#saved_state_by_M70"><strong>all</strong> modal state saved</a>.</p>
</div>
<div class="paragraph">
<p>If only some aspects of modal state should be preserved, an
alternative is the usage of <a href="#sec:Predefined-Named-Parameters">predefined named parameters</a>, local parameters and conditional
statements. The idea is to remember the modes to be restored at the
beginning of the subroutine, and restore these before exiting. Here is
an example, based on snippet of 'nc_files/tool-length-probe.ngc':</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-{basebackend@docbook:'':ngc}" data-lang="{basebackend@docbook:'':ngc}">O&lt;measure&gt; sub   (measure reference tool)
;
#&lt;absolute&gt; = #&lt;_absolute&gt;  (remember in local variable if G90 was set)
;
g30 (above switch)
g38.2 z0 f15 (measure)
g91 g0z.2 (off the switch)
#1000=#5063 (save reference tool length)
(print,reference length is #1000)
;
O&lt;restore_abs&gt; if [#&lt;absolute&gt;]
    g90 (restore G90 only if it was set on entry:)
O&lt;restore_abs&gt; endif
;
O&lt;measure&gt; endsub</code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="sec:M100-to-M199">M100 to M199 User Defined Commands</h3>
<div class="paragraph">
<p></p>
</div>
<div class="listingblock">
<div class="content">
<pre>M1-- &lt;P- Q-&gt;</pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>'M1--' - an integer in the range of 100 - 199.</p>
</li>
<li>
<p>'P-' - a number passed to the file as the first parameter.</p>
</li>
<li>
<p>'Q-' - a number passed to the file as the second parameter.</p>
</li>
</ul>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
After creating a new 'M1nn' file you must restart the GUI so it is aware
of the new file, otherwise you will get an 'Unkown m code' error.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>The external program named 'M100' through 'M199' (no extension and a capitol M)
is executed with the optional P and Q values as its two arguments.
Execution of the G code file pauses until the external program exits.
Any valid executable file can be used. The file must be located in the search
path specificed in the ini file configuration. See the ini config section of
the Integrators Manual for more information on search paths.</p>
</div>
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<div class="title">Warning</div>
</td>
<td class="content">
Do not use a word processor to create or edit the files. A word processor
will leave unseen codes that will cause problems and may prevent a bash or
python file from working. Use a text editor like Gedit in Debian or Notepad++
in other operating systems to create or edit the files.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>The error 'Unknown M code used' denotes one of the following</p>
</div>
<div class="ulist">
<ul>
<li>
<p>The specified User Defined Command does not exist</p>
</li>
<li>
<p>The file is not an executable file</p>
</li>
<li>
<p>The file name has an extension</p>
</li>
<li>
<p>The file name does not follow this format M1nn where nn = 00 through 99</p>
</li>
<li>
<p>The file name used a lower case M</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>For example to open and close a collet closer that is controlled by a
parallel port pin using a bash script file using M101 and M102. Create two
files named M101 and M102. Set them as executable files (typically
right click/properties/permissions) before running Machinekit. Make sure the
parallel port pin is not connected to anything in a HAL file.</p>
</div>
<div class="listingblock">
<div class="title">M101 Example File</div>
<div class="content">
<pre>#!/bin/bash
# file to turn on parport pin 14 to open the collet closer
halcmd setp parport.0.pin-14-out True
exit 0</pre>
</div>
</div>
<div class="listingblock">
<div class="title">M102 Example File</div>
<div class="content">
<pre>#!/bin/bash
# file to turn off parport pin 14 to open the collet closer
halcmd setp parport.0.pin-14-out False
exit 0</pre>
</div>
</div>
<div class="paragraph">
<p>To pass a variable to a M1nn file you use the P and Q option like this:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>M100 P123.456 Q321.654</pre>
</div>
</div>
<div class="listingblock">
<div class="title">M100 Example file</div>
<div class="content">
<pre>#!/bin/bash
voltage=$1
feedrate=$2
halcmd setp thc.voltage $voltage
halcmd setp thc.feedrate $feedrate
exit 0</pre>
</div>
</div>
<div class="paragraph">
<p>To display a graphic message and stop until the message window is closed
use a graphic display program like Eye of Gnome to display the graphic
file. When you close it the program will resume.</p>
</div>
<div class="listingblock">
<div class="title">M110 Example file</div>
<div class="content">
<pre>#!/bin/bash
eog /home/john/machinekit/nc_files/message.png
exit 0</pre>
</div>
</div>
<div class="paragraph">
<p>To display a graphic message and continue processing the G code file
suffix an ampersand to the command.</p>
</div>
<div class="listingblock">
<div class="title">M110 Example display and keep going</div>
<div class="content">
<pre>#!/bin/bash
eog /home/john/machinekit/nc_files/message.png &amp;
exit 0</pre>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="o-codes">O Codes</h2>
<div class="sectionbody">
<div class="paragraph">
<p><a id="cha:O-Codes"></a> </p>
</div>
<div class="paragraph">
<p>O-codes provide for flow control in NC programs. Each block has an
associated number, which is the number used after O. Care must be taken
to properly match the O-numbers. O codes use the letter 'O' not the
number zero as the first character in the number like O100.</p>
</div>
<div class="listingblock">
<div class="title">Numbering Example</div>
<div class="content">
<pre>o100 sub
(notice that the if-endif block uses a different number)
  o110 if [#2 GT 5]
    (some code here)
  o110 endif
  (some more code here)
o100 endsub</pre>
</div>
</div>
<div class="paragraph">
<p>The behavior is undefined if:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>The same number is used for more than one block</p>
</li>
<li>
<p>Other words are used on a line with an O- word</p>
</li>
<li>
<p>Comments are used on a line with an O-word</p>
</li>
</ul>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
Using the lower case o makes it easier to distinguish from a 0
that might have been mistyped. For example o100 is easier to
see than O100 that it is not a 0.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>The following statements  cause an error message and  abort the
interpreter:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>a <code>return</code> or <code>endsub</code> not within a sub defintion</p>
</li>
<li>
<p>a label on <code>repeat</code> which is defined elsewhere</p>
</li>
<li>
<p>a label on <code>while</code> which is defińed elsewhere and not referring to a <code>do</code></p>
</li>
<li>
<p>a label on <code>if</code> defined elsewhere</p>
</li>
<li>
<p>a undefined label on <code>else</code> or <code>elseif</code></p>
</li>
<li>
<p>a label on <code>else</code>, <code>elseif</code> or <code>endif</code> not pointing to a matching <code>if</code></p>
</li>
<li>
<p>a label on <code>break</code> or <code>continue</code> which does not point to a matching <code>while</code> or <code>do</code></p>
</li>
<li>
<p>a label on <code>endrepeat</code> or <code>endwhile</code> no referring to a corresponding <code>while</code> or <code>repeat</code></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>To make these errors non-fatal  warnings on stderr, set bit 0x20 in
the <code>[RS274NGC]FEATURE=</code> mask ini option.</p>
</div>
<div class="sect2">
<h3 id="sec:subroutines">Subroutines</h3>
<div class="paragraph">
<p>
</p>
</div>
<div class="paragraph">
<p>Subroutines extend from a 'O- sub' to an 'O- endsub' . The lines
between 'O- sub' and 'O- endsub' are not executed until
the subroutine is called with 'O- call'.</p>
</div>
<div class="listingblock">
<div class="title">Subroutine Example</div>
<div class="content">
<pre>o100 sub
  G53 G0 X0 Y0 Z0 (rapid move to machine home)
o100 endsub
...
o100 call (call the subroutine here)
M2</pre>
</div>
</div>
<div class="paragraph">
<p>See <a href="#sec:G53-Move-in">G53</a> &amp; <a href="#sec:G0">G0</a> &amp; <a href="#sec:M2-M30">M2</a> sections for more information.</p>
</div>
<div class="paragraph">
<div class="title">O- Return</div>
<p>Inside a subroutine, 'O- return' can be executed. This immediately
returns to the calling code, just as though 'O- endsub' was encountered.</p>
</div>
<div class="listingblock">
<div class="title">O- Return Example</div>
<div class="content">
<pre>o100 sub
  o110 if [#2 GT 5] (test if parameter #2 is greater than 5)
    o100 return (return to top of subroutine if test is true)
  o110 endif
  (some code here that only gets executed if parameter #2 is less than 5)
o100 endsub</pre>
</div>
</div>
<div class="paragraph">
<p>See the <a href="#sec:Binary-Operators">Binary Operators</a> &amp; <a href="#sec:parameters">Parameters</a> sections for more information.</p>
</div>
<div class="paragraph">
<div class="title">O- Call</div>
<p>'O- Call' takes up to 30 optional arguments, which are passed to the
subroutine
 as '#1', '#2' , &#8230;&#8203;, #N. Parameters from #N+1 to #30 have the same
value as in the
calling context. On return from the subroutine, the values of
parameters #1 through #30 (regardless of the number of arguments) will
be restored to the values they had before the call. Parameters #1 - #30
are local to the subroutine.</p>
</div>
<div class="paragraph">
<p>Because '1 2 3' is parsed as the number 123, the parameters must be
enclosed in
square brackets. The following calls a subroutine with 3 arguments:</p>
</div>
<div class="listingblock">
<div class="title">O- Call Example</div>
<div class="content">
<pre>o200 call [1] [2] [3]</pre>
</div>
</div>
<div class="paragraph">
<p>Subroutine bodies may not be nested. They may only be called after
they are defined. They may be called from other functions, and may call
themselves recursively if it makes sense to do so. The maximum
subroutine nesting level is 10.</p>
</div>
<div class="paragraph">
<p>Subroutines do not have 'return values', but they may change the value
of parameters above #30 and those changes will be visible to the
calling code. Subroutines may also change the value of global named
parameters.</p>
</div>
</div>
<div class="sect2">
<h3 id="sec:looping">Looping</h3>
<div class="paragraph">
<p></p>
</div>
<div class="paragraph">
<p>The 'while loop' has two structures: 'while/endwhile', and 'do/while'. In
each case, the loop is exited when the 'while' condition evaluates to
false. The difference is when the test condition is done. The 'do/while'
loop runs the code in the loop then checks the test condition. The
'while/endwhile' loop does the test first.</p>
</div>
<div class="listingblock">
<div class="title">While Endwhile Example</div>
<div class="content">
<pre>(draw a sawtooth shape)
G0 X1 Y0 (move to start position)
#1 = 1 (assign parameter #1 the value of 0)
F25 (set a feed rate)
o101 while [#1 LT 10]
  G1 X0
  G1 Y[#1/10] X1
  #1 = [#1+1] (increment the test counter)
o101 endwhile
M2 (end program)</pre>
</div>
</div>
<div class="listingblock">
<div class="title">Do While Example</div>
<div class="content">
<pre>#1 = 0 (assign parameter #1 the value of 0)
o100 do
  (debug, parameter 1 = #1)
  o110 if [#1 EQ 2]
    #1 = 3 (assign the value of 3 to parameter #1)
    (msg, #1 has been assigned the value of 3)
    o100 continue (skip to start of loop)
  o110 endif
  (some code here)
  #1 = [#1 + 1] (increment the test counter)
o100 while [#1 LT 3]
(msg, Loop Done!)
M2</pre>
</div>
</div>
<div class="paragraph">
<p>Inside a while loop, 'O- break' immediately exits the loop, and 'O-
continue' immediately skips to the next evaluation of the 'while'
condition. If it is still true, the loop begins again at the top. If
it is false, it exits the loop.</p>
</div>
</div>
<div class="sect2">
<h3 id="sec:conditional">Conditional</h3>
<div class="paragraph">
<p></p>
</div>
<div class="paragraph">
<p>The 'if' conditional consists of a group of statements with the same 'o' number
that start with 'if' and end with 'endif'. Optional 'elseif' and 'else' conditions
may be between the starting 'if' and the ending 'endif'.</p>
</div>
<div class="paragraph">
<p>If the 'if' conditional evaluates to true then the group of statements
following the 'if' up to the next conditional line are executed.</p>
</div>
<div class="paragraph">
<p>If the 'if' conditional evaluates to false then the 'elseif' conditions are
evaluated in order until one evaluates to true. If the 'elseif' condition is
true then the statements following the 'elseif' up to the next conditional
line are executed. If none of the 'if' or 'elseif' conditions evaluate to true
then the statements following the 'else' are executed. When a condition is
evaluated to true no more conditions are evaluated in the group.</p>
</div>
<div class="listingblock">
<div class="title">If Endif Example</div>
<div class="content">
<pre>o101 if [#31 EQ 3] (if parameter #31 is equal to 3 set S2000)
  S2000
o101 endif</pre>
</div>
</div>
<div class="listingblock">
<div class="title">If ElseIf Else EndIf Example</div>
<div class="content">
<pre>o102 if [#2 GT 5] (if parameter #2 is greater than 5 set F100)
  F100
o102 elseif [#2 LT 2] (else if parameter #2 is less than 2 set F200)
  F200
o102 else (else if parameter #2 is 2 through 5 set F150)
  F150
o102 endif</pre>
</div>
</div>
<div class="paragraph">
<p>Several conditons may be tested for by 'elseif' statements until the
'else' path is finally executed if all preceding conditons are false:</p>
</div>
<div class="listingblock">
<div class="title">If Elseif Else Endif Example</div>
<div class="content">
<pre>O102 if [#2 GT 5] (if parameter #2 is greater than 5 set F100)
  F100
O102 elseif [#2 LT 2] (else if parameter #2 less than 2 set F200)
  F20
O102 else (parameter #2 between 2 and 5)
  F200
O102 endif</pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="sec:repeat">Repeat</h3>
<div class="paragraph">
<p>The 'repeat' will execute the statements inside of the
repeat/endrepeat the specified number of times. The example shows how
you might mill a diagonal series of shapes starting at the present
position.</p>
</div>
<div class="listingblock">
<div class="title">Repeat Example</div>
<div class="content">
<pre>(Mill 5 diagonal shapes)
G91 (Incremental mode)
o103 repeat [5]
... (insert milling code here)
G0 X1 Y1 (diagonal move to next position)
o103 endrepeat
G90 (Absolute mode)</pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="indirection">Indirection</h3>
<div class="paragraph">
<p>The O-number may be given by a parameter and/or calculation.</p>
</div>
<div class="listingblock">
<div class="title">Indirection Example</div>
<div class="content">
<pre>o[#101+2] call</pre>
</div>
</div>
<div class="paragraph">
<div class="title">Computing values in O-words</div>
<p>For more information on computing values see the following sections</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="#sec:Parameters">Parameters</a></p>
</li>
<li>
<p><a href="#sec:Expressions">Expressions</a></p>
</li>
<li>
<p><a href="#sec:Binary-Operators">Binary Operators</a></p>
</li>
<li>
<p><a href="#sub:functions">Functions</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="calling-files">Calling Files</h3>
<div class="paragraph">
<p>To call a separate file with a subroutine name the file the same as
your call and include a sub and endsub in the file. The file must be in the
directory pointed to by 'PROGRAM_PREFIX' or 'SUBROUTINE_PATH' in the ini file.
The file name can include <strong>lowercase</strong> letters, numbers, dash, and underscore
only. A named subroutine file can contain only a single subroutine definition.</p>
</div>
<div class="listingblock">
<div class="title">Named File Example</div>
<div class="content">
<pre>o&lt;myfile&gt; call</pre>
</div>
</div>
<div class="listingblock">
<div class="title">Numbered File Example</div>
<div class="content">
<pre>o123 call</pre>
</div>
</div>
<div class="paragraph">
<p>In the called file you must include the oxxx sub and endsub and the
file must be a valid file.</p>
</div>
<div class="listingblock">
<div class="title">Called File Example</div>
<div class="content">
<pre>(filename myfile.ngc)
o&lt;myfile&gt; sub
  (code here)
o&lt;myfile&gt; endsub
M2</pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
The file names are lowercase letters only so 'o&lt;MyFile&gt;' is converted to 'o&lt;myfile&gt;'
by the interpreter. More information about the search path and options for the
search path are in the INI Configuration Section.
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="subroutine-return-values">Subroutine return values</h3>
<div class="paragraph">
<p>Subroutines may optionally return a value by an optional expression at
an 'endsub' or 'return' statement.</p>
</div>
<div class="listingblock">
<div class="title">Return value example</div>
<div class="content">
<pre>o123 return [#2 *5]
...
o123 endsub [3 * 4]</pre>
</div>
</div>
<div class="paragraph">
<p>A subroutine return value is stored in the '<mark>&lt;_value&gt;'
<a href="#sec:Predefined-Named-Parameters">predefined named parameter</a> , and
the '</mark>&lt;_value_returned&gt;' predefined parameter is set to 1, to indicate
a value was returned. Both paramters are global, and are cleared just
before the next subroutine call.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="other-codes">Other Codes</h2>
<div class="sectionbody">
<div class="paragraph">
<p><a id="cha:other-codes"></a> </p>
</div>
<div class="sect2">
<h3 id="sec:F-feed-rate">F: Set Feed Rate</h3>
<div class="paragraph">
<p></p>
</div>
<div class="paragraph">
<p>'Fx' - set the feed rate to 'x'.  'x' is usually in machine units
(inches or millimeters) per minute.</p>
</div>
<div class="paragraph">
<p>The application of the feed rate is as described in the
<a href="#sub:feed-rate">Feed Rate</a> Section, unless inverse time feed rate
mode is in effect, in which case the feed rate is as described in the
<a href="#sec:G93-G94-G95-Mode">G93 G94 G95</a> Section.</p>
</div>
</div>
<div class="sect2">
<h3 id="sec:S-spindle-speed">S: Set Spindle Speed</h3>
<div class="paragraph">
<p></p>
</div>
<div class="paragraph">
<p>'Sx' - set the speed of the spindle to 'x' revolutions per minute (RPM).</p>
</div>
<div class="paragraph">
<p>The spindle will turn at that speed when a 'M3' or 'M4' is in effect.
It is OK to program an S word whether the spindle is turning or not.
If the speed override switch is enabled and not set at 100%,
the speed will be different from what is programmed.
It is OK to program S0, the spindle will not turn if that is done.</p>
</div>
<div class="paragraph">
<p>It is an error if:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>the S number is negative.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>As described in the <a href="#sec:G84-Right-Hand-Tapping">G84</a> Section, if a 'G84'
(tapping) canned cycle is active and the feed and speed override
switches are enabled, the one set at the lower setting will take
effect. The speed and feed rates will still be synchronized. In this
case, the speed may differ from what is programmed, even if the speed
override switch is set at 100%.</p>
</div>
</div>
<div class="sect2">
<h3 id="sec:T-Select-Tool">T: Select Tool</h3>
<div class="paragraph">
<p></p>
</div>
<div class="paragraph">
<p>'Tx' - prepare to change to tool 'x'.</p>
</div>
<div class="paragraph">
<p>The tool is not changed until an 'M6' is programmed (see Section
<a href="#sec:M6-Tool-Change">M6</a>). The T word may appear on the same line as the
'M6' or on a previous line. It is OK if T words appear on two or more
lines with no tool change. Only the the most recent T word will take
effect at the next tool change.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
When Machinekit is configured for a nonrandom toolchanger (see
the entry for RANDOM_TOOLCHANGER in the <a href="#sub:EMCIO-Section">EMCIO
Section</a>), 'T0' gets special handling: no tool will be selected. This
is useful if you want the spindle to be empty after a tool change.
</td>
</tr>
</table>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
'T0' When Machinekit is configured for a random toolchanger (see
the entry for RANDOM_TOOLCHANGER in the <a href="#sub:EMCIO-Section">EMCIO
Section</a>), 'T0' does not get any special treatment: T0 is a valid
tool like any other.  It is customary to use T0 on a random toolchanger
machine to track an empty pocket, so that it behaves like a nonrandom
toolchanger machine and unloads the spindle.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>It is an error if:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>a negative T number is used,</p>
</li>
<li>
<p>T number is used that does not appear in the tool table file (with
the exception that T0 on nonrandom toolchangers <strong>is</strong> accepted,
as noted above).</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>On some machines, the carousel will move when a T word is programmed,
at the same time machining is occurring. On such machines, programming
the T word several lines before a tool change will save time. A common
programming practice for such machines is to put the T word for the
next tool to be used on the line after a tool change. This maximizes
the time available for the carousel to move.</p>
</div>
<div class="paragraph">
<p>Rapid moves after a 'T&lt;n&gt;' will not show on the AXIS preview until after
a feed move. This is for machines that travel long distances to change
the tool like a lathe. This can be very confusing at first. To turn
this feature off for the current tool program a G1 without any
move after the 'T&lt;n&gt;'.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="g-code-examples">G Code Examples</h2>
<div class="sectionbody">
<div class="paragraph">
<p>After you install Machinekit several sample files are placed in the
/nc_files folder. Make sure the sample file is appropriate for your
machine before running.</p>
</div>
<div class="sect2">
<h3 id="mill-examples">Mill Examples</h3>
<div class="sect3">
<h4 id="helical-hole-milling">Helical Hole Milling</h4>
<div class="paragraph">
<p>File Name: useful-subroutines.ngc</p>
</div>
<div class="paragraph">
<p>Description: Subroutine for milling a hole using parameters.</p>
</div>
</div>
<div class="sect3">
<h4 id="slotting">Slotting</h4>
<div class="paragraph">
<p>File Name: useful-subroutines.ngc</p>
</div>
<div class="paragraph">
<p>Description: Subroutine for milling a slot using parameters.</p>
</div>
</div>
<div class="sect3">
<h4 id="grid-probe">Grid Probe</h4>
<div class="paragraph">
<p>File Name: gridprobe.ngc</p>
</div>
<div class="paragraph">
<p>Description: Rectangular Probing</p>
</div>
<div class="paragraph">
<p>This program repeatedly probes in a regular XY grid and writes the
probed location to the file 'probe-results.txt' in the same directory
as the .ini file.</p>
</div>
</div>
<div class="sect3">
<h4 id="smart-probe">Smart Probe</h4>
<div class="paragraph">
<p>File Name: smartprobe.ngc</p>
</div>
<div class="paragraph">
<p>Description: Rectangular Probing</p>
</div>
<div class="paragraph">
<p>This program repeatedly probes in a regular XY grid and writes the
probed location to the file 'probe-results.txt' in the same directory
as the .ini file. This is improved from the grid probe file.</p>
</div>
</div>
<div class="sect3">
<h4 id="tool-length-probe">Tool Length Probe</h4>
<div class="paragraph">
<p>File Name: tool-length-probe.ngc</p>
</div>
<div class="paragraph">
<p>Description: Tool Length Probing</p>
</div>
<div class="paragraph">
<p>This program shows an example of how to measure tool lengths
automatically using a switch hooked to the probe input. This is useful
for machines without tool holders, where the length of a tool is
different every time it is inserted.</p>
</div>
</div>
<div class="sect3">
<h4 id="hole-probe">Hole Probe</h4>
<div class="paragraph">
<p>File Name: probe-hole.ngc</p>
</div>
<div class="paragraph">
<p>Description: Finding the Center and Diameter of a hole.</p>
</div>
<div class="paragraph">
<p>The program demonstrates how to find the center of a hole, measure the
hole diameter and record the results.</p>
</div>
</div>
<div class="sect3">
<h4 id="cutter-compensation">Cutter Compensation</h4>
<div class="paragraph">
<p>To be added</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="lathe-examples">Lathe Examples</h3>
<div class="sect3">
<h4 id="threading">Threading</h4>
<div class="paragraph">
<p>File Name lathe-g76.ngc</p>
</div>
<div class="paragraph">
<p>Description: Facing, threading and parting off.</p>
</div>
<div class="paragraph">
<p>This file shows an example of threading on a lathe using parameters.</p>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="lathe-user-information">Lathe User Information</h2>
<div class="sectionbody">
<div class="paragraph">
<p><a id="cha:lathe-user-information"></a> </p>
</div>
<div class="paragraph">
<p>This chapter attempts to bring together all the lathe specific
information and is currently under construction.</p>
</div>
<div class="sect2">
<h3 id="lathe-mode">Lathe Mode</h3>
<div class="paragraph">
<p>If your CNC machine is a lathe, there are some specific changes you
will probably want to make to your ini file in order to get the
best results from Machinekit.</p>
</div>
<div class="paragraph">
<p>If you are using the AXIS display,
have Axis display your lathe tools properly.
See the INI Configuration section of the Integrator Manual for
more details but you will probably want to make an entry like this
to set up AXIS for Lathe Mode.</p>
</div>
<div class="listingblock">
<div class="content">
<pre>[DISPLAY]

# Tell the Axis Display our machine is a lathe.
LATHE = TRUE</pre>
</div>
</div>
<div class="paragraph">
<p>Lathe Mode in Axis does not set your default plane to G18 (XZ). You
must program that in the preamble of each gcode file or
(better) add it to your ini file, like this:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>[RS274NGC]

# g-code modal codes (modes) that the interpreter is initialized with on startup
RS274NGC_STARTUP_CODE = G18 G20 G90</pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="sec:lathe-tool-table">Lathe Tool Table</h3>
<div class="paragraph">
<p>The "Tool Table" is a text file that contains information about each tool.
The file is located in the same directory as your configuration and is called "tool.tbl" by default.
The tools might be in a tool changer or just changed manually.
The file can be edited with a text editor or be updated using G10 L1,L10,L11.
There is also a built-in tool table editor in the Axis display.
The maximum number of entries in the tool table is 56.
The maximum tool and pocket number is 99999.</p>
</div>
<div class="paragraph">
<p>Earlier versions of Machinekit had two different tool table formats for mills and lathes,
but since the 2.4.x release, one tool table format is used for all machines.
Just ignore the parts of the tool table that don&#8217;t pertain to your machine,
or which you don&#8217;t need to use.
For more information on the specifics of the tool table format,
see the <a href="#sec:tool-table">Tool Table</a> Section.</p>
</div>
</div>
<div class="sect2">
<h3 id="lathe-tool-orientation-a-id-lathe-tool-orientation-a">Lathe Tool Orientation<a id="lathe-tool-orientation"></a></h3>
<div class="paragraph">
<p>The following figure shows the lathe tool orientations
with the center line angle of each orientation and
info on FRONTANGLE and BACKANGLE.
The FRONTANGLE and BACKANGLE are clockwise starting at a line parallel to Z+.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../lathe/images/tool_positions.png" alt="tool positions">
</div>
<div class="title">Figure 54. Lathe Tool Orientations<a id="cap:Lathe-Tool-Orientations"></a></div>
</div>
<div class="paragraph">
<p>In AXIS the following figures show what the Tool Positions look like, as entered in the tool table.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../lathe/images/tool_pos_1.png" alt="tool pos 1">
</div>
<div class="title">Figure 55. Tool Positions 1, 2, 3 &amp; 4<a id="fig:Tool-Positions-1-2-3-4"></a></div>
</div>
<div class="imageblock">
<div class="content">
<img src="../lathe/images/tool_pos_2.png" alt="tool pos 2">
</div>
</div>
<div class="imageblock">
<div class="content">
<img src="../lathe/images/tool_pos_3.png" alt="tool pos 3">
</div>
</div>
<div class="imageblock">
<div class="content">
<img src="../lathe/images/tool_pos_4.png" alt="tool pos 4">
</div>
</div>
<div class="imageblock">
<div class="content">
<img src="../lathe/images/tool_pos_5.png" alt="tool pos 5">
</div>
<div class="title">Figure 56. Tool Positions 5, 6, 7 &amp; 8<a id="fig:Tool-Positions-5-6-7-8"></a></div>
</div>
<div class="imageblock">
<div class="content">
<img src="../lathe/images/tool_pos_6.png" alt="tool pos 6">
</div>
</div>
<div class="imageblock">
<div class="content">
<img src="../lathe/images/tool_pos_7.png" alt="tool pos 7">
</div>
</div>
<div class="imageblock">
<div class="content">
<img src="../lathe/images/tool_pos_8.png" alt="tool pos 8">
</div>
</div>
</div>
<div class="sect2">
<h3 id="tool-touch-off">Tool Touch Off</h3>
<div class="paragraph">
<p>When running in lathe mode in AXIS you can set the X and Z in the tool
table using the Touch Off window. If you have a tool turret you normally
have 'Touch off to fixture' selected when setting up your turret. When
setting the material Z zero you have 'Touch off to material' selected.
For more information on the G codes used for tools see
<a href="#sec:M6-Tool-Change">M6</a>, <a href="#sec:T-Select-Tool">Tn</a>, and <a href="#sec:G43">G43</a>.
For more information on tool touch off options in Axis see
<a href="#sec:tool-touch-off">Tool Touch Off</a>.</p>
</div>
<div class="sect3">
<h4 id="x-touch-off">X Touch Off</h4>
<div class="paragraph">
<p>The X axis offset for each tool is normally an offset
from the center line of the spindle.</p>
</div>
<div class="paragraph">
<p>One method is to take your normal turning tool and
turn down some stock to a known diameter.
Using the Tool Touch Off window enter the measured diameter
(or radius if in radius mode) for that tool.
Then using some layout fluid or a marker to coat the part
bring each tool up
till it just touches the dye and set it&#8217;s X offset to
the diameter of the part used using the tool touch off.
Make sure any tools in the corner quadrants have the nose radius
set properly in the tool table so the control point is correct.
Tool touch off automatically adds a G43
so the current tool is the current offset.</p>
</div>
<div class="paragraph">
<p>A typical session might be:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Home each axis if not homed.</p>
</li>
<li>
<p>Set the current tool with 'Tn M6 G43' where 'n' is the tool number.</p>
</li>
<li>
<p>Select the X axis in the Manual Control window.</p>
</li>
<li>
<p>Move the X to a known position or take a test cut and measure the diameter.</p>
</li>
<li>
<p>Select Touch Off and pick Tool Table then enter the position or the diameter.</p>
</li>
<li>
<p>Follow the same sequence to correct the Z axis.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>Note: if you are in Radius Mode you must enter the radius, not the diameter.</p>
</div>
</div>
<div class="sect3">
<h4 id="z-touch-off">Z Touch Off</h4>
<div class="paragraph">
<p>The Z axis offsets can be a bit confusing at first
because there are two elements to the Z offset.
There is the tool table offset, and the machine coordinate offset.
First we will look at the tool table offsets.
One method is to use a fixed point on your lathe and
set the Z offset for all tools from this point.
Some use the spindle nose or chuck face.
This gives you the ability to change to a new tool and
set its Z offset without having to reset all the tools.</p>
</div>
<div class="paragraph">
<p>A typical session might be:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Home each axis if not homed.</p>
</li>
<li>
<p>Make sure no offsets are in effect for the current coordinate system.</p>
</li>
<li>
<p>Set the current tool with 'Tn M6 G43' where 'n' is the tool number.</p>
</li>
<li>
<p>Select the Z axis in the Manual Control window.</p>
</li>
<li>
<p>Bring the tool close to the control surface. Using a cylinder move the
Z away from the control surface until the cylinder just passes between
the tool and the control surface.</p>
</li>
<li>
<p>Select Touch Off and pick Tool Table and set the position to 0.0.</p>
</li>
<li>
<p>Repeat for each tool using the same cylinder.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>Now all the tools are offset the same distance from a standard position.
If you change a tool like a drill bit you repeat the above and
it is now in sync with the rest of the tools for Z offset.
Some tools might require a bit of cyphering to determine
the control point from the touch off point.
For example, if you have a 0.125" wide parting tool and
you touch the left side off but want the right to be Z0,
then enter 0.125" in the touch off window.</p>
</div>
</div>
<div class="sect3">
<h4 id="the-z-machine-offset">The Z Machine Offset</h4>
<div class="paragraph">
<p>Once all the tools have the Z offset entered into the tool table,
you can use any tool to set the machine offset
using the machine coordinate system.</p>
</div>
<div class="paragraph">
<p>A typical session might be:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Home each axis if not homed.</p>
</li>
<li>
<p>Set the current tool with "Tn M6" where "n" is the tool number.</p>
</li>
<li>
<p>Issue a G43 so the current tool offset is in effect.</p>
</li>
<li>
<p>Bring the tool to the work piece and set the machine Z offset.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>If you forget to set the G43 for the current tool when you set the
machine coordinate system offset, you will not get what you expect,
as the tool offset will be added to the current offset when
the tool is used in your program.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="spindle-synchronized-motion">Spindle Synchronized Motion</h3>
<div class="paragraph">
<p>Spindle synchronized motion requires a quadrature encoder connected
to the spindle with one index pulse per revolution. See the motion
man page and Spindle Control Example in integrators manual for more
information.</p>
</div>
<div class="paragraph">
<div class="title">Threading</div>
<p>The G76 threading cycle is used for both internal and external threads.
For more information see the <a href="#sec:G76-Threading-Canned">G76</a> Section.</p>
</div>
<div class="paragraph">
<div class="title">Constant Surface Speed</div>
<p>CSS or Constant Surface Speed uses the machine X origin modified
by the tool X offset to compute the spindle speed in RPM. CSS will
track changes in tool offsets. The X machine origin should be when the
reference tool (the one with zero offset) is at the center of rotation.
For more information see the <a href="#sec:G96-G97-Spindle">G96</a> Section.</p>
</div>
<div class="paragraph">
<div class="title">Feed per Revolution</div>
<p>Feed per revolution will move the Z axis by the F amount per revolution.
This is not for threading, use G76 for threading.
For more information see the <a href="#sec:G93-G94-G95-Mode">G95</a> Section.</p>
</div>
</div>
<div class="sect2">
<h3 id="arcs">Arcs</h3>
<div class="paragraph">
<p>Calculating arcs can be mind challenging enough without considering
radius and diameter mode on lathes as well as machine coordinate system
orientation. The following applies to center format arcs. On a lathe
you should include G18 in your preamble as the default is G17 even if
you&#8217;re in lathe mode, in the user interface Axis. Arcs in G18 XZ plane
use I (X axis) and K (Z axis) offsets.</p>
</div>
<div class="sect3">
<h4 id="arcs-and-lathe-design">Arcs and Lathe Design</h4>
<div class="paragraph">
<p>The typical lathe has the spindle on the left of the operator and the
tools on the operator side of the spindle center line. This is
typically set up with the imaginary Y axis (+) pointing at the floor.</p>
</div>
<div class="paragraph">
<p>The following will be true on this type of setup:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>The Z axis (+) points to the right, away from the spindle.</p>
</li>
<li>
<p>The X axis (+) points toward the operator, and when on the operator
side of the spindle the X values are positive.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Some lathes with tools on the back side have the imaginary Y axis (+)
pointing up.</p>
</div>
<div class="paragraph">
<p>G2/G3 Arc directions are based on the axis they rotate around. In the
case of lathes, it is the imaginary Y axis. If the Y axis (+) points
toward the floor, you have to look up for the arc to appear to go in the
correct direction. So looking from above you reverse the G2/G3 for the
arc to appear to go in the correct direction.</p>
</div>
</div>
<div class="sect3">
<h4 id="radius-diameter-mode">Radius &amp; Diameter Mode</h4>
<div class="paragraph">
<p>When calculating arcs in radius mode you only have to remember the
direction of rotation as it applies to your lathe.</p>
</div>
<div class="paragraph">
<p>When calculating arcs in diameter mode X is diameter and the X offset
(I) is radius even if you&#8217;re in G7 diameter mode.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="tool-path">Tool Path</h3>
<div class="sect3">
<h4 id="control-point">Control Point</h4>
<div class="paragraph">
<p>The control point for the tool follows the programmed path. The
control point is the intersection of a line parallel to the X and Z
axis and tangent to the tool tip diameter, as defined when you touch
off the X and Z axes for that tool. When turning or facing straight
sided parts the cutting path and the tool edge follow the same path.
When turning radius and angles the edge of the tool tip will not follow
the programmed path unless cutter comp is in effect. In the following
figures you can see how the control point does not follow the tool edge
as you might assume.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../lathe/images/control_point.png" alt="control point">
</div>
<div class="title">Figure 57. Control Point<a id="fig:Control-Point"></a></div>
</div>
</div>
<div class="sect3">
<h4 id="cutting-angles-without-cutter-comp">Cutting Angles without Cutter Comp</h4>
<div class="paragraph">
<p>Now imagine we program a ramp without cutter comp. The programmed path
is shown in the following figure. As you can see in the figure the
programmed path and the desired cut path are one and the same as long
as we are moving in an X or Z direction only.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../lathe/images/ramp_entry.png" alt="ramp entry">
</div>
<div class="title">Figure 58. Ramp Entry</div>
</div>
<div class="paragraph">
<p>Now as the control point progresses along the programmed path the
actual cutter edge does not follow the programmed path as shown in the
following figure. There are two ways to solve this, cutter comp and
adjusting your programmed path to compensate for tip radius.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../lathe/images/ramp_cut.png" alt="ramp cut">
</div>
<div class="title">Figure 59. Ramp Path</div>
</div>
<div class="paragraph">
<p>In the above example it is a simple exercise to adjust the programmed
path to give the desired actual path by moving the programmed path for
the ramp to the left the radius of the tool tip.</p>
</div>
</div>
<div class="sect3">
<h4 id="cutting-a-radius">Cutting a Radius</h4>
<div class="paragraph">
<p>In this example we will examine what happens during a radius cut
without cutter comp. In the next figure you see the tool turning the OD
of the part. The control point of the tool is following the programmed
path and the tool is touching the OD of the part.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../lathe/images/radius_1.png" alt="radius 1">
</div>
<div class="title">Figure 60. Turning Cut</div>
</div>
<div class="paragraph">
<p>In this next figure you can see as the tool approaches the end of the
part the control point still follows the path but the tool tip has left
the part and is cutting air. You can also see that even though a radius
has been programmed the part will actually end up with a square corner.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../lathe/images/radius_2.png" alt="radius 2">
</div>
<div class="title">Figure 61. Radius Cut</div>
</div>
<div class="paragraph">
<p>Now you can see as the control point follows the radius programmed the
tool tip has left the part and is now cutting air.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../lathe/images/radius_3.png" alt="radius 3">
</div>
<div class="title">Figure 62. Radius Cut</div>
</div>
<div class="paragraph">
<p>In the final figure we can see the tool tip will finish cutting the
face but leave a square corner instead of a nice radius. Notice also
that if you program the cut to end at the center of the part a small
amount of material will be left from the radius of the tool. To finish
a face cut to the center of a part you have to program the tool to go
past center at least the nose radius of the tool.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../lathe/images/radius_4.png" alt="radius 4">
</div>
<div class="title">Figure 63. Face Cut</div>
</div>
</div>
<div class="sect3">
<h4 id="using-cutter-comp">Using Cutter Comp</h4>
<div class="paragraph">
<p>When using cutter comp on a lathe think of the tool tip radius as the
radius of a round cutter. When using cutter comp the path must be large
enough for a round tool that will not gouge into the next line. When
cutting straight lines on the lathe you might not want to use cutter
comp. For example boring a hole with a tight fitting boring bar you may
not have enough room to do the exit move. The entry move into a cutter
comp arc is important to get the correct results.</p>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="rs274-ngc-differences">RS274/NGC Differences</h2>
<div class="sectionbody">
<div class="paragraph">
<p><a id="cha:rs274ngc-programs"></a> </p>
</div>
<div class="sect2">
<h3 id="changes-from-rs274-ngc">Changes from RS274/NGC</h3>
<div class="dlist">
<div class="title">Differences that change the meaning of RS274/NGC programs</div>
<dl>
<dt class="hdlist1">Location after a tool change</dt>
<dd>
<p>In Machinekit, the machine does not return to its original position
after a tool change. This change was made because the new tool
might be longer than the old tool, and the move to the original
machine position could therefore leave the tool tip too low.</p>
</dd>
<dt class="hdlist1">Offset parameters are ini file units</dt>
<dd>
<p>In Machinekit, the values stored in parameters for the G28 and G30 home
locations, the P1&#8230;&#8203;P9 coordinate systems, and the G92 offset are
in "ini file units". This change was made because otherwise the
meaning of a location changed depending on whether G20 or G21 was
active when G28, G30, G10 L2, or G92.3 is programmed.</p>
</dd>
<dt class="hdlist1">Tool table lengths/diameters are in ini file units</dt>
<dd>
<p>In Machinekit, the tool lengths (offsets) and diameters in the tool
table are specified in ini file units only. This change was made
because otherwise the length of a tool and its diameter would
change based on whether G20 or G21 was active when initiating
G43, G41, G42 modes. This made it impossible to run G code in the
machine&#8217;s non-native units, even when the G code was simple and
well-formed (starting with G20 or G21, and didn&#8217;t change units
throughout the program), without changing the tool table.</p>
</dd>
<dt class="hdlist1">G84, G87 not implemented</dt>
<dd>
<p>G84 and G87 are not currently implemented, but may be added to a
future release of Machinekit.</p>
</dd>
<dt class="hdlist1">G28, G30 with axis words</dt>
<dd>
<p>When G28 or G30 is programmed with only some axis words present,
Machinekit only moves the named axes. This is common on other machine
controls. To move some axes to an intermediate point and then
move all axes to the predefined point, write two lines of G code:</p>
<div class="paragraph">
<p>G0 X- Y- (axes to move to intermediate point) G28 (move all axes
to predefined point)</p>
</div>
</dd>
</dl>
</div>
</div>
<div class="sect2">
<h3 id="additions-to-rs274-ngc">Additions to RS274/NGC</h3>
<div class="dlist">
<div class="title">Differences that do not change the meaning of RS274/NGC programs</div>
<dl>
<dt class="hdlist1">G33, G76 threading codes</dt>
<dd>
<p>These codes are not defined in RS274/NGC.</p>
</dd>
<dt class="hdlist1">G38.2</dt>
<dd>
<p>The probe tip is not retracted after a G38.2 movement. This
retraction move may be added in a future release of Machinekit.</p>
</dd>
<dt class="hdlist1">G38.3&#8230;&#8203;G38.5</dt>
<dd>
<p>These codes are not defined in RS274/NGC</p>
</dd>
<dt class="hdlist1">O-codes</dt>
<dd>
<p>These codes are not defined in RS274/NGC</p>
</dd>
<dt class="hdlist1">M50&#8230;&#8203;M53 overrides</dt>
<dd>
<p>These codes are not defined in RS274/NGC</p>
</dd>
<dt class="hdlist1">M61..M66</dt>
<dd>
<p>These codes are not defined in RS274/NGC</p>
</dd>
<dt class="hdlist1">G43, G43.1</dt>
<dd>
<p>'Negative Tool Lengths'</p>
<div class="paragraph">
<p>The RS274/NGC spec says "it is expected that" all tool lengths
will be positive. However, G43 works for negative tool lengths.</p>
</div>
<div class="paragraph">
<p>'Lathe tools'</p>
</div>
<div class="paragraph">
<p>G43 tool length compensation can offset the tool in both the X
and Z dimensions. This feature is primarily useful on lathes.</p>
</div>
<div class="paragraph">
<p>'Dynamic tool lengths'</p>
</div>
<div class="paragraph">
<p>Machinekit allows specification of a computed tool length through G43.1
I K.</p>
</div>
</dd>
<dt class="hdlist1">G41.1, G42.1</dt>
<dd>
<p>Machinekit allows specification of a tool diameter and, if in lathe
mode, orientation in the G code. The format is G41.1/G42.1 D L,
where D is diameter and L (if specified) is the lathe tool
orientation.</p>
</dd>
<dt class="hdlist1">G43 without H word</dt>
<dd>
<p>In ngc, this is not allowed. In Machinekit, it sets length offsets for
the currently loaded tool. If no tool is currently loaded, it is
an error. This change was made so the user doesn&#8217;t have to
specify the tool number in two places for each tool change, and
because it&#8217;s consistent with the way G41/G42 work when the D word
is not specified.</p>
</dd>
<dt class="hdlist1">U, V, and W axes</dt>
<dd>
<p>Machinekit allows machines with up to 9 axes by defining an additional
set of 3 linear axes known as U, V and W</p>
</dd>
</dl>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="image-to-g-code">Image to G Code</h2>
<div class="sectionbody">
<div class="paragraph">
<p><a id="cha:image-to-g-code"></a> </p>
</div>
<div class="imageblock" style="text-align: center">
<div class="content">
<img src="../gui/images/image-to-gcode.png" alt="image to gcode">
</div>
</div>
<div class="sect2">
<h3 id="what-is-a-depth-map">What is a depth map?</h3>
<div class="paragraph">
<p>A depth map is a greyscale image where the brightness of each pixel
corresponds to the depth (or height) of the object at each point.</p>
</div>
</div>
<div class="sect2">
<h3 id="integrating-image-to-gcode-with-the-axis-user-interface">Integrating image-to-gcode with the AXIS user interface</h3>
<div class="paragraph">
<p>Add the following lines to the '[FILTER]'  section of your .ini file
to make AXIS automatically invoke
image-to-gcode when you open a .png, .gif, or .jpg image</p>
</div>
<div class="listingblock">
<div class="content">
<pre>PROGRAM_EXTENSION = .png,.gif,.jpg Grayscale Depth Image
png = image-to-gcode
gif = image-to-gcode
jpg = image-to-gcode</pre>
</div>
</div>
<div class="paragraph">
<p>The standard 'sim/axis.ini' configuration file is already configured
this way.</p>
</div>
</div>
<div class="sect2">
<h3 id="using-image-to-gcode">Using image-to-gcode</h3>
<div class="paragraph">
<p>Start image-to-gcode either by opening an image file in AXIS, or by
invoking image-to-gcode from the terminal, as follows:</p>
</div>
<div class="listingblock">
<div class="content">
<pre>image-to-gcode torus.png &gt; torus.ngc</pre>
</div>
</div>
<div class="paragraph">
<p>Verify all the settings in the right-hand column, then press OK to
create the gcode. Depending on the image size and options chosen, this
may take from a few seconds to a few minutes. If you are loading the
image in AXIS, the gcode will automatically be loaded and previewed
once image-to-gcode completes. In AXIS, hitting reload will show the
image-to-gcode option screen again, allowing you to tweak them.</p>
</div>
</div>
<div class="sect2">
<h3 id="option-reference">Option Reference</h3>
<div class="sect3">
<h4 id="units-2">Units</h4>
<div class="paragraph">
<p>Specifies whether to use G20 (inches) or G21 (mm) in the generated
g-code and as the units for each option labeled '(units)'.</p>
</div>
</div>
<div class="sect3">
<h4 id="invert-image">Invert Image</h4>
<div class="paragraph">
<p>If “no”, the black pixel is the lowest point and the white pixel is
the highest point. If “yes”, the black pixel is the highest point and
the white pixel is the lowest point.</p>
</div>
</div>
<div class="sect3">
<h4 id="normalize-image">Normalize Image</h4>
<div class="paragraph">
<p>If 'yes', the darkest pixel is remapped to black, the lightest pixel
is remapped to white.</p>
</div>
</div>
<div class="sect3">
<h4 id="expand-image-border">Expand Image Border</h4>
<div class="paragraph">
<p>If 'None', the input image is used as-is, and details which are at the
very edges of the image may be cut off. If 'White' or 'Black', then a
border of pixels equal to the tool diameter is added on all sides, and
details which are at the very edges of the images will not be cut off.</p>
</div>
</div>
<div class="sect3">
<h4 id="tolerance-units">Tolerance (units)</h4>
<div class="paragraph">
<p>When a series of points are within 'tolerance' of being a straight
line, they are output as a straight line.
Increasing tolerance can lead to better contouring performance in Machinekit,
but can also remove or blur small details in the image.</p>
</div>
</div>
<div class="sect3">
<h4 id="pixel-size-units">Pixel Size (units)</h4>
<div class="paragraph">
<p>One pixel in the input image will be this many units&#8212;&#8203;usually this
number is much smaller than 1.0. For instance, to mill a 2.5x2.5-inch
object from a 400x400 image file, use a pixel size of .00625, because
2.5 / 400 = .00625.</p>
</div>
</div>
<div class="sect3">
<h4 id="plunge-feed-rate-units-per-minute">Plunge Feed Rate (units per minute)</h4>
<div class="paragraph">
<p>The feed rate for the initial plunge movement.</p>
</div>
</div>
<div class="sect3">
<h4 id="feed-rate-units-per-minute">Feed Rate (units per minute)</h4>
<div class="paragraph">
<p>The feed rate for other parts of the path.</p>
</div>
</div>
<div class="sect3">
<h4 id="spindle-speed-rpm">Spindle Speed (RPM)</h4>
<div class="paragraph">
<p>The spindle speed S code that should be put into the gcode file.</p>
</div>
</div>
<div class="sect3">
<h4 id="scan-pattern">Scan Pattern</h4>
<div class="paragraph">
<p>Possible scan patterns are:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Rows</p>
</li>
<li>
<p>Columns</p>
</li>
<li>
<p>Rows, then Columns</p>
</li>
<li>
<p>Columns, then Rows</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="scan-direction">Scan Direction</h4>
<div class="paragraph">
<p>Possible scan directions are:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Positive: Start milling at a low X or Y axis value, and move towards a
high X or Y axis value</p>
</li>
<li>
<p>Negative: Start milling at a high X or Y axis value, and move towards
a low X or Y axis value</p>
</li>
<li>
<p>Alternating: Start on the same end of the X or Y axis travel that the
last move ended on. This reduces the amount of traverse movements</p>
</li>
<li>
<p>Up Milling: Start milling at low points, moving towards high points</p>
</li>
<li>
<p>Down Milling: Start milling at high points, moving towards low points</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="depth-units">Depth (units)</h4>
<div class="paragraph">
<p>The top of material is always at 'Z=0'. The deepest cut into the
material is 'Z=-depth.'</p>
</div>
</div>
<div class="sect3">
<h4 id="step-over-pixels">Step Over (pixels)</h4>
<div class="paragraph">
<p>The distance between adjacent rows or columns. To find the number of
pixels for a given units distance, compute 'distance/pixel size' and
round to the nearest whole number. For example, if 'pixel size=.006'
and the desired step over 'distance=.015', then use a Step Over of 2 or
3 pixels, because '.015/.006=2.5''.'</p>
</div>
</div>
<div class="sect3">
<h4 id="tool-diameter">Tool Diameter</h4>
<div class="paragraph">
<p>The diameter of the cutting part of the tool.</p>
</div>
</div>
<div class="sect3">
<h4 id="safety-height">Safety Height</h4>
<div class="paragraph">
<p>The height to move to for traverse movements. image-to-gcode always
assumes the top of material is at 'Z=0'.</p>
</div>
</div>
<div class="sect3">
<h4 id="tool-type">Tool Type</h4>
<div class="paragraph">
<p>The shape of the cutting part of the tool. Possible tool shapes are:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Ball End</p>
</li>
<li>
<p>Flat End</p>
</li>
<li>
<p>45 degree “vee”</p>
</li>
<li>
<p>60 degree “vee”</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="lace-bounding">Lace bounding</h4>
<div class="paragraph">
<p>This controls whether areas that are relatively flat along a row or
column are skipped. This option only makes sense when both rows and
columns are being milled. Possible bounding options are:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>None: Rows and columns are both fully milled.</p>
</li>
<li>
<p>Secondary: When milling in the second direction, areas that do not
strongly slope in that direction are skipped.</p>
</li>
<li>
<p>Full: When milling in the first direction, areas that strongly slope
in the second direction are skipped. When milling in the second
direction, areas that do not strongly slope in that direction are
skipped.</p>
</li>
</ul>
</div>
</div>
<div class="sect3">
<h4 id="contact-angle">Contact angle</h4>
<div class="paragraph">
<p>When 'Lace bounding' is not 'None', slopes greater than 'Contact angle'
are considered to be 'strong' slopes, and slopes less than that angle
are considered to be weak slopes.</p>
</div>
</div>
<div class="sect3">
<h4 id="roughing-offset-and-depth-per-pass">Roughing offset and depth per pass</h4>
<div class="paragraph">
<p>Image-to-gcode can optionally perform rouging passes. The depth of
successive roughing passes is given by 'Roughing depth per pass'. For
instance, entering 0.2 will perform the first roughing pass with a
depth of 0.2, the second roughing pass with a depth of 0.4, and so on
until the full Depth of the image is reached. No part of any roughing
pass will cut closer than Roughing Offset to the final part. The following
figure shows a tall vertical feature being milled.
In this image, Roughing depth per pass is 0.2 inches and roughing
offset is 0.1 inches.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../gui/images/i2g-roughing.png" alt="i2g roughing">
</div>
<div class="title">Figure 64. Roughing passes and final pass<a id="roughing-passes"></a></div>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="glossary">Glossary</h2>
<div class="sectionbody">
<div class="paragraph">
<p>A listing of terms and what they mean. Some terms have a general
meaning and several additional meanings for users, installers, and
developers.</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">Acme Screw</dt>
<dd>
<p> <a id="glo:AcmeScrew"></a> A type of lead-screw that uses an Acme
thread form. Acme threads have somewhat lower friction and wear than
simple triangular threads, but ball-screws are lower yet. Most manual
machine tools use acme lead-screws.</p>
</dd>
<dt class="hdlist1">Axis</dt>
<dd>
<p> <a id="glo:Axis"></a> One of the computer controlled movable parts of the
machine. For a typical vertical mill, the table is the X axis, the
saddle is the Y axis, and the quill or knee is the Z axis. Angular
axes like rotary tables are referred to as A, B, and C. Additional
linear axes relative to the tool are called U, V, and W
respectively.</p>
</dd>
<dt class="hdlist1">Axis(GUI)</dt>
<dd>
<p>  One of the Graphical User Interfaces available to users of
Machinekit. It features the modern use of menus and mouse buttons while
automating and hiding some of the more traditional Machinekit controls. It is
the only open-source interface that displays the entire tool path as
soon as a file is opened.</p>
</dd>
<dt class="hdlist1">Backlash</dt>
<dd>
<p> <a id="glo:Backlash"></a> The amount of "play" or lost motion that
occurs when direction is reversed in a lead screw. or other mechanical
motion driving system. It can result from nuts that are loose on
leadscrews, slippage in belts, cable slack, "wind-up" in rotary
couplings, and other places where the mechanical system is not "tight".
Backlash will result in inaccurate motion, or in the case of motion
caused by external forces (think cutting tool pulling on the work
piece) the result can be broken cutting tools. This can happen because
of the sudden increase in chip load on the cutter as the work piece is
pulled across the backlash distance by the cutting tool.</p>
</dd>
<dt class="hdlist1">Backlash Compensation</dt>
<dd>
<p>  Any technique that attempts to reduce
the effect of backlash without actually removing it from the mechanical
system. This is typically done in software in the controller. This can
correct the final resting place of the part in motion but fails to
solve problems related to direction changes while in motion (think
circular interpolation) and motion that is caused when external forces
(think cutting tool pulling on the work piece) are the source of the
motion.</p>
</dd>
<dt class="hdlist1">Ball Screw</dt>
<dd>
<p> <a id="glo:Ballscrew"></a> A type of lead-screw that uses small
hardened steel balls between the nut and screw to reduce friction.
Ball-screws have very low friction and backlash, but are usually quite
expensive.</p>
</dd>
<dt class="hdlist1">Ball Nut</dt>
<dd>
<p> <a id="glo:Ballnut"></a> A special nut designed for use with a
ball-screw. It contains an internal passage to re-circulate the balls
from one end of the screw to the other.</p>
</dd>
<dt class="hdlist1">CNC</dt>
<dd>
<p> <a id="glo:CNC"></a> Computer Numerical Control. The general term used to
refer to computer control of machinery. Instead of a human operator
turning cranks to move a cutting tool, CNC uses a computer and motors
to move the tool, based on a part program.</p>
</dd>
<dt class="hdlist1">Comp</dt>
<dd>
<p> <a id="glo:comp"></a> A tool used to build, compile and install Machinekit HAL
components.</p>
</dd>
<dt class="hdlist1">Configuration(n)</dt>
<dd>
<p> A directory containing a set of configuration files. Custom
configurations are normally saved in the users home/machinekit/configs
directory. These files include Machinekit&#8217;s traditional INI file and HAL
files. A configuration may also contain several general files that
describe tools, parameters, and NML connections.</p>
</dd>
<dt class="hdlist1">Configuration(v)</dt>
<dd>
<p> The task of setting up Machinekit so that it matches the hardware on a
machine tool.</p>
</dd>
<dt class="hdlist1">Coordinate Measuring Machine</dt>
<dd>
<p>  A Coordinate Measuring Machine is
used to make many accurate measurements on parts. These machines can be
used to create CAD data for parts where no drawings can be found, when
a hand-made prototype needs to be digitized for moldmaking, or to check
the accuracy of machined or molded parts.</p>
</dd>
<dt class="hdlist1">Display units</dt>
<dd>
<p>  The linear and angular units used for onscreen
display.</p>
</dd>
<dt class="hdlist1">DRO</dt>
<dd>
<p>  A Digital Read Out is a system of position-measuring devices
attached to the slides of a machine tool, which are connected to a
numeric display showing the current location of the tool with respect to
some reference position.
DROs are very popular on hand-operated machine tools because they
measure the true tool position without backlash, even if the machine
has very loose Acme screws.
Some DROs use linear quadrature encoders to pick up position
information from the machine, and some use methods similar to a
resolver which keeps rolling over.</p>
</dd>
<dt class="hdlist1">EDM</dt>
<dd>
<p>  EDM is a method of removing metal in hard or difficult to
machine or tough metals, or where rotating tools would not be able to
produce the desired shape in a cost-effective manner. An excellent
example is rectangular punch dies, where sharp internal corners are
desired. Milling operations can not give sharp internal corners with
finite diameter tools. A 'wire' EDM machine can make internal corners
with a radius only slightly larger than the wire&#8217;s radius. A 'sinker'
EDM can make internal corners with a radius only slightly larger
than the radius on the corner of the sinking electrode.</p>
</dd>
<dt class="hdlist1">EMC</dt>
<dd>
<p> <a id="glo:EMC"></a> The Enhanced Machine Controller. Initially a NIST
project. Renamed to Machinekit in 2012.</p>
</dd>
<dt class="hdlist1">EMCIO</dt>
<dd>
<p> <a id="glo:EMCIO"></a> The module within Machinekit that handles general
purpose I/O, unrelated to the actual motion of the axes.</p>
</dd>
<dt class="hdlist1">EMCMOT</dt>
<dd>
<p> <a id="glo:EMCMOT"></a> The module within Machinekit that handles
the actual motion of the cutting tool. It runs as a real-time program
and directly controls the motors.</p>
</dd>
<dt class="hdlist1">Encoder</dt>
<dd>
<p> <a id="glo:Encoder"></a> A device to measure position. Usually a
mechanical-optical device, which outputs a quadrature signal. The
signal can be counted by special hardware, or directly by the parport
with Machinekit.</p>
</dd>
<dt class="hdlist1">Feed</dt>
<dd>
<p> <a id="glo:Feed"></a> Relatively slow, controlled motion of the tool used
when making a cut.</p>
</dd>
<dt class="hdlist1">Feed rate</dt>
<dd>
<p>  The speed at which a cutting motion occurs.
In auto or mdi mode, feed rate is commanded using an F word.
F10 would mean ten machine units per minute.</p>
</dd>
<dt class="hdlist1">Feedback</dt>
<dd>
<p> <a id="glo:Feedback"></a> A method (e.g., quadrature encoder signals)
by which Machinekit receives information about the position of motors</p>
</dd>
<dt class="hdlist1">Feedrate Override</dt>
<dd>
<p> <a id="glo:FeedrateOveride"></a> A manual, operator controlled
change in the rate at which the tool moves while cutting. Often used to
allow the operator to adjust for tools that are a little dull, or
anything else that requires the feed rate to be “tweaked”.</p>
</dd>
<dt class="hdlist1">Floating Point Number</dt>
<dd>
<p>A number that has a decimal point. (12.300) In HAL it is known as float.</p>
</dd>
<dt class="hdlist1">G-Code</dt>
<dd>
<p> <a id="glo:G-Code"></a> The generic term used to refer to the most
common part programming language. There are several dialects of G-code,
Machinekit uses RS274/NGC.</p>
</dd>
<dt class="hdlist1">GUI</dt>
<dd>
<p><a id="glo:GUI"></a> Graphical User Interface.</p>
<div class="dlist">
<dl>
<dt class="hdlist1">General</dt>
<dd>
<p> A type of interface that allows communications between a computer
and a human (in most cases) via the manipulation of icons and other
elements (widgets) on a computer screen.</p>
</dd>
<dt class="hdlist1">Machinekit</dt>
<dd>
<p> An application that presents a graphical screen to the machine
operator allowing manipulation of the machine and the corresponding
controlling program.</p>
</dd>
</dl>
</div>
</dd>
<dt class="hdlist1">HAL</dt>
<dd>
<p> <a id="glo:HAL"></a> Hardware Abstraction Layer. At the highest
level, it is simply a way to allow a number of
building blocks to be loaded and interconnected to assemble a complex
system. Many of the building blocks are drivers for hardware devices.
However, HAL can do more than just configure hardware drivers.</p>
</dd>
<dt class="hdlist1">Home</dt>
<dd>
<p> <a id="glo:Home"></a> A specific location in the machine&#8217;s work envelope
that is used to make sure the computer and the actual machine both
agree on the tool position.</p>
</dd>
<dt class="hdlist1">ini file</dt>
<dd>
<p> <a id="glo:inifile"></a> A text file that contains most of the information
that configures Machinekit for a particular machine.</p>
</dd>
<dt class="hdlist1">Instance</dt>
<dd>
<p> <a id="glo:Instance"></a> One can have an instance of a class or a
particular object. The instance is the actual object created at
runtime. In programmer jargon, the Lassie object is an instance of the
Dog class.</p>
</dd>
<dt class="hdlist1">Joint Coordinates</dt>
<dd>
<p> <a id="glo:Joint_Coordinates"></a> These specify the angles
between the individual joints of the machine. See also Kinematics</p>
</dd>
<dt class="hdlist1">Jog</dt>
<dd>
<p>  Manually moving an axis of a machine. Jogging either moves
the axis a fixed amount for each key-press, or moves the axis at a
constant speed as long as you hold down the key. In manual mode,
jog speed can be set from the graphical interface.</p>
</dd>
<dt class="hdlist1">kernel-space</dt>
<dd>
<p><a id="glo:kernel-space"></a> See real-time.</p>
</dd>
<dt class="hdlist1">Kinematics</dt>
<dd>
<p> <a id="glo:Kinematics"></a> The position relationship between world
coordinates and joint coordinates of a machine. There are two types of
kinematics. Forward kinematics is used to calculate world coordinates
from joint coordinates. Inverse kinematics is used for exactly the opposite
purpose. Note that kinematics does not take into account, the forces,
moments etc. on the machine. It is for positioning only.</p>
</dd>
<dt class="hdlist1">Lead-screw</dt>
<dd>
<p> <a id="glo:Leadscrew"></a> An screw that is rotated by a motor to
move a table or other part of a machine. Lead-screws are usually either
ball-screws or acme screws, although conventional triangular threaded
screws may be used where accuracy and long life are not as important as
low cost.</p>
</dd>
<dt class="hdlist1">Machine units</dt>
<dd>
<p>  The linear and angular units used for machine
configuration. These units are specified and used in the ini file.
HAL pins and parameters are also generally in machine units.</p>
</dd>
<dt class="hdlist1">MDI</dt>
<dd>
<p> <a id="glo:MDI"></a> Manual Data Input. This is a mode of operation where
the controller executes single lines of G-code as they are typed by the
operator.</p>
</dd>
<dt class="hdlist1">NIST</dt>
<dd>
<p> <a id="glo:NIST"></a> National Institute of Standards and Technology.
An agency of the Department of Commerce in the United States.</p>
</dd>
<dt class="hdlist1">NML</dt>
<dd>
<p><a id="glo:NML"></a> Neutral Message Language provides a mechanism for
handling multiple types of messages in the same buffer as well as
simplifying the interface for encoding and decoding buffers in neutral
format and the configuration mechanism.</p>
</dd>
<dt class="hdlist1">Offsets</dt>
<dd>
<p> <a id="glo:Offsets"></a>
An arbitrary amount, added to the value of something to make it
equal to some desired value. For example, gcode programs are
often written around some convenient point, such as X0, Y0.
Fixture offsets can be used to shift the actual execution point
of that gcode program to properly fit the true location
of the vise and jaws.
Tool offsets can be used to shift the "uncorrected" length
of a tool to equal that tool&#8217;s actual length.</p>
</dd>
<dt class="hdlist1">Part Program</dt>
<dd>
<p> <a id="glo:PartProgram"></a> A description of a part,
in a language that the controller can understand. For Machinekit,
that language is RS-274/NGC, commonly known as G-code.</p>
</dd>
<dt class="hdlist1">Program Units</dt>
<dd>
<p> The linear and angular units used in a part program.
The linear program units do not have to be the same as the linear machine units.
See G20 and G21 for more information. The angular program units are always
measured in degrees.</p>
</dd>
<dt class="hdlist1">Python</dt>
<dd>
<p> General-purpose, very high-level programming language. Used in Machinekit
for the Axis GUI, the Stepconf configuration tool, and several G-code
programming scripts.</p>
</dd>
<dt class="hdlist1">Rapid</dt>
<dd>
<p> <a id="glo:Rapid"></a> Fast, possibly less precise motion of the tool,
commonly used to move between cuts. If the tool meets the workpiece
or the fixturing during a rapid, it is probably a bad thing!</p>
</dd>
<dt class="hdlist1">Rapid rate</dt>
<dd>
<p> <a id="glo:RapidRate"></a>The speed at which a rapid motion occurs.
In auto or mdi mode, rapid rate is usually the maximum speed of the machine.
It is often desirable to limit the rapid rate when
testing a g-code program for the first time.</p>
</dd>
<dt class="hdlist1">Real-time</dt>
<dd>
<p><a id="glo:real-time"></a> Software that is intended to meet
very strict timing deadlines. Under Linux, in order to meet these
requirements it is necessary to install a realtime kernel such
as RTAI and build the software to run in the special real-time
environment. For this reason real-time software runs in kernel-space.</p>
</dd>
<dt class="hdlist1">RTAI</dt>
<dd>
<p> <a id="glo:RTAI"></a> Real Time Application Interface, see
<a href="https://www.rtai.org/">https://www.rtai.org/</a>, the real-time extensions
for Linux that Machinekit can use to achieve real-time performance.</p>
</dd>
<dt class="hdlist1">RTLINUX</dt>
<dd>
<p><a id="glo:RTLINUX"></a> See
<a href="https://en.wikipedia.org/wiki/RTLinux">https://en.wikipedia.org/wiki/RTLinux</a>,
an older real-time extension for Linux that Machinekit used to use to
achieve real-time performance.  Obsolete, replaced by RTAI.</p>
</dd>
<dt class="hdlist1">RTAPI</dt>
<dd>
<p> A portable interface to real-time operating systems
including RTAI and RTLINUX</p>
</dd>
<dt class="hdlist1">RS-274/NGC</dt>
<dd>
<p> <a id="glo:RS274NGC"></a> The formal name for the language
used by Machinekit part programs.</p>
</dd>
<dt class="hdlist1">Servo Motor</dt>
<dd>
<p> <a id="glo:ServoMotor"></a> Generally, any motor that is used
with error-sensing feedback to correct the position of an actuator.
Also, a motor which is specially-designed to provide improved
performance in such applications.</p>
</dd>
<dt class="hdlist1">Servo Loop</dt>
<dd>
<p> <a id="glo:ServoLoop"></a> A control loop used to control position or
velocity of an motor equipped with a feedback device.</p>
</dd>
<dt class="hdlist1">Signed Integer</dt>
<dd>
<p>  A whole number that can have a positive or
negative sign. In HAL it is known as s32. (A signed 32-bit
integer has a usable range of -2,147,483,647 to +2,147,483,647.)</p>
</dd>
<dt class="hdlist1">Spindle</dt>
<dd>
<p> <a id="glo:Spindle"></a> The part of a machine tool that spins
to do the cutting. On a mill or drill, the spindle holds the
cutting tool. On a lathe, the spindle holds the workpiece.</p>
</dd>
<dt class="hdlist1">Spindle Speed Override</dt>
<dd>
<p> A manual, operator controlled change in the rate at which the tool
rotates while cutting. Often used to allow the operator to adjust for
chatter caused by the cutter&#8217;s teeth. Spindle Speed Override assumes
that the Machinekit software has been configured to control spindle speed.</p>
</dd>
<dt class="hdlist1">Stepconf</dt>
<dd>
<p> An Machinekit configuration wizard. It is able to handle many
step-and-direction motion command based machines. It writes a full
configuration after the user answers a few questions about the computer
and machine that Machinekit is to run on.</p>
</dd>
<dt class="hdlist1">Stepper Motor</dt>
<dd>
<p> <a id="glo:StepperMotor"></a> A type of motor that turns in
fixed steps. By counting steps, it is possible to determine how far the
motor has turned. If the load exceeds the torque capability of the
motor, it will skip one or more steps, causing position errors.</p>
</dd>
<dt class="hdlist1">TASK</dt>
<dd>
<p> <a id="glo:TASK"></a> The module within Machinekit that coordinates
the overall execution and interprets the part program.</p>
</dd>
<dt class="hdlist1">Tcl/Tk</dt>
<dd>
<p> [[glo:Tcl/Tk]] A scripting language and graphical widget toolkit
with which several of Machinekits GUIs and selection wizards were
written.</p>
</dd>
<dt class="hdlist1">Traverse Move</dt>
<dd>
<p>  A move in a straight line from the start point to
the end point.</p>
</dd>
<dt class="hdlist1">Units</dt>
<dd>
<p> See "Machine Units", "Display Units", or "Program Units".</p>
</dd>
<dt class="hdlist1">Unsigned Integer</dt>
<dd>
<p>  A whole number that has no sign. In HAL
it is known as u32. (An unsigned 32-bit integer has a usable range of
zero to 4,294,967,296.)</p>
</dd>
<dt class="hdlist1">World Coordinates</dt>
<dd>
<p> <a id="glo:World_Coordinates"></a> This is the absolute
frame of reference. It gives coordinates in terms of a fixed reference
frame that is attached to some point (generally the base) of the
machine tool.</p>
</dd>
</dl>
</div>
</div>
</div>
<div class="sect1">
<h2 id="legal-section">Legal Section</h2>
<div class="sectionbody">
<div class="sect2">
<h3 id="copyright-terms">Copyright Terms</h3>
<div class="paragraph">
<p>Copyright (c) 2000-2013 Machinekit.org</p>
</div>
<div class="paragraph">
<p>Permission is granted to copy, distribute and/or modify this document
under the terms of the GNU Free Documentation License, Version 1.1 or
any later version published by the Free Software Foundation; with no
Invariant Sections, no Front-Cover Texts, and one Back-Cover Text:
"This Machinekit Handbook is the product of several authors writing for
machinekit.io As you find it to be of value in your work, we invite you
to contribute to its revision and growth." A copy of the license is
included in the section entitled "GNU Free Documentation License". If
you do not find the license you may order a copy from Free Software
Foundation, Inc. 59 Temple Place, Suite 330, Boston, MA 02111-1307</p>
</div>
</div>
<div class="sect2">
<h3 id="gnu-free-documentation-license">GNU Free Documentation License</h3>
<div class="paragraph">
<p>GNU Free Documentation License Version 1.1, March 2000</p>
</div>
<div class="paragraph">
<p>Copyright &#169; 2000 Free Software Foundation, Inc. 59 Temple Place,
Suite 330, Boston, MA 02111-1307 USA Everyone is permitted to copy and
distribute verbatim copies of this license document, but changing it is
not allowed.</p>
</div>
<div class="paragraph">
<p><strong>0. PREAMBLE</strong></p>
</div>
<div class="paragraph">
<p>The purpose of this License is to make a manual, textbook, or other
written document "free" in the sense of freedom: to assure everyone the
effective freedom to copy and redistribute it, with or without
modifying it, either commercially or noncommercially. Secondarily, this
License preserves for the author and publisher a way to get credit for
their work, while not being considered responsible for modifications
made by others.</p>
</div>
<div class="paragraph">
<p>This License is a kind of "copyleft", which means that derivative
works of the document must themselves be free in the same sense. It
complements the GNU General Public License, which is a copyleft license
designed for free software.</p>
</div>
<div class="paragraph">
<p>We have designed this License in order to use it for manuals for free
software, because free software needs free documentation: a free
program should come with manuals providing the same freedoms that the
software does. But this License is not limited to software manuals; it
can be used for any textual work, regardless of subject matter or
whether it is published as a printed book. We recommend this License
principally for works whose purpose is instruction or reference.</p>
</div>
<div class="paragraph">
<p><strong>1. APPLICABILITY AND DEFINITIONS</strong></p>
</div>
<div class="paragraph">
<p>This License applies to any manual or other work that contains a
notice placed by the copyright holder saying it can be distributed
under the terms of this License. The "Document", below, refers to any
such manual or work. Any member of the public is a licensee, and is
addressed as "you".</p>
</div>
<div class="paragraph">
<p>A "Modified Version" of the Document means any work containing the
Document or a portion of it, either copied verbatim, or with
modifications and/or translated into another language.</p>
</div>
<div class="paragraph">
<p>A "Secondary Section" is a named appendix or a front-matter section of
the Document that deals exclusively with the relationship of the
publishers or authors of the Document to the Document&#8217;s overall subject
(or to related matters) and contains nothing that could fall directly
within that overall subject. (For example, if the Document is in part a
textbook of mathematics, a Secondary Section may not explain any
mathematics.) The relationship could be a matter of historical
connection with the subject or with related matters, or of legal,
commercial, philosophical, ethical or political position regarding
them.</p>
</div>
<div class="paragraph">
<p>The "Invariant Sections" are certain Secondary Sections whose titles
are designated, as being those of Invariant Sections, in the notice
that says that the Document is released under this License.</p>
</div>
<div class="paragraph">
<p>The "Cover Texts" are certain short passages of text that are listed,
as Front-Cover Texts or Back-Cover Texts, in the notice that says that
the Document is released under this License.</p>
</div>
<div class="paragraph">
<p>A "Transparent" copy of the Document means a machine-readable copy,
represented in a format whose specification is available to the general
public, whose contents can be viewed and edited directly and
straightforwardly with generic text editors or (for images composed of
pixels) generic paint programs or (for drawings) some widely available
drawing editor, and that is suitable for input to text formatters or
for automatic translation to a variety of formats suitable for input to
text formatters. A copy made in an otherwise Transparent file format
whose markup has been designed to thwart or discourage subsequent
modification by readers is not Transparent. A copy that is not
"Transparent" is called "Opaque".</p>
</div>
<div class="paragraph">
<p>Examples of suitable formats for Transparent copies include plain
ASCII without markup, Texinfo input format, LaTeX input format, SGML or
XML using a publicly available DTD, and standard-conforming simple HTML
designed for human modification. Opaque formats include PostScript,
PDF, proprietary formats that can be read and edited only by
proprietary word processors, SGML or XML for which the DTD and/or
processing tools are not generally available, and the machine-generated
HTML produced by some word processors for output purposes only.</p>
</div>
<div class="paragraph">
<p>The "Title Page" means, for a printed book, the title page itself,
plus such following pages as are needed to hold, legibly, the material
this License requires to appear in the title page. For works in formats
which do not have any title page as such, "Title Page" means the text
near the most prominent appearance of the work&#8217;s title, preceding the
beginning of the body of the text.</p>
</div>
<div class="paragraph">
<p><strong>2. VERBATIM COPYING</strong></p>
</div>
<div class="paragraph">
<p>You may copy and distribute the Document in any medium, either
commercially or noncommercially, provided that this License, the
copyright notices, and the license notice saying this License applies
to the Document are reproduced in all copies, and that you add no other
conditions whatsoever to those of this License. You may not use
technical measures to obstruct or control the reading or further
copying of the copies you make or distribute. However, you may accept
compensation in exchange for copies. If you distribute a large enough
number of copies you must also follow the conditions in section 3.</p>
</div>
<div class="paragraph">
<p>You may also lend copies, under the same conditions stated above, and
you may publicly display copies.</p>
</div>
<div class="paragraph">
<p><strong>3. COPYING IN QUANTITY</strong></p>
</div>
<div class="paragraph">
<p>If you publish printed copies of the Document numbering more than 100,
and the Document&#8217;s license notice requires Cover Texts, you must
enclose the copies in covers that carry, clearly and legibly, all these
Cover Texts: Front-Cover Texts on the front cover, and Back-Cover Texts
on the back cover. Both covers must also clearly and legibly identify
you as the publisher of these copies. The front cover must present the
full title with all words of the title equally prominent and visible.
You may add other material on the covers in addition. Copying with
changes limited to the covers, as long as they preserve the title of
the Document and satisfy these conditions, can be treated as verbatim
copying in other respects.</p>
</div>
<div class="paragraph">
<p>If the required texts for either cover are too voluminous to fit
legibly, you should put the first ones listed (as many as fit
reasonably) on the actual cover, and continue the rest onto adjacent
pages.</p>
</div>
<div class="paragraph">
<p>If you publish or distribute Opaque copies of the Document numbering
more than 100, you must either include a machine-readable Transparent
copy along with each Opaque copy, or state in or with each Opaque copy
a publicly-accessible computer-network location containing a complete
Transparent copy of the Document, free of added material, which the
general network-using public has access to download anonymously at no
charge using public-standard network protocols. If you use the latter
option, you must take reasonably prudent steps, when you begin
distribution of Opaque copies in quantity, to ensure that this
Transparent copy will remain thus accessible at the stated location
until at least one year after the last time you distribute an Opaque
copy (directly or through your agents or retailers) of that edition to
the public.</p>
</div>
<div class="paragraph">
<p>It is requested, but not required, that you contact the authors of the
Document well before redistributing any large number of copies, to give
them a chance to provide you with an updated version of the Document.</p>
</div>
<div class="paragraph">
<p><strong>4. MODIFICATIONS</strong></p>
</div>
<div class="paragraph">
<p>You may copy and distribute a Modified Version of the Document under
the conditions of sections 2 and 3 above, provided that you release the
Modified Version under precisely this License, with the Modified
Version filling the role of the Document, thus licensing distribution
and modification of the Modified Version to whoever possesses a copy of
it. In addition, you must do these things in the Modified Version:</p>
</div>
<div class="olist upperalpha">
<ol class="upperalpha" type="A">
<li>
<p>Use in the Title Page (and on the covers, if any) a title distinct
from that of the Document, and from those of previous versions (which
should, if there were any, be listed in the History section of the
Document). You may use the same title as a previous version if the
original publisher of that version gives permission. B. List on the
Title Page, as authors, one or more persons or entities responsible for
authorship of the modifications in the Modified Version, together with
at least five of the principal authors of the Document (all of its
principal authors, if it has less than five). C. State on the Title
page the name of the publisher of the Modified Version, as the
publisher. D. Preserve all the copyright notices of the Document. E.
Add an appropriate copyright notice for your modifications adjacent to
the other copyright notices. F. Include, immediately after the
copyright notices, a license notice giving the public permission to use
the Modified Version under the terms of this License, in the form shown
in the Addendum below. G. Preserve in that license notice the full
lists of Invariant Sections and required Cover Texts given in the
Document&#8217;s license notice. H. Include an unaltered copy of this
License. I. Preserve the section entitled "History", and its title, and
add to it an item stating at least the title, year, new authors, and
publisher of the Modified Version as given on the Title Page. If there
is no section entitled "History" in the Document, create one stating
the title, year, authors, and publisher of the Document as given on its
Title Page, then add an item describing the Modified Version as stated
in the previous sentence. J. Preserve the network location, if any,
given in the Document for public access to a Transparent copy of the
Document, and likewise the network locations given in the Document for
previous versions it was based on. These may be placed in the "History"
section. You may omit a network location for a work that was published
at least four years before the Document itself, or if the original
publisher of the version it refers to gives permission. K. In any
section entitled "Acknowledgements" or "Dedications", preserve the
section&#8217;s title, and preserve in the section all the substance and tone
of each of the contributor acknowledgements and/or dedications given
therein. L. Preserve all the Invariant Sections of the Document,
unaltered in their text and in their titles. Section numbers or the
equivalent are not considered part of the section titles. M. Delete any
section entitled "Endorsements". Such a section may not be included in
the Modified Version. N. Do not retitle any existing section as
"Endorsements" or to conflict in title with any Invariant Section.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>If the Modified Version includes new front-matter sections or
appendices that qualify as Secondary Sections and contain no material
copied from the Document, you may at your option designate some or all
of these sections as invariant. To do this, add their titles to the
list of Invariant Sections in the Modified Version&#8217;s license notice.
These titles must be distinct from any other section titles.</p>
</div>
<div class="paragraph">
<p>You may add a section entitled "Endorsements", provided it contains
nothing but endorsements of your Modified Version by various
parties&#8212;&#8203;for example, statements of peer review or that the text has
been approved by an organization as the authoritative definition of a
standard.</p>
</div>
<div class="paragraph">
<p>You may add a passage of up to five words as a Front-Cover Text, and a
passage of up to 25 words as a Back-Cover Text, to the end of the list
of Cover Texts in the Modified Version. Only one passage of Front-Cover
Text and one of Back-Cover Text may be added by (or through
arrangements made by) any one entity. If the Document already includes
a cover text for the same cover, previously added by you or by
arrangement made by the same entity you are acting on behalf of, you
may not add another; but you may replace the old one, on explicit
permission from the previous publisher that added the old one.</p>
</div>
<div class="paragraph">
<p>The author(s) and publisher(s) of the Document do not by this License
give permission to use their names for publicity for or to assert or
imply endorsement of any Modified Version.</p>
</div>
<div class="paragraph">
<p><strong>5. COMBINING DOCUMENTS</strong></p>
</div>
<div class="paragraph">
<p>You may combine the Document with other documents released under this
License, under the terms defined in section 4 above for modified
versions, provided that you include in the combination all of the
Invariant Sections of all of the original documents, unmodified, and
list them all as Invariant Sections of your combined work in its
license notice.</p>
</div>
<div class="paragraph">
<p>The combined work need only contain one copy of this License, and
multiple identical Invariant Sections may be replaced with a single
copy. If there are multiple Invariant Sections with the same name but
different contents, make the title of each such section unique by
adding at the end of it, in parentheses, the name of the original
author or publisher of that section if known, or else a unique number.
Make the same adjustment to the section titles in the list of Invariant
Sections in the license notice of the combined work.</p>
</div>
<div class="paragraph">
<p>In the combination, you must combine any sections entitled "History"
in the various original documents, forming one section entitled
"History"; likewise combine any sections entitled "Acknowledgements",
and any sections entitled "Dedications". You must delete all sections
entitled "Endorsements."</p>
</div>
<div class="paragraph">
<p><strong>6. COLLECTIONS OF DOCUMENTS</strong></p>
</div>
<div class="paragraph">
<p>You may make a collection consisting of the Document and other
documents released under this License, and replace the individual
copies of this License in the various documents with a single copy that
is included in the collection, provided that you follow the rules of
this License for verbatim copying of each of the documents in all other
respects.</p>
</div>
<div class="paragraph">
<p>You may extract a single document from such a collection, and
distribute it individually under this License, provided you insert a
copy of this License into the extracted document, and follow this
License in all other respects regarding verbatim copying of that
document.</p>
</div>
<div class="paragraph">
<p><strong>7. AGGREGATION WITH INDEPENDENT WORKS</strong></p>
</div>
<div class="paragraph">
<p>A compilation of the Document or its derivatives with other separate
and independent documents or works, in or on a volume of a storage or
distribution medium, does not as a whole count as a Modified Version of
the Document, provided no compilation copyright is claimed for the
compilation. Such a compilation is called an "aggregate", and this
License does not apply to the other self-contained works thus compiled
with the Document, on account of their being thus compiled, if they are
not themselves derivative works of the Document.</p>
</div>
<div class="paragraph">
<p>If the Cover Text requirement of section 3 is applicable to these
copies of the Document, then if the Document is less than one quarter
of the entire aggregate, the Document&#8217;s Cover Texts may be placed on
covers that surround only the Document within the aggregate. Otherwise
they must appear on covers around the whole aggregate.</p>
</div>
<div class="paragraph">
<p><strong>8. TRANSLATION</strong></p>
</div>
<div class="paragraph">
<p>Translation is considered a kind of modification, so you may
distribute translations of the Document under the terms of section 4.
Replacing Invariant Sections with translations requires special
permission from their copyright holders, but you may include
translations of some or all Invariant Sections in addition to the
original versions of these Invariant Sections. You may include a
translation of this License provided that you also include the original
English version of this License. In case of a disagreement between the
translation and the original English version of this License, the
original English version will prevail.</p>
</div>
<div class="paragraph">
<p><strong>9. TERMINATION</strong></p>
</div>
<div class="paragraph">
<p>You may not copy, modify, sublicense, or distribute the Document
except as expressly provided for under this License. Any other attempt
to copy, modify, sublicense or distribute the Document is void, and
will automatically terminate your rights under this License. However,
parties who have received copies, or rights, from you under this
License will not have their licenses terminated so long as such parties
remain in full compliance.</p>
</div>
<div class="paragraph">
<p><strong>10. FUTURE REVISIONS OF THIS LICENSE</strong></p>
</div>
<div class="paragraph">
<p>The Free Software Foundation may publish new, revised versions of the
GNU Free Documentation License from time to time. Such new versions
will be similar in spirit to the present version, but may differ in
detail to address new problems or concerns. See
<a href="http://www.gnu.org/copyleft/" class="bare">http://www.gnu.org/copyleft/</a>.</p>
</div>
<div class="paragraph">
<p>Each version of the License is given a distinguishing version number.
If the Document specifies that a particular numbered version of this
License "or any later version" applies to it, you have the option of
following the terms and conditions either of that specified version or
of any later version that has been published (not as a draft) by the
Free Software Foundation. If the Document does not specify a version
number of this License, you may choose any version ever published (not
as a draft) by the Free Software Foundation.</p>
</div>
<div class="paragraph">
<p><strong>ADDENDUM</strong>: How to use this License for your documents</p>
</div>
<div class="paragraph">
<p>To use this License in a document you have written, include a copy of
the License in the document and put the following copyright and license
notices just after the title page:</p>
</div>
<div class="paragraph">
<p>Copyright (c) YEAR YOUR NAME. Permission is granted to copy,
distribute and/or modify this document under the terms of the GNU Free
Documentation License, Version 1.1 or any later version published by
the Free Software Foundation; with the Invariant Sections being LIST
THEIR TITLES, with the Front-Cover Texts being LIST, and with the
Back-Cover Texts being LIST. A copy of the license is included in the
section entitled "GNU Free Documentation License".</p>
</div>
<div class="paragraph">
<p>If you have no Invariant Sections, write "with no Invariant Sections"
instead of saying which ones are invariant. If you have no Front-Cover
Texts, write "no Front-Cover Texts" instead of "Front-Cover Texts being
LIST"; likewise for Back-Cover Texts.</p>
</div>
<div class="paragraph">
<p>If your document contains nontrivial examples of program code, we
recommend releasing these examples in parallel under your choice of
free software license, such as the GNU General Public License, to
permit their use in free software.</p>
</div>
</div>
</div>
</div>
<div id="footnotes">
<hr>
<div class="footnote" id="_footnote_1">
<a href="#_footnoteref_1">1</a>. For some of these actions it might be necessary to change the mode Machinekit is currently running in.
</div>
<div class="footnote" id="_footnote_2">
<a href="#_footnoteref_2">2</a>. Much of this chapter quotes from a chapter of the Sherline CNC Operators Manual.
</div>
<div class="footnote" id="_footnote_3">
<a href="#_footnoteref_3">3</a>. If the motion of mechanical components is not independent, as with hexapod machines, the RS274/NGC language and the canonical machining functions will still be usable, as long as the lower levels of control know how to control the actual mechanisms to produce the same relative motion of tool and workpiece as would be produced by independent axes. This is called 'kinematics'.
</div>
<div class="footnote" id="_footnote_4">
<a href="#_footnoteref_4">4</a>. If the parallelism requirement is violated, the system builder will have to say how to distinguish clockwise from counterclockwise.
</div>
<div class="footnote" id="_footnote_5">
<a href="#_footnoteref_5">5</a>. Although tool numbers up to 99999 are allowed, the number of entries in the tool table, at the moment, is still limited to a maximum of 56 tools for technical reasons. The Machinekit developers plan to remove that limitation eventually. If you have a very large tool changer, please be patient.
</div>
<div class="footnote" id="_footnote_6">
<a href="#_footnoteref_6">6</a>. The range of persistent parameters may change as development progresses. This range is currently 5161- 5390. It is defined in the '_required_parameters array' in file the src/emc/rs274ngc/interp_array.cc .
</div>
<div class="footnote" id="_footnote_7">
<a href="#_footnoteref_7">7</a>. The RS274/NGC interpreter maintains an array of numbered parameters. Its size is defined by the symbol <code>RS274NGC_MAX_PARAMETERS</code> in the file src/emc/rs274ngc/interp_internal.hh). This number of numerical parameters may also increase as development adds support for new parameters.
</div>
</div>
          <div class="section-nav-docs">
  <div class="left align-right">
  </div>
  <div class="right align-left">
  </div>
  <div class="clear"></div>
</div>

        </article>
      </div>

      <div class="unit one-fifth hide-on-mobiles">
  <aside>
    
    <h4>For starters</h4>
    

<ul>

  

  

  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
      <li class=""><a href="http://test.machinekit.io/docs/index-getting-started/">
	  Getting Started</a></li>
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  


  

  

  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
      <li class="current"><a href="http://test.machinekit.io/docs/index-user/">
	  Machinekit Introduction</a></li>
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  


  

  

  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
      <li class=""><a href="http://test.machinekit.io/docs/index-HAL/">
	  Hardware Abstract Layer</a></li>
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  


  

  

  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
      <li class=""><a href="http://test.machinekit.io/docs/getting-help/">
	  Getting help</a></li>
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  


</ul>

    
    <h4>Developing</h4>
    

<ul>

  

  

  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
      <li class=""><a href="http://test.machinekit.io/docs/index-integrator/">
	  Integrator Manual</a></li>
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  


  

  

  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
      <li class=""><a href="http://test.machinekit.io/docs/index-developer/">
	  Developer manual</a></li>
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  


  

  

  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
      <li class=""><a href="http://test.machinekit.io/docs/documenting/documenting/">
	  Documenting</a></li>
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  


  

  

  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
      <li class=""><a href="http://test.machinekit.io/docs/developing/develop-index/">
	  Various developing links</a></li>
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  


</ul>

    
    <h4>Manpages</h4>
    

<ul>

  

  

  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
      <li class=""><a href="http://test.machinekit.io/docs/man/man1/">
	  HAL Utilities and GUIs</a></li>
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  


  

  

  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
      <li class=""><a href="http://test.machinekit.io/docs/man/man3/">
	  RTAPI and HAL Functions</a></li>
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  


  

  

  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
      <li class=""><a href="http://test.machinekit.io/docs/man/man9/">
	  HAL Components</a></li>
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  


</ul>

    
    <sandbox>
    <div class="unit align-left center-on-mobiles">
      <p>
        <a href="http://preview.machinekit.io/docs/sandbox/index.html"> SandBox </a>
      </p>
    </div>
</sandbox>

    <search-bar>
  <div class="grid">
    <div class="unit align-left center-on-mobiles">
      <p>
        <div class="top-search">
        <form method="get" id="searchform" id="searchbox_013132401186084955638:rss8-mkzi3u" action="http://preview.machinekit.io/search-result.html">
        <div>
        <input value="013132401186084955638:rss8-mkzi3u" name="cx" type="hidden"/>
        <input value="FORID:11" name="cof" type="hidden"/>
        Search:<BR>
        <input type="text" value="" name="s" id="s" onfocus="defaultInput(this)" onblur="clearInput(this)" />
        </div>
        </form>
        </div>
      </p>
    </div>
  </div>
</search-bar>

    


<a href=https://github.com/machinekit/machinekit-docs//edit/master/docs/index-user.asciidoc>Edit this page</a>




  </aside>
</div>


      <div class="clear"></div>

    </div>
  </section>

  </div>
  <footer>
  <div class="grid">
    <div class="unit two-thirds align-right center-on-mobiles">
      <p>
      </p>
    </div>
  </div>
</footer>

  

</body>
</html>
